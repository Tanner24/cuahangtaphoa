function Ag(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();var Oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _f={exports:{}},uo={},Mf={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),jg=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Lg=Symbol.for("react.memo"),Bg=Symbol.for("react.lazy"),I0=Symbol.iterator;function Pg(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,Df={};function mi(e,t,r){this.props=e,this.context=t,this.refs=Df,this.updater=r||Rf}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lf(){}Lf.prototype=mi.prototype;function qu(e,t,r){this.props=e,this.context=t,this.refs=Df,this.updater=r||Rf}var $u=qu.prototype=new Lf;$u.constructor=qu;Of($u,mi.prototype);$u.isPureReactComponent=!0;var j0=Array.isArray,Bf=Object.prototype.hasOwnProperty,Ju={current:null},Pf={key:!0,ref:!0,__self:!0,__source:!0};function Ff(e,t,r){var a,c={},d=null,x=null;if(t!=null)for(a in t.ref!==void 0&&(x=t.ref),t.key!==void 0&&(d=""+t.key),t)Bf.call(t,a)&&!Pf.hasOwnProperty(a)&&(c[a]=t[a]);var y=arguments.length-2;if(y===1)c.children=r;else if(1<y){for(var w=Array(y),g=0;g<y;g++)w[g]=arguments[g+2];c.children=w}if(e&&e.defaultProps)for(a in y=e.defaultProps,y)c[a]===void 0&&(c[a]=y[a]);return{$$typeof:Sa,type:e,key:d,ref:x,props:c,_owner:Ju.current}}function Fg(e,t){return{$$typeof:Sa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sa}function Ug(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var k0=/\/+/g;function rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ug(""+e.key):t.toString(36)}function ml(e,t,r,a,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case Sa:case Ig:x=!0}}if(x)return x=e,c=c(x),e=a===""?"."+rc(x,0):a,j0(c)?(r="",e!=null&&(r=e.replace(k0,"$&/")+"/"),ml(c,t,r,"",function(g){return g})):c!=null&&(ed(c)&&(c=Fg(c,r+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(k0,"$&/")+"/")+e)),t.push(c)),1;if(x=0,a=a===""?".":a+":",j0(e))for(var y=0;y<e.length;y++){d=e[y];var w=a+rc(d,y);x+=ml(d,t,r,w,c)}else if(w=Pg(e),typeof w=="function")for(e=w.call(e),y=0;!(d=e.next()).done;)d=d.value,w=a+rc(d,y++),x+=ml(d,t,r,w,c);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return x}function Qa(e,t,r){if(e==null)return e;var a=[],c=0;return ml(e,a,"","",function(d){return t.call(r,d,c++)}),a}function zg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},yl={transition:null},Hg={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:yl,ReactCurrentOwner:Ju};function Uf(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Qa,forEach:function(e,t,r){Qa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qa(e,function(){t++}),t},toArray:function(e){return Qa(e,function(t){return t})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=mi;Me.Fragment=jg;Me.Profiler=_g;Me.PureComponent=qu;Me.StrictMode=kg;Me.Suspense=Dg;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hg;Me.act=Uf;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Of({},e.props),c=e.key,d=e.ref,x=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,x=Ju.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(w in t)Bf.call(t,w)&&!Pf.hasOwnProperty(w)&&(a[w]=t[w]===void 0&&y!==void 0?y[w]:t[w])}var w=arguments.length-2;if(w===1)a.children=r;else if(1<w){y=Array(w);for(var g=0;g<w;g++)y[g]=arguments[g+2];a.children=y}return{$$typeof:Sa,type:e.type,key:c,ref:d,props:a,_owner:x}};Me.createContext=function(e){return e={$$typeof:Rg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mg,_context:e},e.Consumer=e};Me.createElement=Ff;Me.createFactory=function(e){var t=Ff.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:Og,render:e}};Me.isValidElement=ed;Me.lazy=function(e){return{$$typeof:Bg,_payload:{_status:-1,_result:e},_init:zg}};Me.memo=function(e,t){return{$$typeof:Lg,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};Me.unstable_act=Uf;Me.useCallback=function(e,t){return $t.current.useCallback(e,t)};Me.useContext=function(e){return $t.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};Me.useEffect=function(e,t){return $t.current.useEffect(e,t)};Me.useId=function(){return $t.current.useId()};Me.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return $t.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};Me.useRef=function(e){return $t.current.useRef(e)};Me.useState=function(e){return $t.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return $t.current.useTransition()};Me.version="18.3.1";Mf.exports=Me;var M=Mf.exports;const zf=Tg(M),Vg=Ag({__proto__:null,default:zf},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=M,Gg=Symbol.for("react.element"),Xg=Symbol.for("react.fragment"),Yg=Object.prototype.hasOwnProperty,Kg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qg={key:!0,ref:!0,__self:!0,__source:!0};function Hf(e,t,r){var a,c={},d=null,x=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(x=t.ref);for(a in t)Yg.call(t,a)&&!Qg.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)c[a]===void 0&&(c[a]=t[a]);return{$$typeof:Gg,type:e,key:d,ref:x,props:c,_owner:Kg.current}}uo.Fragment=Xg;uo.jsx=Hf;uo.jsxs=Hf;_f.exports=uo;var l=_f.exports,Uc={},Vf={exports:{}},Nn={},Wf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ue){var me=G.length;G.push(ue);e:for(;0<me;){var Te=me-1>>>1,ve=G[Te];if(0<c(ve,ue))G[Te]=ue,G[me]=ve,me=Te;else break e}}function r(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ue=G[0],me=G.pop();if(me!==ue){G[0]=me;e:for(var Te=0,ve=G.length,X=ve>>>1;Te<X;){var q=2*(Te+1)-1,_e=G[q],le=q+1,gt=G[le];if(0>c(_e,me))le<ve&&0>c(gt,_e)?(G[Te]=gt,G[le]=me,Te=le):(G[Te]=_e,G[q]=me,Te=q);else if(le<ve&&0>c(gt,me))G[Te]=gt,G[le]=me,Te=le;else break e}}return ue}function c(G,ue){var me=G.sortIndex-ue.sortIndex;return me!==0?me:G.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,y=x.now();e.unstable_now=function(){return x.now()-y}}var w=[],g=[],b=1,N=null,A=3,D=!1,R=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var ue=r(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=G)a(g),ue.sortIndex=ue.expirationTime,t(w,ue);else break;ue=r(g)}}function U(G){if(O=!1,T(G),!R)if(r(w)!==null)R=!0,Ce(H);else{var ue=r(g);ue!==null&&ne(U,ue.startTime-G)}}function H(G,ue){R=!1,O&&(O=!1,j(J),J=-1),D=!0;var me=A;try{for(T(ue),N=r(w);N!==null&&(!(N.expirationTime>ue)||G&&!ce());){var Te=N.callback;if(typeof Te=="function"){N.callback=null,A=N.priorityLevel;var ve=Te(N.expirationTime<=ue);ue=e.unstable_now(),typeof ve=="function"?N.callback=ve:N===r(w)&&a(w),T(ue)}else a(w);N=r(w)}if(N!==null)var X=!0;else{var q=r(g);q!==null&&ne(U,q.startTime-ue),X=!1}return X}finally{N=null,A=me,D=!1}}var P=!1,z=null,J=-1,$=5,ge=-1;function ce(){return!(e.unstable_now()-ge<$)}function de(){if(z!==null){var G=e.unstable_now();ge=G;var ue=!0;try{ue=z(!0,G)}finally{ue?he():(P=!1,z=null)}}else P=!1}var he;if(typeof I=="function")he=function(){I(de)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Y=ie.port2;ie.port1.onmessage=de,he=function(){Y.postMessage(null)}}else he=function(){L(de,0)};function Ce(G){z=G,P||(P=!0,he())}function ne(G,ue){J=L(function(){G(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){R||D||(R=!0,Ce(H))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return r(w)},e.unstable_next=function(G){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var me=A;A=ue;try{return G()}finally{A=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=A;A=G;try{return ue()}finally{A=me}},e.unstable_scheduleCallback=function(G,ue,me){var Te=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Te+me:Te):me=Te,G){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=me+ve,G={id:b++,callback:ue,priorityLevel:G,startTime:me,expirationTime:ve,sortIndex:-1},me>Te?(G.sortIndex=me,t(g,G),r(w)===null&&G===r(g)&&(O?(j(J),J=-1):O=!0,ne(U,me-Te))):(G.sortIndex=ve,t(w,G),R||D||(R=!0,Ce(H))),G},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(G){var ue=A;return function(){var me=A;A=ue;try{return G.apply(this,arguments)}finally{A=me}}}})(Gf);Wf.exports=Gf;var Zg=Wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=M,vn=Zg;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xf=new Set,ia={};function Is(e,t){ci(e,t),ci(e+"Capture",t)}function ci(e,t){for(ia[e]=t,e=0;e<t.length;e++)Xf.add(t[e])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=Object.prototype.hasOwnProperty,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},M0={};function Jg(e){return zc.call(M0,e)?!0:zc.call(_0,e)?!1:$g.test(e)?M0[e]=!0:(_0[e]=!0,!1)}function em(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tm(e,t,r,a){if(t===null||typeof t>"u"||em(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,a,c,d,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=x}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var td=/[\-:]([a-z])/g;function nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(td,nd);Ft[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(td,nd);Ft[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(td,nd);Ft[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rd(e,t,r,a){var c=Ft.hasOwnProperty(t)?Ft[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tm(t,r,c,a)&&(r=null),a||c===null?Jg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,a=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var Cr=qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),Hc=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Kf=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),Vc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),Qf=Symbol.for("react.offscreen"),R0=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=R0&&e[R0]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,sc;function Wi(e){if(sc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sc=t&&t[1]||""}return`
`+sc+e}var ic=!1;function ac(e,t){if(!e||ic)return"";ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var a=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){a=g}e.call(t.prototype)}else{try{throw Error()}catch(g){a=g}e()}}catch(g){if(g&&a&&typeof g.stack=="string"){for(var c=g.stack.split(`
`),d=a.stack.split(`
`),x=c.length-1,y=d.length-1;1<=x&&0<=y&&c[x]!==d[y];)y--;for(;1<=x&&0<=y;x--,y--)if(c[x]!==d[y]){if(x!==1||y!==1)do if(x--,y--,0>y||c[x]!==d[y]){var w=`
`+c[x].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=x&&0<=y);break}}}finally{ic=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wi(e):""}function nm(e){switch(e.tag){case 5:return Wi(e.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 2:case 15:return e=ac(e.type,!1),e;case 11:return e=ac(e.type.render,!1),e;case 1:return e=ac(e.type,!0),e;default:return""}}function Gc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ws:return"Fragment";case Vs:return"Portal";case Hc:return"Profiler";case sd:return"StrictMode";case Vc:return"Suspense";case Wc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kf:return(e.displayName||"Context")+".Consumer";case Yf:return(e._context.displayName||"Context")+".Provider";case id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ad:return t=e.displayName||null,t!==null?t:Gc(e.type)||"Memo";case Or:t=e._payload,e=e._init;try{return Gc(e(t))}catch{}}return null}function rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gc(t);case 8:return t===sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sm(e){var t=Zf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qa(e){e._valueTracker||(e._valueTracker=sm(e))}function qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Zf(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xc(e,t){var r=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function O0(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=qr(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $f(e,t){t=t.checked,t!=null&&rd(e,"checked",t,!1)}function Yc(e,t){$f(e,t);var r=qr(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kc(e,t.type,qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function D0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kc(e,t,r){(t!=="number"||Ol(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gi=Array.isArray;function ni(e,t,r,a){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&a&&(e[r].defaultSelected=!0)}else{for(r=""+qr(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Gi(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qr(r)}}function Jf(e,t){var r=qr(t.value),a=qr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function B0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $a,t1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function aa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},im=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(e){im.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ki[t]=Ki[e]})});function n1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ki.hasOwnProperty(e)&&Ki[e]?(""+t).trim():t+"px"}function r1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,c=n1(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,c):e[r]=c}}var am=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qc(e,t){if(t){if(am[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function $c(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,ri=null,si=null;function P0(e){if(e=Ia(e)){if(typeof eu!="function")throw Error(re(280));var t=e.stateNode;t&&(t=go(t),eu(e.stateNode,e.type,t))}}function s1(e){ri?si?si.push(e):si=[e]:ri=e}function i1(){if(ri){var e=ri,t=si;if(si=ri=null,P0(e),t)for(e=0;e<t.length;e++)P0(t[e])}}function a1(e,t){return e(t)}function l1(){}var lc=!1;function o1(e,t,r){if(lc)return e(t,r);lc=!0;try{return a1(e,t,r)}finally{lc=!1,(ri!==null||si!==null)&&(l1(),i1())}}function la(e,t){var r=e.stateNode;if(r===null)return null;var a=go(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var tu=!1;if(yr)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){tu=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{tu=!1}function lm(e,t,r,a,c,d,x,y,w){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(b){this.onError(b)}}var Qi=!1,Dl=null,Ll=!1,nu=null,om={onError:function(e){Qi=!0,Dl=e}};function cm(e,t,r,a,c,d,x,y,w){Qi=!1,Dl=null,lm.apply(om,arguments)}function um(e,t,r,a,c,d,x,y,w){if(cm.apply(this,arguments),Qi){if(Qi){var g=Dl;Qi=!1,Dl=null}else throw Error(re(198));Ll||(Ll=!0,nu=g)}}function js(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function c1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F0(e){if(js(e)!==e)throw Error(re(188))}function dm(e){var t=e.alternate;if(!t){if(t=js(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,a=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){r=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return F0(c),e;if(d===a)return F0(c),t;d=d.sibling}throw Error(re(188))}if(r.return!==a.return)r=c,a=d;else{for(var x=!1,y=c.child;y;){if(y===r){x=!0,r=c,a=d;break}if(y===a){x=!0,a=c,r=d;break}y=y.sibling}if(!x){for(y=d.child;y;){if(y===r){x=!0,r=d,a=c;break}if(y===a){x=!0,a=d,r=c;break}y=y.sibling}if(!x)throw Error(re(189))}}if(r.alternate!==a)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function u1(e){return e=dm(e),e!==null?d1(e):null}function d1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d1(e);if(t!==null)return t;e=e.sibling}return null}var h1=vn.unstable_scheduleCallback,U0=vn.unstable_cancelCallback,hm=vn.unstable_shouldYield,fm=vn.unstable_requestPaint,yt=vn.unstable_now,xm=vn.unstable_getCurrentPriorityLevel,od=vn.unstable_ImmediatePriority,f1=vn.unstable_UserBlockingPriority,Bl=vn.unstable_NormalPriority,pm=vn.unstable_LowPriority,x1=vn.unstable_IdlePriority,ho=null,ir=null;function gm(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:wm,mm=Math.log,ym=Math.LN2;function wm(e){return e>>>=0,e===0?32:31-(mm(e)/ym|0)|0}var Ja=64,el=4194304;function Xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pl(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,x=r&268435455;if(x!==0){var y=x&~c;y!==0?a=Xi(y):(d&=x,d!==0&&(a=Xi(d)))}else x=r&~c,x!==0?a=Xi(x):d!==0&&(a=Xi(d));if(a===0)return 0;if(t!==0&&t!==a&&!(t&c)&&(c=a&-a,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Vn(t),c=1<<r,a|=e[r],t&=~c;return a}function bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vm(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-Vn(d),y=1<<x,w=c[x];w===-1?(!(y&r)||y&a)&&(c[x]=bm(y,t)):w<=t&&(e.expiredLanes|=y),d&=~y}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p1(){var e=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),e}function oc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Aa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=r}function Nm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var c=31-Vn(r),d=1<<c;t[c]=0,a[c]=-1,e[c]=-1,r&=~d}}function cd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Vn(r),c=1<<a;c&t|e[a]&t&&(e[a]|=t),r&=~c}}var Ge=0;function g1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m1,ud,y1,w1,b1,su=!1,tl=[],Hr=null,Vr=null,Wr=null,oa=new Map,ca=new Map,Lr=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(e,t){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function Bi(e,t,r,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Ia(t),t!==null&&ud(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Em(e,t,r,a,c){switch(t){case"focusin":return Hr=Bi(Hr,e,t,r,a,c),!0;case"dragenter":return Vr=Bi(Vr,e,t,r,a,c),!0;case"mouseover":return Wr=Bi(Wr,e,t,r,a,c),!0;case"pointerover":var d=c.pointerId;return oa.set(d,Bi(oa.get(d)||null,e,t,r,a,c)),!0;case"gotpointercapture":return d=c.pointerId,ca.set(d,Bi(ca.get(d)||null,e,t,r,a,c)),!0}return!1}function v1(e){var t=ps(e.target);if(t!==null){var r=js(t);if(r!==null){if(t=r.tag,t===13){if(t=c1(r),t!==null){e.blockedOn=t,b1(e.priority,function(){y1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Jc=a,r.target.dispatchEvent(a),Jc=null}else return t=Ia(r),t!==null&&ud(t),e.blockedOn=r,!1;t.shift()}return!0}function H0(e,t,r){wl(e)&&r.delete(t)}function Sm(){su=!1,Hr!==null&&wl(Hr)&&(Hr=null),Vr!==null&&wl(Vr)&&(Vr=null),Wr!==null&&wl(Wr)&&(Wr=null),oa.forEach(H0),ca.forEach(H0)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,Sm)))}function ua(e){function t(c){return Pi(c,e)}if(0<tl.length){Pi(tl[0],e);for(var r=1;r<tl.length;r++){var a=tl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Hr!==null&&Pi(Hr,e),Vr!==null&&Pi(Vr,e),Wr!==null&&Pi(Wr,e),oa.forEach(t),ca.forEach(t),r=0;r<Lr.length;r++)a=Lr[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)v1(r),r.blockedOn===null&&Lr.shift()}var ii=Cr.ReactCurrentBatchConfig,Fl=!0;function Am(e,t,r,a){var c=Ge,d=ii.transition;ii.transition=null;try{Ge=1,dd(e,t,r,a)}finally{Ge=c,ii.transition=d}}function Tm(e,t,r,a){var c=Ge,d=ii.transition;ii.transition=null;try{Ge=4,dd(e,t,r,a)}finally{Ge=c,ii.transition=d}}function dd(e,t,r,a){if(Fl){var c=iu(e,t,r,a);if(c===null)yc(e,t,a,Ul,r),z0(e,a);else if(Em(c,e,t,r,a))a.stopPropagation();else if(z0(e,a),t&4&&-1<Cm.indexOf(e)){for(;c!==null;){var d=Ia(c);if(d!==null&&m1(d),d=iu(e,t,r,a),d===null&&yc(e,t,a,Ul,r),d===c)break;c=d}c!==null&&a.stopPropagation()}else yc(e,t,a,null,r)}}var Ul=null;function iu(e,t,r,a){if(Ul=null,e=ld(a),e=ps(e),e!==null)if(t=js(e),t===null)e=null;else if(r=t.tag,r===13){if(e=c1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ul=e,null}function N1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xm()){case od:return 1;case f1:return 4;case Bl:case pm:return 16;case x1:return 536870912;default:return 16}default:return 16}}var Fr=null,hd=null,bl=null;function C1(){if(bl)return bl;var e,t=hd,r=t.length,a,c="value"in Fr?Fr.value:Fr.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var x=r-e;for(a=1;a<=x&&t[r-a]===c[d-a];a++);return bl=c.slice(e,1<a?1-a:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function V0(){return!1}function Cn(e){function t(r,a,c,d,x){this._reactName=r,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nl:V0,this.isPropagationStopped=V0,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=Cn(yi),Ta=ct({},yi,{view:0,detail:0}),Im=Cn(Ta),cc,uc,Fi,fo=ct({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(cc=e.screenX-Fi.screenX,uc=e.screenY-Fi.screenY):uc=cc=0,Fi=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),W0=Cn(fo),jm=ct({},fo,{dataTransfer:0}),km=Cn(jm),_m=ct({},Ta,{relatedTarget:0}),dc=Cn(_m),Mm=ct({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=Cn(Mm),Om=ct({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dm=Cn(Om),Lm=ct({},yi,{data:0}),G0=Cn(Lm),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fm[e])?!!t[e]:!1}function xd(){return Um}var zm=ct({},Ta,{key:function(e){if(e.key){var t=Bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hm=Cn(zm),Vm=ct({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=Cn(Vm),Wm=ct({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),Gm=Cn(Wm),Xm=ct({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=Cn(Xm),Km=ct({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=Cn(Km),Zm=[9,13,27,32],pd=yr&&"CompositionEvent"in window,Zi=null;yr&&"documentMode"in document&&(Zi=document.documentMode);var qm=yr&&"TextEvent"in window&&!Zi,E1=yr&&(!pd||Zi&&8<Zi&&11>=Zi),Y0=" ",K0=!1;function S1(e,t){switch(e){case"keyup":return Zm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function $m(e,t){switch(e){case"compositionend":return A1(t);case"keypress":return t.which!==32?null:(K0=!0,Y0);case"textInput":return e=t.data,e===Y0&&K0?null:e;default:return null}}function Jm(e,t){if(Gs)return e==="compositionend"||!pd&&S1(e,t)?(e=C1(),bl=hd=Fr=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return E1&&t.locale!=="ko"?null:t.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e2[e.type]:t==="textarea"}function T1(e,t,r,a){s1(a),t=zl(t,"onChange"),0<t.length&&(r=new fd("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var qi=null,da=null;function t2(e){P1(e,0)}function xo(e){var t=Ks(e);if(qf(t))return e}function n2(e,t){if(e==="change")return t}var I1=!1;if(yr){var hc;if(yr){var fc="oninput"in document;if(!fc){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),fc=typeof Z0.oninput=="function"}hc=fc}else hc=!1;I1=hc&&(!document.documentMode||9<document.documentMode)}function q0(){qi&&(qi.detachEvent("onpropertychange",j1),da=qi=null)}function j1(e){if(e.propertyName==="value"&&xo(da)){var t=[];T1(t,da,e,ld(e)),o1(t2,t)}}function r2(e,t,r){e==="focusin"?(q0(),qi=t,da=r,qi.attachEvent("onpropertychange",j1)):e==="focusout"&&q0()}function s2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(da)}function i2(e,t){if(e==="click")return xo(t)}function a2(e,t){if(e==="input"||e==="change")return xo(t)}function l2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:l2;function ha(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var c=r[a];if(!zc.call(t,c)||!Gn(e[c],t[c]))return!1}return!0}function $0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J0(e,t){var r=$0(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$0(r)}}function k1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _1(){for(var e=window,t=Ol();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ol(e.document)}return t}function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o2(e){var t=_1(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&k1(r.ownerDocument.documentElement,r)){if(a!==null&&gd(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=r.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=J0(r,d);var x=J0(r,a);c&&x&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c2=yr&&"documentMode"in document&&11>=document.documentMode,Xs=null,au=null,$i=null,lu=!1;function eh(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lu||Xs==null||Xs!==Ol(a)||(a=Xs,"selectionStart"in a&&gd(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),$i&&ha($i,a)||($i=a,a=zl(au,"onSelect"),0<a.length&&(t=new fd("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Xs)))}function rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ys={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},xc={},M1={};yr&&(M1=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function po(e){if(xc[e])return xc[e];if(!Ys[e])return e;var t=Ys[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in M1)return xc[e]=t[r];return e}var R1=po("animationend"),O1=po("animationiteration"),D1=po("animationstart"),L1=po("transitionend"),B1=new Map,th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){B1.set(e,t),Is(t,[e])}for(var pc=0;pc<th.length;pc++){var gc=th[pc],u2=gc.toLowerCase(),d2=gc[0].toUpperCase()+gc.slice(1);es(u2,"on"+d2)}es(R1,"onAnimationEnd");es(O1,"onAnimationIteration");es(D1,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(L1,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function nh(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,um(a,t,void 0,e),e.currentTarget=null}function P1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],c=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var x=a.length-1;0<=x;x--){var y=a[x],w=y.instance,g=y.currentTarget;if(y=y.listener,w!==d&&c.isPropagationStopped())break e;nh(c,y,g),d=w}else for(x=0;x<a.length;x++){if(y=a[x],w=y.instance,g=y.currentTarget,y=y.listener,w!==d&&c.isPropagationStopped())break e;nh(c,y,g),d=w}}}if(Ll)throw e=nu,Ll=!1,nu=null,e}function tt(e,t){var r=t[hu];r===void 0&&(r=t[hu]=new Set);var a=e+"__bubble";r.has(a)||(F1(t,e,2,!1),r.add(a))}function mc(e,t,r){var a=0;t&&(a|=4),F1(r,e,a,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function fa(e){if(!e[sl]){e[sl]=!0,Xf.forEach(function(r){r!=="selectionchange"&&(h2.has(r)||mc(r,!1,e),mc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,mc("selectionchange",!1,t))}}function F1(e,t,r,a){switch(N1(t)){case 1:var c=Am;break;case 4:c=Tm;break;default:c=dd}r=c.bind(null,t,r,e),c=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function yc(e,t,r,a,c){var d=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var y=a.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(x===4)for(x=a.return;x!==null;){var w=x.tag;if((w===3||w===4)&&(w=x.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;x=x.return}for(;y!==null;){if(x=ps(y),x===null)return;if(w=x.tag,w===5||w===6){a=d=x;continue e}y=y.parentNode}}a=a.return}o1(function(){var g=d,b=ld(r),N=[];e:{var A=B1.get(e);if(A!==void 0){var D=fd,R=e;switch(e){case"keypress":if(vl(r)===0)break e;case"keydown":case"keyup":D=Hm;break;case"focusin":R="focus",D=dc;break;case"focusout":R="blur",D=dc;break;case"beforeblur":case"afterblur":D=dc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Gm;break;case R1:case O1:case D1:D=Rm;break;case L1:D=Ym;break;case"scroll":D=Im;break;case"wheel":D=Qm;break;case"copy":case"cut":case"paste":D=Dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=X0}var O=(t&4)!==0,L=!O&&e==="scroll",j=O?A!==null?A+"Capture":null:A;O=[];for(var I=g,T;I!==null;){T=I;var U=T.stateNode;if(T.tag===5&&U!==null&&(T=U,j!==null&&(U=la(I,j),U!=null&&O.push(xa(I,U,T)))),L)break;I=I.return}0<O.length&&(A=new D(A,R,null,r,b),N.push({event:A,listeners:O}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",A&&r!==Jc&&(R=r.relatedTarget||r.fromElement)&&(ps(R)||R[wr]))break e;if((D||A)&&(A=b.window===b?b:(A=b.ownerDocument)?A.defaultView||A.parentWindow:window,D?(R=r.relatedTarget||r.toElement,D=g,R=R?ps(R):null,R!==null&&(L=js(R),R!==L||R.tag!==5&&R.tag!==6)&&(R=null)):(D=null,R=g),D!==R)){if(O=W0,U="onMouseLeave",j="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(O=X0,U="onPointerLeave",j="onPointerEnter",I="pointer"),L=D==null?A:Ks(D),T=R==null?A:Ks(R),A=new O(U,I+"leave",D,r,b),A.target=L,A.relatedTarget=T,U=null,ps(b)===g&&(O=new O(j,I+"enter",R,r,b),O.target=T,O.relatedTarget=L,U=O),L=U,D&&R)t:{for(O=D,j=R,I=0,T=O;T;T=Hs(T))I++;for(T=0,U=j;U;U=Hs(U))T++;for(;0<I-T;)O=Hs(O),I--;for(;0<T-I;)j=Hs(j),T--;for(;I--;){if(O===j||j!==null&&O===j.alternate)break t;O=Hs(O),j=Hs(j)}O=null}else O=null;D!==null&&rh(N,A,D,O,!1),R!==null&&L!==null&&rh(N,L,R,O,!0)}}e:{if(A=g?Ks(g):window,D=A.nodeName&&A.nodeName.toLowerCase(),D==="select"||D==="input"&&A.type==="file")var H=n2;else if(Q0(A))if(I1)H=a2;else{H=s2;var P=r2}else(D=A.nodeName)&&D.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(H=i2);if(H&&(H=H(e,g))){T1(N,H,r,b);break e}P&&P(e,A,g),e==="focusout"&&(P=A._wrapperState)&&P.controlled&&A.type==="number"&&Kc(A,"number",A.value)}switch(P=g?Ks(g):window,e){case"focusin":(Q0(P)||P.contentEditable==="true")&&(Xs=P,au=g,$i=null);break;case"focusout":$i=au=Xs=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,eh(N,r,b);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":eh(N,r,b)}var z;if(pd)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Gs?S1(e,r)&&(J="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(E1&&r.locale!=="ko"&&(Gs||J!=="onCompositionStart"?J==="onCompositionEnd"&&Gs&&(z=C1()):(Fr=b,hd="value"in Fr?Fr.value:Fr.textContent,Gs=!0)),P=zl(g,J),0<P.length&&(J=new G0(J,e,null,r,b),N.push({event:J,listeners:P}),z?J.data=z:(z=A1(r),z!==null&&(J.data=z)))),(z=qm?$m(e,r):Jm(e,r))&&(g=zl(g,"onBeforeInput"),0<g.length&&(b=new G0("onBeforeInput","beforeinput",null,r,b),N.push({event:b,listeners:g}),b.data=z))}P1(N,t)})}function xa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zl(e,t){for(var r=t+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=la(e,r),d!=null&&a.unshift(xa(e,d,c)),d=la(e,t),d!=null&&a.push(xa(e,d,c))),e=e.return}return a}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rh(e,t,r,a,c){for(var d=t._reactName,x=[];r!==null&&r!==a;){var y=r,w=y.alternate,g=y.stateNode;if(w!==null&&w===a)break;y.tag===5&&g!==null&&(y=g,c?(w=la(r,d),w!=null&&x.unshift(xa(r,w,y))):c||(w=la(r,d),w!=null&&x.push(xa(r,w,y)))),r=r.return}x.length!==0&&e.push({event:t,listeners:x})}var f2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(f2,`
`).replace(x2,"")}function il(e,t,r){if(t=sh(t),sh(e)!==t&&r)throw Error(re(425))}function Hl(){}var ou=null,cu=null;function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,ih=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof ih<"u"?function(e){return ih.resolve(null).then(e).catch(m2)}:du;function m2(e){setTimeout(function(){throw e})}function wc(e,t){var r=t,a=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(a===0){e.removeChild(c),ua(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=c}while(r);ua(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ah(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),rr="__reactFiber$"+wi,pa="__reactProps$"+wi,wr="__reactContainer$"+wi,hu="__reactEvents$"+wi,y2="__reactListeners$"+wi,w2="__reactHandles$"+wi;function ps(e){var t=e[rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wr]||r[rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ah(e);e!==null;){if(r=e[rr])return r;e=ah(e)}return t}e=r,r=e.parentNode}return null}function Ia(e){return e=e[rr]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function go(e){return e[pa]||null}var fu=[],Qs=-1;function ts(e){return{current:e}}function nt(e){0>Qs||(e.current=fu[Qs],fu[Qs]=null,Qs--)}function Je(e,t){Qs++,fu[Qs]=e.current,e.current=t}var $r={},Xt=ts($r),cn=ts(!1),Ns=$r;function ui(e,t){var r=e.type.contextTypes;if(!r)return $r;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in r)c[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function un(e){return e=e.childContextTypes,e!=null}function Vl(){nt(cn),nt(Xt)}function lh(e,t,r){if(Xt.current!==$r)throw Error(re(168));Je(Xt,t),Je(cn,r)}function U1(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(re(108,rm(e)||"Unknown",c));return ct({},r,a)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,Ns=Xt.current,Je(Xt,e),Je(cn,cn.current),!0}function oh(e,t,r){var a=e.stateNode;if(!a)throw Error(re(169));r?(e=U1(e,t,Ns),a.__reactInternalMemoizedMergedChildContext=e,nt(cn),nt(Xt),Je(Xt,e)):nt(cn),Je(cn,r)}var ur=null,mo=!1,bc=!1;function z1(e){ur===null?ur=[e]:ur.push(e)}function b2(e){mo=!0,z1(e)}function ns(){if(!bc&&ur!==null){bc=!0;var e=0,t=Ge;try{var r=ur;for(Ge=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}ur=null,mo=!1}catch(c){throw ur!==null&&(ur=ur.slice(e+1)),h1(od,ns),c}finally{Ge=t,bc=!1}}return null}var Zs=[],qs=0,Gl=null,Xl=0,jn=[],kn=0,Cs=null,hr=1,fr="";function fs(e,t){Zs[qs++]=Xl,Zs[qs++]=Gl,Gl=e,Xl=t}function H1(e,t,r){jn[kn++]=hr,jn[kn++]=fr,jn[kn++]=Cs,Cs=e;var a=hr;e=fr;var c=32-Vn(a)-1;a&=~(1<<c),r+=1;var d=32-Vn(t)+c;if(30<d){var x=c-c%5;d=(a&(1<<x)-1).toString(32),a>>=x,c-=x,hr=1<<32-Vn(t)+c|r<<c|a,fr=d+e}else hr=1<<d|r<<c|a,fr=e}function md(e){e.return!==null&&(fs(e,1),H1(e,1,0))}function yd(e){for(;e===Gl;)Gl=Zs[--qs],Zs[qs]=null,Xl=Zs[--qs],Zs[qs]=null;for(;e===Cs;)Cs=jn[--kn],jn[kn]=null,fr=jn[--kn],jn[kn]=null,hr=jn[--kn],jn[kn]=null}var bn=null,wn=null,st=!1,Hn=null;function V1(e,t){var r=_n(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ch(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,wn=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cs!==null?{id:hr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_n(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bn=e,wn=null,!0):!1;default:return!1}}function xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(st){var t=wn;if(t){var r=t;if(!ch(e,t)){if(xu(e))throw Error(re(418));t=Gr(r.nextSibling);var a=bn;t&&ch(e,t)?V1(a,r):(e.flags=e.flags&-4097|2,st=!1,bn=e)}}else{if(xu(e))throw Error(re(418));e.flags=e.flags&-4097|2,st=!1,bn=e}}}function uh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function al(e){if(e!==bn)return!1;if(!st)return uh(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uu(e.type,e.memoizedProps)),t&&(t=wn)){if(xu(e))throw W1(),Error(re(418));for(;t;)V1(e,t),t=Gr(t.nextSibling)}if(uh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wn=Gr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wn=null}}else wn=bn?Gr(e.stateNode.nextSibling):null;return!0}function W1(){for(var e=wn;e;)e=Gr(e.nextSibling)}function di(){wn=bn=null,st=!1}function wd(e){Hn===null?Hn=[e]:Hn.push(e)}var v2=Cr.ReactCurrentBatchConfig;function Ui(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var a=r.stateNode}if(!a)throw Error(re(147,e));var c=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(x){var y=c.refs;x===null?delete y[d]:y[d]=x},t._stringRef=d,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function ll(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function dh(e){var t=e._init;return t(e._payload)}function G1(e){function t(j,I){if(e){var T=j.deletions;T===null?(j.deletions=[I],j.flags|=16):T.push(I)}}function r(j,I){if(!e)return null;for(;I!==null;)t(j,I),I=I.sibling;return null}function a(j,I){for(j=new Map;I!==null;)I.key!==null?j.set(I.key,I):j.set(I.index,I),I=I.sibling;return j}function c(j,I){return j=Qr(j,I),j.index=0,j.sibling=null,j}function d(j,I,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<I?(j.flags|=2,I):T):(j.flags|=2,I)):(j.flags|=1048576,I)}function x(j){return e&&j.alternate===null&&(j.flags|=2),j}function y(j,I,T,U){return I===null||I.tag!==6?(I=Tc(T,j.mode,U),I.return=j,I):(I=c(I,T),I.return=j,I)}function w(j,I,T,U){var H=T.type;return H===Ws?b(j,I,T.props.children,U,T.key):I!==null&&(I.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Or&&dh(H)===I.type)?(U=c(I,T.props),U.ref=Ui(j,I,T),U.return=j,U):(U=Il(T.type,T.key,T.props,null,j.mode,U),U.ref=Ui(j,I,T),U.return=j,U)}function g(j,I,T,U){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=Ic(T,j.mode,U),I.return=j,I):(I=c(I,T.children||[]),I.return=j,I)}function b(j,I,T,U,H){return I===null||I.tag!==7?(I=bs(T,j.mode,U,H),I.return=j,I):(I=c(I,T),I.return=j,I)}function N(j,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Tc(""+I,j.mode,T),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Za:return T=Il(I.type,I.key,I.props,null,j.mode,T),T.ref=Ui(j,null,I),T.return=j,T;case Vs:return I=Ic(I,j.mode,T),I.return=j,I;case Or:var U=I._init;return N(j,U(I._payload),T)}if(Gi(I)||Di(I))return I=bs(I,j.mode,T,null),I.return=j,I;ll(j,I)}return null}function A(j,I,T,U){var H=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return H!==null?null:y(j,I,""+T,U);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Za:return T.key===H?w(j,I,T,U):null;case Vs:return T.key===H?g(j,I,T,U):null;case Or:return H=T._init,A(j,I,H(T._payload),U)}if(Gi(T)||Di(T))return H!==null?null:b(j,I,T,U,null);ll(j,T)}return null}function D(j,I,T,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return j=j.get(T)||null,y(I,j,""+U,H);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Za:return j=j.get(U.key===null?T:U.key)||null,w(I,j,U,H);case Vs:return j=j.get(U.key===null?T:U.key)||null,g(I,j,U,H);case Or:var P=U._init;return D(j,I,T,P(U._payload),H)}if(Gi(U)||Di(U))return j=j.get(T)||null,b(I,j,U,H,null);ll(I,U)}return null}function R(j,I,T,U){for(var H=null,P=null,z=I,J=I=0,$=null;z!==null&&J<T.length;J++){z.index>J?($=z,z=null):$=z.sibling;var ge=A(j,z,T[J],U);if(ge===null){z===null&&(z=$);break}e&&z&&ge.alternate===null&&t(j,z),I=d(ge,I,J),P===null?H=ge:P.sibling=ge,P=ge,z=$}if(J===T.length)return r(j,z),st&&fs(j,J),H;if(z===null){for(;J<T.length;J++)z=N(j,T[J],U),z!==null&&(I=d(z,I,J),P===null?H=z:P.sibling=z,P=z);return st&&fs(j,J),H}for(z=a(j,z);J<T.length;J++)$=D(z,j,J,T[J],U),$!==null&&(e&&$.alternate!==null&&z.delete($.key===null?J:$.key),I=d($,I,J),P===null?H=$:P.sibling=$,P=$);return e&&z.forEach(function(ce){return t(j,ce)}),st&&fs(j,J),H}function O(j,I,T,U){var H=Di(T);if(typeof H!="function")throw Error(re(150));if(T=H.call(T),T==null)throw Error(re(151));for(var P=H=null,z=I,J=I=0,$=null,ge=T.next();z!==null&&!ge.done;J++,ge=T.next()){z.index>J?($=z,z=null):$=z.sibling;var ce=A(j,z,ge.value,U);if(ce===null){z===null&&(z=$);break}e&&z&&ce.alternate===null&&t(j,z),I=d(ce,I,J),P===null?H=ce:P.sibling=ce,P=ce,z=$}if(ge.done)return r(j,z),st&&fs(j,J),H;if(z===null){for(;!ge.done;J++,ge=T.next())ge=N(j,ge.value,U),ge!==null&&(I=d(ge,I,J),P===null?H=ge:P.sibling=ge,P=ge);return st&&fs(j,J),H}for(z=a(j,z);!ge.done;J++,ge=T.next())ge=D(z,j,J,ge.value,U),ge!==null&&(e&&ge.alternate!==null&&z.delete(ge.key===null?J:ge.key),I=d(ge,I,J),P===null?H=ge:P.sibling=ge,P=ge);return e&&z.forEach(function(de){return t(j,de)}),st&&fs(j,J),H}function L(j,I,T,U){if(typeof T=="object"&&T!==null&&T.type===Ws&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Za:e:{for(var H=T.key,P=I;P!==null;){if(P.key===H){if(H=T.type,H===Ws){if(P.tag===7){r(j,P.sibling),I=c(P,T.props.children),I.return=j,j=I;break e}}else if(P.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Or&&dh(H)===P.type){r(j,P.sibling),I=c(P,T.props),I.ref=Ui(j,P,T),I.return=j,j=I;break e}r(j,P);break}else t(j,P);P=P.sibling}T.type===Ws?(I=bs(T.props.children,j.mode,U,T.key),I.return=j,j=I):(U=Il(T.type,T.key,T.props,null,j.mode,U),U.ref=Ui(j,I,T),U.return=j,j=U)}return x(j);case Vs:e:{for(P=T.key;I!==null;){if(I.key===P)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){r(j,I.sibling),I=c(I,T.children||[]),I.return=j,j=I;break e}else{r(j,I);break}else t(j,I);I=I.sibling}I=Ic(T,j.mode,U),I.return=j,j=I}return x(j);case Or:return P=T._init,L(j,I,P(T._payload),U)}if(Gi(T))return R(j,I,T,U);if(Di(T))return O(j,I,T,U);ll(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,I!==null&&I.tag===6?(r(j,I.sibling),I=c(I,T),I.return=j,j=I):(r(j,I),I=Tc(T,j.mode,U),I.return=j,j=I),x(j)):r(j,I)}return L}var hi=G1(!0),X1=G1(!1),Yl=ts(null),Kl=null,$s=null,bd=null;function vd(){bd=$s=Kl=null}function Nd(e){var t=Yl.current;nt(Yl),e._currentValue=t}function gu(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function ai(e,t){Kl=e,bd=$s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Rn(e){var t=e._currentValue;if(bd!==e)if(e={context:e,memoizedValue:t,next:null},$s===null){if(Kl===null)throw Error(re(308));$s=e,Kl.dependencies={lanes:0,firstContext:e}}else $s=$s.next=e;return t}var gs=null;function Cd(e){gs===null?gs=[e]:gs.push(e)}function Y1(e,t,r,a){var c=t.interleaved;return c===null?(r.next=r,Cd(t)):(r.next=c.next,c.next=r),t.interleaved=r,br(e,a)}function br(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Dr=!1;function Ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Pe&2){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,br(e,r)}return c=a.interleaved,c===null?(t.next=t,Cd(a)):(t.next=c.next,c.next=t),a.interleaved=t,br(e,r)}function Nl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,cd(e,r)}}function hh(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var x={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?c=d=x:d=d.next=x,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ql(e,t,r,a){var c=e.updateQueue;Dr=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var w=y,g=w.next;w.next=null,x===null?d=g:x.next=g,x=w;var b=e.alternate;b!==null&&(b=b.updateQueue,y=b.lastBaseUpdate,y!==x&&(y===null?b.firstBaseUpdate=g:y.next=g,b.lastBaseUpdate=w))}if(d!==null){var N=c.baseState;x=0,b=g=w=null,y=d;do{var A=y.lane,D=y.eventTime;if((a&A)===A){b!==null&&(b=b.next={eventTime:D,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var R=e,O=y;switch(A=t,D=r,O.tag){case 1:if(R=O.payload,typeof R=="function"){N=R.call(D,N,A);break e}N=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=O.payload,A=typeof R=="function"?R.call(D,N,A):R,A==null)break e;N=ct({},N,A);break e;case 2:Dr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,A=c.effects,A===null?c.effects=[y]:A.push(y))}else D={eventTime:D,lane:A,tag:y.tag,payload:y.payload,callback:y.callback,next:null},b===null?(g=b=D,w=N):b=b.next=D,x|=A;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;A=y,y=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);if(b===null&&(w=N),c.baseState=w,c.firstBaseUpdate=g,c.lastBaseUpdate=b,t=c.shared.interleaved,t!==null){c=t;do x|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);Ss|=x,e.lanes=x,e.memoizedState=N}}function fh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=r,typeof c!="function")throw Error(re(191,c));c.call(a)}}}var ja={},ar=ts(ja),ga=ts(ja),ma=ts(ja);function ms(e){if(e===ja)throw Error(re(174));return e}function Sd(e,t){switch(Je(ma,t),Je(ga,e),Je(ar,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zc(t,e)}nt(ar),Je(ar,t)}function fi(){nt(ar),nt(ga),nt(ma)}function Q1(e){ms(ma.current);var t=ms(ar.current),r=Zc(t,e.type);t!==r&&(Je(ga,e),Je(ar,r))}function Ad(e){ga.current===e&&(nt(ar),nt(ga))}var lt=ts(0);function Zl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vc=[];function Td(){for(var e=0;e<vc.length;e++)vc[e]._workInProgressVersionPrimary=null;vc.length=0}var Cl=Cr.ReactCurrentDispatcher,Nc=Cr.ReactCurrentBatchConfig,Es=0,ot=null,At=null,kt=null,ql=!1,Ji=!1,ya=0,N2=0;function Ht(){throw Error(re(321))}function Id(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gn(e[r],t[r]))return!1;return!0}function jd(e,t,r,a,c,d){if(Es=d,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cl.current=e===null||e.memoizedState===null?A2:T2,e=r(a,c),Ji){d=0;do{if(Ji=!1,ya=0,25<=d)throw Error(re(301));d+=1,kt=At=null,t.updateQueue=null,Cl.current=I2,e=r(a,c)}while(Ji)}if(Cl.current=$l,t=At!==null&&At.next!==null,Es=0,kt=At=ot=null,ql=!1,t)throw Error(re(300));return e}function kd(){var e=ya!==0;return ya=0,e}function tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=e:kt=kt.next=e,kt}function On(){if(At===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=kt===null?ot.memoizedState:kt.next;if(t!==null)kt=t,At=e;else{if(e===null)throw Error(re(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},kt===null?ot.memoizedState=kt=e:kt=kt.next=e}return kt}function wa(e,t){return typeof t=="function"?t(e):t}function Cc(e){var t=On(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var a=At,c=a.baseQueue,d=r.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}a.baseQueue=c=d,r.pending=null}if(c!==null){d=c.next,a=a.baseState;var y=x=null,w=null,g=d;do{var b=g.lane;if((Es&b)===b)w!==null&&(w=w.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),a=g.hasEagerState?g.eagerState:e(a,g.action);else{var N={lane:b,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};w===null?(y=w=N,x=a):w=w.next=N,ot.lanes|=b,Ss|=b}g=g.next}while(g!==null&&g!==d);w===null?x=a:w.next=y,Gn(a,t.memoizedState)||(on=!0),t.memoizedState=a,t.baseState=x,t.baseQueue=w,r.lastRenderedState=a}if(e=r.interleaved,e!==null){c=e;do d=c.lane,ot.lanes|=d,Ss|=d,c=c.next;while(c!==e)}else c===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ec(e){var t=On(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var a=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);Gn(d,t.memoizedState)||(on=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,a]}function Z1(){}function q1(e,t){var r=ot,a=On(),c=t(),d=!Gn(a.memoizedState,c);if(d&&(a.memoizedState=c,on=!0),a=a.queue,_d(ex.bind(null,r,a,e),[e]),a.getSnapshot!==t||d||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,ba(9,J1.bind(null,r,a,c,t),void 0,null),_t===null)throw Error(re(349));Es&30||$1(r,t,c)}return c}function $1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J1(e,t,r,a){t.value=r,t.getSnapshot=a,tx(t)&&nx(e)}function ex(e,t,r){return r(function(){tx(t)&&nx(e)})}function tx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gn(e,r)}catch{return!0}}function nx(e){var t=br(e,1);t!==null&&Wn(t,e,1,-1)}function xh(e){var t=tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=S2.bind(null,ot,e),[t.memoizedState,e]}function ba(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function rx(){return On().memoizedState}function El(e,t,r,a){var c=tr();ot.flags|=e,c.memoizedState=ba(1|t,r,void 0,a===void 0?null:a)}function yo(e,t,r,a){var c=On();a=a===void 0?null:a;var d=void 0;if(At!==null){var x=At.memoizedState;if(d=x.destroy,a!==null&&Id(a,x.deps)){c.memoizedState=ba(t,r,d,a);return}}ot.flags|=e,c.memoizedState=ba(1|t,r,d,a)}function ph(e,t){return El(8390656,8,e,t)}function _d(e,t){return yo(2048,8,e,t)}function sx(e,t){return yo(4,2,e,t)}function ix(e,t){return yo(4,4,e,t)}function ax(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lx(e,t,r){return r=r!=null?r.concat([e]):null,yo(4,4,ax.bind(null,t,e),r)}function Md(){}function ox(e,t){var r=On();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Id(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function cx(e,t){var r=On();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Id(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function ux(e,t,r){return Es&21?(Gn(r,t)||(r=p1(),ot.lanes|=r,Ss|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=r)}function C2(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var a=Nc.transition;Nc.transition={};try{e(!1),t()}finally{Ge=r,Nc.transition=a}}function dx(){return On().memoizedState}function E2(e,t,r){var a=Kr(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},hx(e))fx(t,r);else if(r=Y1(e,t,r,a),r!==null){var c=qt();Wn(r,e,a,c),xx(r,t,a)}}function S2(e,t,r){var a=Kr(e),c={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(hx(e))fx(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var x=t.lastRenderedState,y=d(x,r);if(c.hasEagerState=!0,c.eagerState=y,Gn(y,x)){var w=t.interleaved;w===null?(c.next=c,Cd(t)):(c.next=w.next,w.next=c),t.interleaved=c;return}}catch{}finally{}r=Y1(e,t,c,a),r!==null&&(c=qt(),Wn(r,e,a,c),xx(r,t,a))}}function hx(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function fx(e,t){Ji=ql=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xx(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,cd(e,r)}}var $l={readContext:Rn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},A2={readContext:Rn,useCallback:function(e,t){return tr().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:ph,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,El(4194308,4,ax.bind(null,t,e),r)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var r=tr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=tr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=E2.bind(null,ot,e),[a.memoizedState,e]},useRef:function(e){var t=tr();return e={current:e},t.memoizedState=e},useState:xh,useDebugValue:Md,useDeferredValue:function(e){return tr().memoizedState=e},useTransition:function(){var e=xh(!1),t=e[0];return e=C2.bind(null,e[1]),tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ot,c=tr();if(st){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),_t===null)throw Error(re(349));Es&30||$1(a,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,ph(ex.bind(null,a,d,e),[e]),a.flags|=2048,ba(9,J1.bind(null,a,d,r,t),void 0,null),r},useId:function(){var e=tr(),t=_t.identifierPrefix;if(st){var r=fr,a=hr;r=(a&~(1<<32-Vn(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=ya++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=N2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T2={readContext:Rn,useCallback:ox,useContext:Rn,useEffect:_d,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ix,useMemo:cx,useReducer:Cc,useRef:rx,useState:function(){return Cc(wa)},useDebugValue:Md,useDeferredValue:function(e){var t=On();return ux(t,At.memoizedState,e)},useTransition:function(){var e=Cc(wa)[0],t=On().memoizedState;return[e,t]},useMutableSource:Z1,useSyncExternalStore:q1,useId:dx,unstable_isNewReconciler:!1},I2={readContext:Rn,useCallback:ox,useContext:Rn,useEffect:_d,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ix,useMemo:cx,useReducer:Ec,useRef:rx,useState:function(){return Ec(wa)},useDebugValue:Md,useDeferredValue:function(e){var t=On();return At===null?t.memoizedState=e:ux(t,At.memoizedState,e)},useTransition:function(){var e=Ec(wa)[0],t=On().memoizedState;return[e,t]},useMutableSource:Z1,useSyncExternalStore:q1,useId:dx,unstable_isNewReconciler:!1};function Fn(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mu(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:ct({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wo={isMounted:function(e){return(e=e._reactInternals)?js(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=qt(),c=Kr(e),d=pr(a,c);d.payload=t,r!=null&&(d.callback=r),t=Xr(e,d,c),t!==null&&(Wn(t,e,c,a),Nl(t,e,c))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=qt(),c=Kr(e),d=pr(a,c);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Xr(e,d,c),t!==null&&(Wn(t,e,c,a),Nl(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),a=Kr(e),c=pr(r,a);c.tag=2,t!=null&&(c.callback=t),t=Xr(e,c,a),t!==null&&(Wn(t,e,a,r),Nl(t,e,a))}};function gh(e,t,r,a,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):t.prototype&&t.prototype.isPureReactComponent?!ha(r,a)||!ha(c,d):!0}function px(e,t,r){var a=!1,c=$r,d=t.contextType;return typeof d=="object"&&d!==null?d=Rn(d):(c=un(t)?Ns:Xt.current,a=t.contextTypes,d=(a=a!=null)?ui(e,c):$r),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function mh(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function yu(e,t,r,a){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs={},Ed(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=Rn(d):(d=un(t)?Ns:Xt.current,c.context=ui(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(mu(e,t,d,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&wo.enqueueReplaceState(c,c.state,null),Ql(e,r,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function xi(e,t){try{var r="",a=t;do r+=nm(a),a=a.return;while(a);var c=r}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Sc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var j2=typeof WeakMap=="function"?WeakMap:Map;function gx(e,t,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){eo||(eo=!0,ju=a),wu(e,t)},r}function mx(e,t,r){r=pr(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;r.payload=function(){return a(c)},r.callback=function(){wu(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){wu(e,t),typeof a!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),r}function yh(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new j2;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(r)||(c.add(r),e=V2.bind(null,e,t,r),t.then(e,e))}function wh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bh(e,t,r,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pr(-1,1),t.tag=2,Xr(r,t,1))),r.lanes|=1),e)}var k2=Cr.ReactCurrentOwner,on=!1;function Zt(e,t,r,a){t.child=e===null?X1(t,null,r,a):hi(t,e.child,r,a)}function vh(e,t,r,a,c){r=r.render;var d=t.ref;return ai(t,c),a=jd(e,t,r,a,d,c),r=kd(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,vr(e,t,c)):(st&&r&&md(t),t.flags|=1,Zt(e,t,a,c),t.child)}function Nh(e,t,r,a,c){if(e===null){var d=r.type;return typeof d=="function"&&!Ud(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,yx(e,t,d,a,c)):(e=Il(r.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&c)){var x=d.memoizedProps;if(r=r.compare,r=r!==null?r:ha,r(x,a)&&e.ref===t.ref)return vr(e,t,c)}return t.flags|=1,e=Qr(d,a),e.ref=t.ref,e.return=t,t.child=e}function yx(e,t,r,a,c){if(e!==null){var d=e.memoizedProps;if(ha(d,a)&&e.ref===t.ref)if(on=!1,t.pendingProps=a=d,(e.lanes&c)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,vr(e,t,c)}return bu(e,t,r,a,c)}function wx(e,t,r){var a=t.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ei,mn),mn|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(ei,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:r,Je(ei,mn),mn|=a}else d!==null?(a=d.baseLanes|r,t.memoizedState=null):a=r,Je(ei,mn),mn|=a;return Zt(e,t,c,r),t.child}function bx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bu(e,t,r,a,c){var d=un(r)?Ns:Xt.current;return d=ui(t,d),ai(t,c),r=jd(e,t,r,a,d,c),a=kd(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,vr(e,t,c)):(st&&a&&md(t),t.flags|=1,Zt(e,t,r,c),t.child)}function Ch(e,t,r,a,c){if(un(r)){var d=!0;Wl(t)}else d=!1;if(ai(t,c),t.stateNode===null)Sl(e,t),px(t,r,a),yu(t,r,a,c),a=!0;else if(e===null){var x=t.stateNode,y=t.memoizedProps;x.props=y;var w=x.context,g=r.contextType;typeof g=="object"&&g!==null?g=Rn(g):(g=un(r)?Ns:Xt.current,g=ui(t,g));var b=r.getDerivedStateFromProps,N=typeof b=="function"||typeof x.getSnapshotBeforeUpdate=="function";N||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==a||w!==g)&&mh(t,x,a,g),Dr=!1;var A=t.memoizedState;x.state=A,Ql(t,a,x,c),w=t.memoizedState,y!==a||A!==w||cn.current||Dr?(typeof b=="function"&&(mu(t,r,b,a),w=t.memoizedState),(y=Dr||gh(t,r,y,a,A,w,g))?(N||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=w),x.props=a,x.state=w,x.context=g,a=y):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{x=t.stateNode,K1(e,t),y=t.memoizedProps,g=t.type===t.elementType?y:Fn(t.type,y),x.props=g,N=t.pendingProps,A=x.context,w=r.contextType,typeof w=="object"&&w!==null?w=Rn(w):(w=un(r)?Ns:Xt.current,w=ui(t,w));var D=r.getDerivedStateFromProps;(b=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==N||A!==w)&&mh(t,x,a,w),Dr=!1,A=t.memoizedState,x.state=A,Ql(t,a,x,c);var R=t.memoizedState;y!==N||A!==R||cn.current||Dr?(typeof D=="function"&&(mu(t,r,D,a),R=t.memoizedState),(g=Dr||gh(t,r,g,a,A,R,w)||!1)?(b||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,R,w),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,R,w)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),x.props=a,x.state=R,x.context=w,a=g):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),a=!1)}return vu(e,t,r,a,d,c)}function vu(e,t,r,a,c,d){bx(e,t);var x=(t.flags&128)!==0;if(!a&&!x)return c&&oh(t,r,!1),vr(e,t,d);a=t.stateNode,k2.current=t;var y=x&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&x?(t.child=hi(t,e.child,null,d),t.child=hi(t,null,y,d)):Zt(e,t,y,d),t.memoizedState=a.state,c&&oh(t,r,!0),t.child}function vx(e){var t=e.stateNode;t.pendingContext?lh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lh(e,t.context,!1),Sd(e,t.containerInfo)}function Eh(e,t,r,a,c){return di(),wd(c),t.flags|=256,Zt(e,t,r,a),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nx(e,t,r){var a=t.pendingProps,c=lt.current,d=!1,x=(t.flags&128)!==0,y;if((y=x)||(y=e!==null&&e.memoizedState===null?!1:(c&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Je(lt,c&1),e===null)return pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(x=a.children,e=a.fallback,d?(a=t.mode,d=t.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=No(x,a,0,null),e=bs(e,a,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Cu(r),t.memoizedState=Nu,e):Rd(t,x));if(c=e.memoizedState,c!==null&&(y=c.dehydrated,y!==null))return _2(e,t,x,a,y,c,r);if(d){d=a.fallback,x=t.mode,c=e.child,y=c.sibling;var w={mode:"hidden",children:a.children};return!(x&1)&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=w,t.deletions=null):(a=Qr(c,w),a.subtreeFlags=c.subtreeFlags&14680064),y!==null?d=Qr(y,d):(d=bs(d,x,r,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,x=e.child.memoizedState,x=x===null?Cu(r):{baseLanes:x.baseLanes|r,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~r,t.memoizedState=Nu,a}return d=e.child,e=d.sibling,a=Qr(d,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Rd(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,r,a){return a!==null&&wd(a),hi(t,e.child,null,r),e=Rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _2(e,t,r,a,c,d,x){if(r)return t.flags&256?(t.flags&=-257,a=Sc(Error(re(422))),ol(e,t,x,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,c=t.mode,a=No({mode:"visible",children:a.children},c,0,null),d=bs(d,c,x,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,t.mode&1&&hi(t,e.child,null,x),t.child.memoizedState=Cu(x),t.memoizedState=Nu,d);if(!(t.mode&1))return ol(e,t,x,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var y=a.dgst;return a=y,d=Error(re(419)),a=Sc(d,a,void 0),ol(e,t,x,a)}if(y=(x&e.childLanes)!==0,on||y){if(a=_t,a!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|x)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,br(e,c),Wn(a,e,c,-1))}return Fd(),a=Sc(Error(re(421))),ol(e,t,x,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=W2.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,wn=Gr(c.nextSibling),bn=t,st=!0,Hn=null,e!==null&&(jn[kn++]=hr,jn[kn++]=fr,jn[kn++]=Cs,hr=e.id,fr=e.overflow,Cs=t),t=Rd(t,a.children),t.flags|=4096,t)}function Sh(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),gu(e.return,t,r)}function Ac(e,t,r,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=r,d.tailMode=c)}function Cx(e,t,r){var a=t.pendingProps,c=a.revealOrder,d=a.tail;if(Zt(e,t,a.children,r),a=lt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sh(e,r,t);else if(e.tag===19)Sh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Je(lt,a),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Zl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Ac(t,!1,c,r,d);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Zl(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Ac(t,!0,r,null,d);break;case"together":Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ss|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Qr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function M2(e,t,r){switch(t.tag){case 3:vx(t),di();break;case 5:Q1(t);break;case 1:un(t.type)&&Wl(t);break;case 4:Sd(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;Je(Yl,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Je(lt,lt.current&1),t.flags|=128,null):r&t.child.childLanes?Nx(e,t,r):(Je(lt,lt.current&1),e=vr(e,t,r),e!==null?e.sibling:null);Je(lt,lt.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Cx(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Je(lt,lt.current),a)break;return null;case 22:case 23:return t.lanes=0,wx(e,t,r)}return vr(e,t,r)}var Ex,Eu,Sx,Ax;Ex=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eu=function(){};Sx=function(e,t,r,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,ms(ar.current);var d=null;switch(r){case"input":c=Xc(e,c),a=Xc(e,a),d=[];break;case"select":c=ct({},c,{value:void 0}),a=ct({},a,{value:void 0}),d=[];break;case"textarea":c=Qc(e,c),a=Qc(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Hl)}qc(r,a);var x;r=null;for(g in c)if(!a.hasOwnProperty(g)&&c.hasOwnProperty(g)&&c[g]!=null)if(g==="style"){var y=c[g];for(x in y)y.hasOwnProperty(x)&&(r||(r={}),r[x]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ia.hasOwnProperty(g)?d||(d=[]):(d=d||[]).push(g,null));for(g in a){var w=a[g];if(y=c!=null?c[g]:void 0,a.hasOwnProperty(g)&&w!==y&&(w!=null||y!=null))if(g==="style")if(y){for(x in y)!y.hasOwnProperty(x)||w&&w.hasOwnProperty(x)||(r||(r={}),r[x]="");for(x in w)w.hasOwnProperty(x)&&y[x]!==w[x]&&(r||(r={}),r[x]=w[x])}else r||(d||(d=[]),d.push(g,r)),r=w;else g==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,y=y?y.__html:void 0,w!=null&&y!==w&&(d=d||[]).push(g,w)):g==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(g,""+w):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ia.hasOwnProperty(g)?(w!=null&&g==="onScroll"&&tt("scroll",e),d||y===w||(d=[])):(d=d||[]).push(g,w))}r&&(d=d||[]).push("style",r);var g=d;(t.updateQueue=g)&&(t.flags|=4)}};Ax=function(e,t,r,a){r!==a&&(t.flags|=4)};function zi(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function R2(e,t,r){var a=t.pendingProps;switch(yd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return un(t.type)&&Vl(),Vt(t),null;case 3:return a=t.stateNode,fi(),nt(cn),nt(Xt),Td(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(Mu(Hn),Hn=null))),Eu(e,t),Vt(t),null;case 5:Ad(t);var c=ms(ma.current);if(r=t.type,e!==null&&t.stateNode!=null)Sx(e,t,r,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(re(166));return Vt(t),null}if(e=ms(ar.current),al(t)){a=t.stateNode,r=t.type;var d=t.memoizedProps;switch(a[rr]=t,a[pa]=d,e=(t.mode&1)!==0,r){case"dialog":tt("cancel",a),tt("close",a);break;case"iframe":case"object":case"embed":tt("load",a);break;case"video":case"audio":for(c=0;c<Yi.length;c++)tt(Yi[c],a);break;case"source":tt("error",a);break;case"img":case"image":case"link":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"input":O0(a,d),tt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},tt("invalid",a);break;case"textarea":L0(a,d),tt("invalid",a)}qc(r,d),c=null;for(var x in d)if(d.hasOwnProperty(x)){var y=d[x];x==="children"?typeof y=="string"?a.textContent!==y&&(d.suppressHydrationWarning!==!0&&il(a.textContent,y,e),c=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&il(a.textContent,y,e),c=["children",""+y]):ia.hasOwnProperty(x)&&y!=null&&x==="onScroll"&&tt("scroll",a)}switch(r){case"input":qa(a),D0(a,d,!0);break;case"textarea":qa(a),B0(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Hl)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(r,{is:a.is}):(e=x.createElement(r),r==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,r),e[rr]=t,e[pa]=a,Ex(e,t,!1,!1),t.stateNode=e;e:{switch(x=$c(r,a),r){case"dialog":tt("cancel",e),tt("close",e),c=a;break;case"iframe":case"object":case"embed":tt("load",e),c=a;break;case"video":case"audio":for(c=0;c<Yi.length;c++)tt(Yi[c],e);c=a;break;case"source":tt("error",e),c=a;break;case"img":case"image":case"link":tt("error",e),tt("load",e),c=a;break;case"details":tt("toggle",e),c=a;break;case"input":O0(e,a),c=Xc(e,a),tt("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=ct({},a,{value:void 0}),tt("invalid",e);break;case"textarea":L0(e,a),c=Qc(e,a),tt("invalid",e);break;default:c=a}qc(r,c),y=c;for(d in y)if(y.hasOwnProperty(d)){var w=y[d];d==="style"?r1(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&t1(e,w)):d==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&aa(e,w):typeof w=="number"&&aa(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ia.hasOwnProperty(d)?w!=null&&d==="onScroll"&&tt("scroll",e):w!=null&&rd(e,d,w,x))}switch(r){case"input":qa(e),D0(e,a,!1);break;case"textarea":qa(e),B0(e);break;case"option":a.value!=null&&e.setAttribute("value",""+qr(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?ni(e,!!a.multiple,d,!1):a.defaultValue!=null&&ni(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Hl)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)Ax(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(re(166));if(r=ms(ma.current),ms(ar.current),al(t)){if(a=t.stateNode,r=t.memoizedProps,a[rr]=t,(d=a.nodeValue!==r)&&(e=bn,e!==null))switch(e.tag){case 3:il(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(a.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[rr]=t,t.stateNode=a}return Vt(t),null;case 13:if(nt(lt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&wn!==null&&t.mode&1&&!(t.flags&128))W1(),di(),t.flags|=98560,d=!1;else if(d=al(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(re(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(re(317));d[rr]=t}else di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),d=!1}else Hn!==null&&(Mu(Hn),Hn=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Tt===0&&(Tt=3):Fd())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return fi(),Eu(e,t),e===null&&fa(t.stateNode.containerInfo),Vt(t),null;case 10:return Nd(t.type._context),Vt(t),null;case 17:return un(t.type)&&Vl(),Vt(t),null;case 19:if(nt(lt),d=t.memoizedState,d===null)return Vt(t),null;if(a=(t.flags&128)!==0,x=d.rendering,x===null)if(a)zi(d,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(x=Zl(e),x!==null){for(t.flags|=128,zi(d,!1),a=x.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)d=r,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Je(lt,lt.current&1|2),t.child}e=e.sibling}d.tail!==null&&yt()>pi&&(t.flags|=128,a=!0,zi(d,!1),t.lanes=4194304)}else{if(!a)if(e=Zl(x),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!st)return Vt(t),null}else 2*yt()-d.renderingStartTime>pi&&r!==1073741824&&(t.flags|=128,a=!0,zi(d,!1),t.lanes=4194304);d.isBackwards?(x.sibling=t.child,t.child=x):(r=d.last,r!==null?r.sibling=x:t.child=x,d.last=x)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=yt(),t.sibling=null,r=lt.current,Je(lt,a?r&1|2:r&1),t):(Vt(t),null);case 22:case 23:return Pd(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?mn&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function O2(e,t){switch(yd(t),t.tag){case 1:return un(t.type)&&Vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fi(),nt(cn),nt(Xt),Td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ad(t),null;case 13:if(nt(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(lt),null;case 4:return fi(),null;case 10:return Nd(t.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var cl=!1,Wt=!1,D2=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Js(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){xt(e,t,a)}else r.current=null}function Su(e,t,r){try{r()}catch(a){xt(e,t,a)}}var Ah=!1;function L2(e,t){if(ou=Fl,e=_1(),gd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var x=0,y=-1,w=-1,g=0,b=0,N=e,A=null;t:for(;;){for(var D;N!==r||c!==0&&N.nodeType!==3||(y=x+c),N!==d||a!==0&&N.nodeType!==3||(w=x+a),N.nodeType===3&&(x+=N.nodeValue.length),(D=N.firstChild)!==null;)A=N,N=D;for(;;){if(N===e)break t;if(A===r&&++g===c&&(y=x),A===d&&++b===a&&(w=x),(D=N.nextSibling)!==null)break;N=A,A=N.parentNode}N=D}r=y===-1||w===-1?null:{start:y,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(cu={focusedElem:e,selectionRange:r},Fl=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var O=R.memoizedProps,L=R.memoizedState,j=t.stateNode,I=j.getSnapshotBeforeUpdate(t.elementType===t.type?O:Fn(t.type,O),L);j.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(U){xt(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return R=Ah,Ah=!1,R}function ea(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Su(t,r,d)}c=c.next}while(c!==a)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Au(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Tx(e){var t=e.alternate;t!==null&&(e.alternate=null,Tx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[pa],delete t[hu],delete t[y2],delete t[w2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ix(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ix(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hl));else if(a!==4&&(e=e.child,e!==null))for(Tu(e,t,r),e=e.sibling;e!==null;)Tu(e,t,r),e=e.sibling}function Iu(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Iu(e,t,r),e=e.sibling;e!==null;)Iu(e,t,r),e=e.sibling}var Bt=null,Un=!1;function Mr(e,t,r){for(r=r.child;r!==null;)jx(e,t,r),r=r.sibling}function jx(e,t,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(ho,r)}catch{}switch(r.tag){case 5:Wt||Js(r,t);case 6:var a=Bt,c=Un;Bt=null,Mr(e,t,r),Bt=a,Un=c,Bt!==null&&(Un?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(Un?(e=Bt,r=r.stateNode,e.nodeType===8?wc(e.parentNode,r):e.nodeType===1&&wc(e,r),ua(e)):wc(Bt,r.stateNode));break;case 4:a=Bt,c=Un,Bt=r.stateNode.containerInfo,Un=!0,Mr(e,t,r),Bt=a,Un=c;break;case 0:case 11:case 14:case 15:if(!Wt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&Su(r,t,x),c=c.next}while(c!==a)}Mr(e,t,r);break;case 1:if(!Wt&&(Js(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(y){xt(r,t,y)}Mr(e,t,r);break;case 21:Mr(e,t,r);break;case 22:r.mode&1?(Wt=(a=Wt)||r.memoizedState!==null,Mr(e,t,r),Wt=a):Mr(e,t,r);break;default:Mr(e,t,r)}}function Ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new D2),t.forEach(function(a){var c=G2.bind(null,e,a);r.has(a)||(r.add(a),a.then(c,c))})}}function Pn(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];try{var d=e,x=t,y=x;e:for(;y!==null;){switch(y.tag){case 5:Bt=y.stateNode,Un=!1;break e;case 3:Bt=y.stateNode.containerInfo,Un=!0;break e;case 4:Bt=y.stateNode.containerInfo,Un=!0;break e}y=y.return}if(Bt===null)throw Error(re(160));jx(d,x,c),Bt=null,Un=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(g){xt(c,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kx(t,e),t=t.sibling}function kx(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pn(t,e),er(e),a&4){try{ea(3,e,e.return),bo(3,e)}catch(O){xt(e,e.return,O)}try{ea(5,e,e.return)}catch(O){xt(e,e.return,O)}}break;case 1:Pn(t,e),er(e),a&512&&r!==null&&Js(r,r.return);break;case 5:if(Pn(t,e),er(e),a&512&&r!==null&&Js(r,r.return),e.flags&32){var c=e.stateNode;try{aa(c,"")}catch(O){xt(e,e.return,O)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,x=r!==null?r.memoizedProps:d,y=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&$f(c,d),$c(y,x);var g=$c(y,d);for(x=0;x<w.length;x+=2){var b=w[x],N=w[x+1];b==="style"?r1(c,N):b==="dangerouslySetInnerHTML"?t1(c,N):b==="children"?aa(c,N):rd(c,b,N,g)}switch(y){case"input":Yc(c,d);break;case"textarea":Jf(c,d);break;case"select":var A=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var D=d.value;D!=null?ni(c,!!d.multiple,D,!1):A!==!!d.multiple&&(d.defaultValue!=null?ni(c,!!d.multiple,d.defaultValue,!0):ni(c,!!d.multiple,d.multiple?[]:"",!1))}c[pa]=d}catch(O){xt(e,e.return,O)}}break;case 6:if(Pn(t,e),er(e),a&4){if(e.stateNode===null)throw Error(re(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(O){xt(e,e.return,O)}}break;case 3:if(Pn(t,e),er(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ua(t.containerInfo)}catch(O){xt(e,e.return,O)}break;case 4:Pn(t,e),er(e);break;case 13:Pn(t,e),er(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Ld=yt())),a&4&&Ih(e);break;case 22:if(b=r!==null&&r.memoizedState!==null,e.mode&1?(Wt=(g=Wt)||b,Pn(t,e),Wt=g):Pn(t,e),er(e),a&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!b&&e.mode&1)for(pe=e,b=e.child;b!==null;){for(N=pe=b;pe!==null;){switch(A=pe,D=A.child,A.tag){case 0:case 11:case 14:case 15:ea(4,A,A.return);break;case 1:Js(A,A.return);var R=A.stateNode;if(typeof R.componentWillUnmount=="function"){a=A,r=A.return;try{t=a,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(O){xt(a,r,O)}}break;case 5:Js(A,A.return);break;case 22:if(A.memoizedState!==null){kh(N);continue}}D!==null?(D.return=A,pe=D):kh(N)}b=b.sibling}e:for(b=null,N=e;;){if(N.tag===5){if(b===null){b=N;try{c=N.stateNode,g?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=N.stateNode,w=N.memoizedProps.style,x=w!=null&&w.hasOwnProperty("display")?w.display:null,y.style.display=n1("display",x))}catch(O){xt(e,e.return,O)}}}else if(N.tag===6){if(b===null)try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(O){xt(e,e.return,O)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;b===N&&(b=null),N=N.return}b===N&&(b=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Pn(t,e),er(e),a&4&&Ih(e);break;case 21:break;default:Pn(t,e),er(e)}}function er(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ix(r)){var a=r;break e}r=r.return}throw Error(re(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(aa(c,""),a.flags&=-33);var d=Th(e);Iu(e,d,c);break;case 3:case 4:var x=a.stateNode.containerInfo,y=Th(e);Tu(e,y,x);break;default:throw Error(re(161))}}catch(w){xt(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B2(e,t,r){pe=e,_x(e)}function _x(e,t,r){for(var a=(e.mode&1)!==0;pe!==null;){var c=pe,d=c.child;if(c.tag===22&&a){var x=c.memoizedState!==null||cl;if(!x){var y=c.alternate,w=y!==null&&y.memoizedState!==null||Wt;y=cl;var g=Wt;if(cl=x,(Wt=w)&&!g)for(pe=c;pe!==null;)x=pe,w=x.child,x.tag===22&&x.memoizedState!==null?_h(c):w!==null?(w.return=x,pe=w):_h(c);for(;d!==null;)pe=d,_x(d),d=d.sibling;pe=c,cl=y,Wt=g}jh(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,pe=d):jh(e)}}function jh(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||bo(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Wt)if(r===null)a.componentDidMount();else{var c=t.elementType===t.type?r.memoizedProps:Fn(t.type,r.memoizedProps);a.componentDidUpdate(c,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&fh(t,d,a);break;case 3:var x=t.updateQueue;if(x!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}fh(t,x,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&r.focus();break;case"img":w.src&&(r.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var b=g.memoizedState;if(b!==null){var N=b.dehydrated;N!==null&&ua(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Wt||t.flags&512&&Au(t)}catch(A){xt(t,t.return,A)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function kh(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function _h(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bo(4,t)}catch(w){xt(t,r,w)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(w){xt(t,c,w)}}var d=t.return;try{Au(t)}catch(w){xt(t,d,w)}break;case 5:var x=t.return;try{Au(t)}catch(w){xt(t,x,w)}}}catch(w){xt(t,t.return,w)}if(t===e){pe=null;break}var y=t.sibling;if(y!==null){y.return=t.return,pe=y;break}pe=t.return}}var P2=Math.ceil,Jl=Cr.ReactCurrentDispatcher,Od=Cr.ReactCurrentOwner,Mn=Cr.ReactCurrentBatchConfig,Pe=0,_t=null,Nt=null,Pt=0,mn=0,ei=ts(0),Tt=0,va=null,Ss=0,vo=0,Dd=0,ta=null,ln=null,Ld=0,pi=1/0,cr=null,eo=!1,ju=null,Yr=null,ul=!1,Ur=null,to=0,na=0,ku=null,Al=-1,Tl=0;function qt(){return Pe&6?yt():Al!==-1?Al:Al=yt()}function Kr(e){return e.mode&1?Pe&2&&Pt!==0?Pt&-Pt:v2.transition!==null?(Tl===0&&(Tl=p1()),Tl):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:N1(e.type)),e):1}function Wn(e,t,r,a){if(50<na)throw na=0,ku=null,Error(re(185));Aa(e,r,a),(!(Pe&2)||e!==_t)&&(e===_t&&(!(Pe&2)&&(vo|=r),Tt===4&&Br(e,Pt)),dn(e,a),r===1&&Pe===0&&!(t.mode&1)&&(pi=yt()+500,mo&&ns()))}function dn(e,t){var r=e.callbackNode;vm(e,t);var a=Pl(e,e===_t?Pt:0);if(a===0)r!==null&&U0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&U0(r),t===1)e.tag===0?b2(Mh.bind(null,e)):z1(Mh.bind(null,e)),g2(function(){!(Pe&6)&&ns()}),r=null;else{switch(g1(a)){case 1:r=od;break;case 4:r=f1;break;case 16:r=Bl;break;case 536870912:r=x1;break;default:r=Bl}r=Fx(r,Mx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mx(e,t){if(Al=-1,Tl=0,Pe&6)throw Error(re(327));var r=e.callbackNode;if(li()&&e.callbackNode!==r)return null;var a=Pl(e,e===_t?Pt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=no(e,a);else{t=a;var c=Pe;Pe|=2;var d=Ox();(_t!==e||Pt!==t)&&(cr=null,pi=yt()+500,ws(e,t));do try{z2();break}catch(y){Rx(e,y)}while(!0);vd(),Jl.current=d,Pe=c,Nt!==null?t=0:(_t=null,Pt=0,t=Tt)}if(t!==0){if(t===2&&(c=ru(e),c!==0&&(a=c,t=_u(e,c))),t===1)throw r=va,ws(e,0),Br(e,a),dn(e,yt()),r;if(t===6)Br(e,a);else{if(c=e.current.alternate,!(a&30)&&!F2(c)&&(t=no(e,a),t===2&&(d=ru(e),d!==0&&(a=d,t=_u(e,d))),t===1))throw r=va,ws(e,0),Br(e,a),dn(e,yt()),r;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(re(345));case 2:xs(e,ln,cr);break;case 3:if(Br(e,a),(a&130023424)===a&&(t=Ld+500-yt(),10<t)){if(Pl(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){qt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=du(xs.bind(null,e,ln,cr),t);break}xs(e,ln,cr);break;case 4:if(Br(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var x=31-Vn(a);d=1<<x,x=t[x],x>c&&(c=x),a&=~d}if(a=c,a=yt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*P2(a/1960))-a,10<a){e.timeoutHandle=du(xs.bind(null,e,ln,cr),a);break}xs(e,ln,cr);break;case 5:xs(e,ln,cr);break;default:throw Error(re(329))}}}return dn(e,yt()),e.callbackNode===r?Mx.bind(null,e):null}function _u(e,t){var r=ta;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=no(e,t),e!==2&&(t=ln,ln=r,t!==null&&Mu(t)),e}function Mu(e){ln===null?ln=e:ln.push.apply(ln,e)}function F2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var c=r[a],d=c.getSnapshot;c=c.value;try{if(!Gn(d(),c))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~Dd,t&=~vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vn(t),a=1<<r;e[r]=-1,t&=~a}}function Mh(e){if(Pe&6)throw Error(re(327));li();var t=Pl(e,0);if(!(t&1))return dn(e,yt()),null;var r=no(e,t);if(e.tag!==0&&r===2){var a=ru(e);a!==0&&(t=a,r=_u(e,a))}if(r===1)throw r=va,ws(e,0),Br(e,t),dn(e,yt()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xs(e,ln,cr),dn(e,yt()),null}function Bd(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(pi=yt()+500,mo&&ns())}}function As(e){Ur!==null&&Ur.tag===0&&!(Pe&6)&&li();var t=Pe;Pe|=1;var r=Mn.transition,a=Ge;try{if(Mn.transition=null,Ge=1,e)return e()}finally{Ge=a,Mn.transition=r,Pe=t,!(Pe&6)&&ns()}}function Pd(){mn=ei.current,nt(ei)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p2(r)),Nt!==null)for(r=Nt.return;r!==null;){var a=r;switch(yd(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Vl();break;case 3:fi(),nt(cn),nt(Xt),Td();break;case 5:Ad(a);break;case 4:fi();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:Nd(a.type._context);break;case 22:case 23:Pd()}r=r.return}if(_t=e,Nt=e=Qr(e.current,null),Pt=mn=t,Tt=0,va=null,Dd=vo=Ss=0,ln=ta=null,gs!==null){for(t=0;t<gs.length;t++)if(r=gs[t],a=r.interleaved,a!==null){r.interleaved=null;var c=a.next,d=r.pending;if(d!==null){var x=d.next;d.next=c,a.next=x}r.pending=a}gs=null}return e}function Rx(e,t){do{var r=Nt;try{if(vd(),Cl.current=$l,ql){for(var a=ot.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ql=!1}if(Es=0,kt=At=ot=null,Ji=!1,ya=0,Od.current=null,r===null||r.return===null){Tt=1,va=t,Nt=null;break}e:{var d=e,x=r.return,y=r,w=t;if(t=Pt,y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var g=w,b=y,N=b.tag;if(!(b.mode&1)&&(N===0||N===11||N===15)){var A=b.alternate;A?(b.updateQueue=A.updateQueue,b.memoizedState=A.memoizedState,b.lanes=A.lanes):(b.updateQueue=null,b.memoizedState=null)}var D=wh(x);if(D!==null){D.flags&=-257,bh(D,x,y,d,t),D.mode&1&&yh(d,g,t),t=D,w=g;var R=t.updateQueue;if(R===null){var O=new Set;O.add(w),t.updateQueue=O}else R.add(w);break e}else{if(!(t&1)){yh(d,g,t),Fd();break e}w=Error(re(426))}}else if(st&&y.mode&1){var L=wh(x);if(L!==null){!(L.flags&65536)&&(L.flags|=256),bh(L,x,y,d,t),wd(xi(w,y));break e}}d=w=xi(w,y),Tt!==4&&(Tt=2),ta===null?ta=[d]:ta.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var j=gx(d,w,t);hh(d,j);break e;case 1:y=w;var I=d.type,T=d.stateNode;if(!(d.flags&128)&&(typeof I.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Yr===null||!Yr.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var U=mx(d,y,t);hh(d,U);break e}}d=d.return}while(d!==null)}Lx(r)}catch(H){t=H,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function Ox(){var e=Jl.current;return Jl.current=$l,e===null?$l:e}function Fd(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),_t===null||!(Ss&268435455)&&!(vo&268435455)||Br(_t,Pt)}function no(e,t){var r=Pe;Pe|=2;var a=Ox();(_t!==e||Pt!==t)&&(cr=null,ws(e,t));do try{U2();break}catch(c){Rx(e,c)}while(!0);if(vd(),Pe=r,Jl.current=a,Nt!==null)throw Error(re(261));return _t=null,Pt=0,Tt}function U2(){for(;Nt!==null;)Dx(Nt)}function z2(){for(;Nt!==null&&!hm();)Dx(Nt)}function Dx(e){var t=Px(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?Lx(e):Nt=t,Od.current=null}function Lx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=O2(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,Nt=null;return}}else if(r=R2(r,t,mn),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Tt===0&&(Tt=5)}function xs(e,t,r){var a=Ge,c=Mn.transition;try{Mn.transition=null,Ge=1,H2(e,t,r,a)}finally{Mn.transition=c,Ge=a}return null}function H2(e,t,r,a){do li();while(Ur!==null);if(Pe&6)throw Error(re(327));r=e.finishedWork;var c=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Nm(e,d),e===_t&&(Nt=_t=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ul||(ul=!0,Fx(Bl,function(){return li(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=Mn.transition,Mn.transition=null;var x=Ge;Ge=1;var y=Pe;Pe|=4,Od.current=null,L2(e,r),kx(r,e),o2(cu),Fl=!!ou,cu=ou=null,e.current=r,B2(r),fm(),Pe=y,Ge=x,Mn.transition=d}else e.current=r;if(ul&&(ul=!1,Ur=e,to=c),d=e.pendingLanes,d===0&&(Yr=null),gm(r.stateNode),dn(e,yt()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)c=t[r],a(c.value,{componentStack:c.stack,digest:c.digest});if(eo)throw eo=!1,e=ju,ju=null,e;return to&1&&e.tag!==0&&li(),d=e.pendingLanes,d&1?e===ku?na++:(na=0,ku=e):na=0,ns(),null}function li(){if(Ur!==null){var e=g1(to),t=Mn.transition,r=Ge;try{if(Mn.transition=null,Ge=16>e?16:e,Ur===null)var a=!1;else{if(e=Ur,Ur=null,to=0,Pe&6)throw Error(re(331));var c=Pe;for(Pe|=4,pe=e.current;pe!==null;){var d=pe,x=d.child;if(pe.flags&16){var y=d.deletions;if(y!==null){for(var w=0;w<y.length;w++){var g=y[w];for(pe=g;pe!==null;){var b=pe;switch(b.tag){case 0:case 11:case 15:ea(8,b,d)}var N=b.child;if(N!==null)N.return=b,pe=N;else for(;pe!==null;){b=pe;var A=b.sibling,D=b.return;if(Tx(b),b===g){pe=null;break}if(A!==null){A.return=D,pe=A;break}pe=D}}}var R=d.alternate;if(R!==null){var O=R.child;if(O!==null){R.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}pe=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,pe=x;else e:for(;pe!==null;){if(d=pe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ea(9,d,d.return)}var j=d.sibling;if(j!==null){j.return=d.return,pe=j;break e}pe=d.return}}var I=e.current;for(pe=I;pe!==null;){x=pe;var T=x.child;if(x.subtreeFlags&2064&&T!==null)T.return=x,pe=T;else e:for(x=I;pe!==null;){if(y=pe,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:bo(9,y)}}catch(H){xt(y,y.return,H)}if(y===x){pe=null;break e}var U=y.sibling;if(U!==null){U.return=y.return,pe=U;break e}pe=y.return}}if(Pe=c,ns(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(ho,e)}catch{}a=!0}return a}finally{Ge=r,Mn.transition=t}}return!1}function Rh(e,t,r){t=xi(r,t),t=gx(e,t,1),e=Xr(e,t,1),t=qt(),e!==null&&(Aa(e,1,t),dn(e,t))}function xt(e,t,r){if(e.tag===3)Rh(e,e,r);else for(;t!==null;){if(t.tag===3){Rh(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yr===null||!Yr.has(a))){e=xi(r,e),e=mx(t,e,1),t=Xr(t,e,1),e=qt(),t!==null&&(Aa(t,1,e),dn(t,e));break}}t=t.return}}function V2(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Pt&r)===r&&(Tt===4||Tt===3&&(Pt&130023424)===Pt&&500>yt()-Ld?ws(e,0):Dd|=r),dn(e,t)}function Bx(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var r=qt();e=br(e,t),e!==null&&(Aa(e,t,r),dn(e,r))}function W2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Bx(e,r)}function G2(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(re(314))}a!==null&&a.delete(t),Bx(e,r)}var Px;Px=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)on=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return on=!1,M2(e,t,r);on=!!(e.flags&131072)}else on=!1,st&&t.flags&1048576&&H1(t,Xl,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Sl(e,t),e=t.pendingProps;var c=ui(t,Xt.current);ai(t,r),c=jd(null,t,a,e,c,r);var d=kd();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(a)?(d=!0,Wl(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Ed(t),c.updater=wo,t.stateNode=c,c._reactInternals=t,yu(t,a,e,r),t=vu(null,t,a,!0,d,r)):(t.tag=0,st&&d&&md(t),Zt(null,t,c,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=Y2(a),e=Fn(a,e),c){case 0:t=bu(null,t,a,e,r);break e;case 1:t=Ch(null,t,a,e,r);break e;case 11:t=vh(null,t,a,e,r);break e;case 14:t=Nh(null,t,a,Fn(a.type,e),r);break e}throw Error(re(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Fn(a,c),bu(e,t,a,c,r);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Fn(a,c),Ch(e,t,a,c,r);case 3:e:{if(vx(t),e===null)throw Error(re(387));a=t.pendingProps,d=t.memoizedState,c=d.element,K1(e,t),Ql(t,a,null,r);var x=t.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=xi(Error(re(423)),t),t=Eh(e,t,a,r,c);break e}else if(a!==c){c=xi(Error(re(424)),t),t=Eh(e,t,a,r,c);break e}else for(wn=Gr(t.stateNode.containerInfo.firstChild),bn=t,st=!0,Hn=null,r=X1(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(di(),a===c){t=vr(e,t,r);break e}Zt(e,t,a,r)}t=t.child}return t;case 5:return Q1(t),e===null&&pu(t),a=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,x=c.children,uu(a,c)?x=null:d!==null&&uu(a,d)&&(t.flags|=32),bx(e,t),Zt(e,t,x,r),t.child;case 6:return e===null&&pu(t),null;case 13:return Nx(e,t,r);case 4:return Sd(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=hi(t,null,a,r):Zt(e,t,a,r),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Fn(a,c),vh(e,t,a,c,r);case 7:return Zt(e,t,t.pendingProps,r),t.child;case 8:return Zt(e,t,t.pendingProps.children,r),t.child;case 12:return Zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,d=t.memoizedProps,x=c.value,Je(Yl,a._currentValue),a._currentValue=x,d!==null)if(Gn(d.value,x)){if(d.children===c.children&&!cn.current){t=vr(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){x=d.child;for(var w=y.firstContext;w!==null;){if(w.context===a){if(d.tag===1){w=pr(-1,r&-r),w.tag=2;var g=d.updateQueue;if(g!==null){g=g.shared;var b=g.pending;b===null?w.next=w:(w.next=b.next,b.next=w),g.pending=w}}d.lanes|=r,w=d.alternate,w!==null&&(w.lanes|=r),gu(d.return,r,t),y.lanes|=r;break}w=w.next}}else if(d.tag===10)x=d.type===t.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(re(341));x.lanes|=r,y=x.alternate,y!==null&&(y.lanes|=r),gu(x,r,t),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Zt(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,ai(t,r),c=Rn(c),a=a(c),t.flags|=1,Zt(e,t,a,r),t.child;case 14:return a=t.type,c=Fn(a,t.pendingProps),c=Fn(a.type,c),Nh(e,t,a,c,r);case 15:return yx(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:Fn(a,c),Sl(e,t),t.tag=1,un(a)?(e=!0,Wl(t)):e=!1,ai(t,r),px(t,a,c),yu(t,a,c,r),vu(null,t,a,!0,e,r);case 19:return Cx(e,t,r);case 22:return wx(e,t,r)}throw Error(re(156,t.tag))};function Fx(e,t){return h1(e,t)}function X2(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,r,a){return new X2(e,t,r,a)}function Ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y2(e){if(typeof e=="function")return Ud(e)?1:0;if(e!=null){if(e=e.$$typeof,e===id)return 11;if(e===ad)return 14}return 2}function Qr(e,t){var r=e.alternate;return r===null?(r=_n(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Il(e,t,r,a,c,d){var x=2;if(a=e,typeof e=="function")Ud(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case Ws:return bs(r.children,c,d,t);case sd:x=8,c|=8;break;case Hc:return e=_n(12,r,t,c|2),e.elementType=Hc,e.lanes=d,e;case Vc:return e=_n(13,r,t,c),e.elementType=Vc,e.lanes=d,e;case Wc:return e=_n(19,r,t,c),e.elementType=Wc,e.lanes=d,e;case Qf:return No(r,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yf:x=10;break e;case Kf:x=9;break e;case id:x=11;break e;case ad:x=14;break e;case Or:x=16,a=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=_n(x,r,t,c),t.elementType=e,t.type=a,t.lanes=d,t}function bs(e,t,r,a){return e=_n(7,e,a,t),e.lanes=r,e}function No(e,t,r,a){return e=_n(22,e,a,t),e.elementType=Qf,e.lanes=r,e.stateNode={isHidden:!1},e}function Tc(e,t,r){return e=_n(6,e,null,t),e.lanes=r,e}function Ic(e,t,r){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K2(e,t,r,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oc(0),this.expirationTimes=oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function zd(e,t,r,a,c,d,x,y,w){return e=new K2(e,t,r,y,w),t===1?(t=1,d===!0&&(t|=8)):t=0,d=_n(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(d),e}function Q2(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Ux(e){if(!e)return $r;e=e._reactInternals;e:{if(js(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(un(r))return U1(e,r,t)}return t}function zx(e,t,r,a,c,d,x,y,w){return e=zd(r,a,!0,e,c,d,x,y,w),e.context=Ux(null),r=e.current,a=qt(),c=Kr(r),d=pr(a,c),d.callback=t??null,Xr(r,d,c),e.current.lanes=c,Aa(e,c,a),dn(e,a),e}function Co(e,t,r,a){var c=t.current,d=qt(),x=Kr(c);return r=Ux(r),t.context===null?t.context=r:t.pendingContext=r,t=pr(d,x),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Xr(c,t,x),e!==null&&(Wn(e,c,x,d),Nl(e,c,x)),x}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hd(e,t){Oh(e,t),(e=e.alternate)&&Oh(e,t)}function Z2(){return null}var Hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vd(e){this._internalRoot=e}Eo.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Co(e,t,null,null)};Eo.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;As(function(){Co(null,e,null,null)}),t[wr]=null}};function Eo(e){this._internalRoot=e}Eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=w1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lr.length&&t!==0&&t<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&v1(e)}};function Wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function So(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dh(){}function q2(e,t,r,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var g=ro(x);d.call(g)}}var x=zx(t,a,e,0,null,!1,!1,"",Dh);return e._reactRootContainer=x,e[wr]=x.current,fa(e.nodeType===8?e.parentNode:e),As(),x}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var y=a;a=function(){var g=ro(w);y.call(g)}}var w=zd(e,0,!1,null,null,!1,!1,"",Dh);return e._reactRootContainer=w,e[wr]=w.current,fa(e.nodeType===8?e.parentNode:e),As(function(){Co(t,w,r,a)}),w}function Ao(e,t,r,a,c){var d=r._reactRootContainer;if(d){var x=d;if(typeof c=="function"){var y=c;c=function(){var w=ro(x);y.call(w)}}Co(t,x,e,c)}else x=q2(r,t,e,c,a);return ro(x)}m1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xi(t.pendingLanes);r!==0&&(cd(t,r|1),dn(t,yt()),!(Pe&6)&&(pi=yt()+500,ns()))}break;case 13:As(function(){var a=br(e,1);if(a!==null){var c=qt();Wn(a,e,1,c)}}),Hd(e,1)}};ud=function(e){if(e.tag===13){var t=br(e,134217728);if(t!==null){var r=qt();Wn(t,e,134217728,r)}Hd(e,134217728)}};y1=function(e){if(e.tag===13){var t=Kr(e),r=br(e,t);if(r!==null){var a=qt();Wn(r,e,t,a)}Hd(e,t)}};w1=function(){return Ge};b1=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}};eu=function(e,t,r){switch(t){case"input":if(Yc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var c=go(a);if(!c)throw Error(re(90));qf(a),Yc(a,c)}}}break;case"textarea":Jf(e,r);break;case"select":t=r.value,t!=null&&ni(e,!!r.multiple,t,!1)}};a1=Bd;l1=As;var $2={usingClientEntryPoint:!1,Events:[Ia,Ks,go,s1,i1,Bd]},Hi={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J2={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u1(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{ho=dl.inject(J2),ir=dl}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$2;Nn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wd(t))throw Error(re(200));return Q2(e,t,null,r)};Nn.createRoot=function(e,t){if(!Wd(e))throw Error(re(299));var r=!1,a="",c=Hx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=zd(e,1,!1,null,null,r,!1,a,c),e[wr]=t.current,fa(e.nodeType===8?e.parentNode:e),new Vd(t)};Nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=u1(t),e=e===null?null:e.stateNode,e};Nn.flushSync=function(e){return As(e)};Nn.hydrate=function(e,t,r){if(!So(t))throw Error(re(200));return Ao(null,e,t,!0,r)};Nn.hydrateRoot=function(e,t,r){if(!Wd(e))throw Error(re(405));var a=r!=null&&r.hydratedSources||null,c=!1,d="",x=Hx;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),t=zx(t,null,e,1,r??null,c,!1,d,x),e[wr]=t.current,fa(e),a)for(e=0;e<a.length;e++)r=a[e],c=r._getVersion,c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c);return new Eo(t)};Nn.render=function(e,t,r){if(!So(t))throw Error(re(200));return Ao(null,e,t,!1,r)};Nn.unmountComponentAtNode=function(e){if(!So(e))throw Error(re(40));return e._reactRootContainer?(As(function(){Ao(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};Nn.unstable_batchedUpdates=Bd;Nn.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!So(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Ao(e,t,r,!1,a)};Nn.version="18.3.1-next-f1338f8080-20240426";function Vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vx)}catch(e){console.error(e)}}Vx(),Vf.exports=Nn;var ey=Vf.exports,Lh=ey;Uc.createRoot=Lh.createRoot,Uc.hydrateRoot=Lh.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Na.apply(this,arguments)}var zr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zr||(zr={}));const Bh="popstate";function ty(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:x,hash:y}=a.location;return Ru("",{pathname:d,search:x,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(a,c){return typeof c=="string"?c:so(c)}return ry(t,r,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ny(){return Math.random().toString(36).substr(2,8)}function Ph(e,t){return{usr:e.state,key:e.key,idx:t}}function Ru(e,t,r,a){return r===void 0&&(r=null),Na({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bi(t):t,{state:r,key:t&&t.key||a||ny()})}function so(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function bi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function ry(e,t,r,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,x=c.history,y=zr.Pop,w=null,g=b();g==null&&(g=0,x.replaceState(Na({},x.state,{idx:g}),""));function b(){return(x.state||{idx:null}).idx}function N(){y=zr.Pop;let L=b(),j=L==null?null:L-g;g=L,w&&w({action:y,location:O.location,delta:j})}function A(L,j){y=zr.Push;let I=Ru(O.location,L,j);g=b()+1;let T=Ph(I,g),U=O.createHref(I);try{x.pushState(T,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;c.location.assign(U)}d&&w&&w({action:y,location:O.location,delta:1})}function D(L,j){y=zr.Replace;let I=Ru(O.location,L,j);g=b();let T=Ph(I,g),U=O.createHref(I);x.replaceState(T,"",U),d&&w&&w({action:y,location:O.location,delta:0})}function R(L){let j=c.location.origin!=="null"?c.location.origin:c.location.href,I=typeof L=="string"?L:so(L);return I=I.replace(/ $/,"%20"),wt(j,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,j)}let O={get action(){return y},get location(){return e(c,x)},listen(L){if(w)throw new Error("A history only accepts one active listener");return c.addEventListener(Bh,N),w=L,()=>{c.removeEventListener(Bh,N),w=null}},createHref(L){return t(c,L)},createURL:R,encodeLocation(L){let j=R(L);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:D,go(L){return x.go(L)}};return O}var Fh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fh||(Fh={}));function sy(e,t,r){return r===void 0&&(r="/"),iy(e,t,r)}function iy(e,t,r,a){let c=typeof t=="string"?bi(t):t,d=Xd(c.pathname||"/",r);if(d==null)return null;let x=Wx(e);ay(x);let y=null;for(let w=0;y==null&&w<x.length;++w){let g=yy(d);y=py(x[w],g)}return y}function Wx(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let c=(d,x,y)=>{let w={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};w.relativePath.startsWith("/")&&(wt(w.relativePath.startsWith(a),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(a.length));let g=Zr([a,w.relativePath]),b=r.concat(w);d.children&&d.children.length>0&&(wt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Wx(d.children,t,b,g)),!(d.path==null&&!d.index)&&t.push({path:g,score:fy(g,d.index),routesMeta:b})};return e.forEach((d,x)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))c(d,x);else for(let w of Gx(d.path))c(d,x,w)}),t}function Gx(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let x=Gx(a.join("/")),y=[];return y.push(...x.map(w=>w===""?d:[d,w].join("/"))),c&&y.push(...x),y.map(w=>e.startsWith("/")&&w===""?"/":w)}function ay(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xy(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const ly=/^:[\w-]+$/,oy=3,cy=2,uy=1,dy=10,hy=-2,Uh=e=>e==="*";function fy(e,t){let r=e.split("/"),a=r.length;return r.some(Uh)&&(a+=hy),t&&(a+=cy),r.filter(c=>!Uh(c)).reduce((c,d)=>c+(ly.test(d)?oy:d===""?uy:dy),a)}function xy(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function py(e,t,r){let{routesMeta:a}=e,c={},d="/",x=[];for(let y=0;y<a.length;++y){let w=a[y],g=y===a.length-1,b=d==="/"?t:t.slice(d.length)||"/",N=gy({path:w.relativePath,caseSensitive:w.caseSensitive,end:g},b),A=w.route;if(!N)return null;Object.assign(c,N.params),x.push({params:c,pathname:Zr([d,N.pathname]),pathnameBase:Cy(Zr([d,N.pathnameBase])),route:A}),N.pathnameBase!=="/"&&(d=Zr([d,N.pathnameBase]))}return x}function gy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=my(e.path,e.caseSensitive,e.end),c=t.match(r);if(!c)return null;let d=c[0],x=d.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:a.reduce((g,b,N)=>{let{paramName:A,isOptional:D}=b;if(A==="*"){let O=y[N]||"";x=d.slice(0,d.length-O.length).replace(/(.)\/+$/,"$1")}const R=y[N];return D&&!R?g[A]=void 0:g[A]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:x,pattern:e}}function my(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Gd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,y,w)=>(a.push({paramName:y,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function yy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,by=e=>wy.test(e);function vy(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:c=""}=typeof e=="string"?bi(e):e,d;if(r)if(by(r))d=r;else{if(r.includes("//")){let x=r;r=r.replace(/\/\/+/g,"/"),Gd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(x+" -> "+r))}r.startsWith("/")?d=zh(r.substring(1),"/"):d=zh(r,t)}else d=t;return{pathname:d,search:Ey(a),hash:Sy(c)}}function zh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function jc(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ny(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yd(e,t){let r=Ny(e);return t?r.map((a,c)=>c===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Kd(e,t,r,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=bi(e):(c=Na({},e),wt(!c.pathname||!c.pathname.includes("?"),jc("?","pathname","search",c)),wt(!c.pathname||!c.pathname.includes("#"),jc("#","pathname","hash",c)),wt(!c.search||!c.search.includes("#"),jc("#","search","hash",c)));let d=e===""||c.pathname==="",x=d?"/":c.pathname,y;if(x==null)y=r;else{let N=t.length-1;if(!a&&x.startsWith("..")){let A=x.split("/");for(;A[0]==="..";)A.shift(),N-=1;c.pathname=A.join("/")}y=N>=0?t[N]:"/"}let w=vy(c,y),g=x&&x!=="/"&&x.endsWith("/"),b=(d||x===".")&&r.endsWith("/");return!w.pathname.endsWith("/")&&(g||b)&&(w.pathname+="/"),w}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),Cy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ey=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ay(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xx=["post","put","patch","delete"];new Set(Xx);const Ty=["get",...Xx];new Set(Ty);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ca.apply(this,arguments)}const Qd=M.createContext(null),Iy=M.createContext(null),rs=M.createContext(null),To=M.createContext(null),Er=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Yx=M.createContext(null);function jy(e,t){let{relative:r}=t===void 0?{}:t;vi()||wt(!1);let{basename:a,navigator:c}=M.useContext(rs),{hash:d,pathname:x,search:y}=Qx(e,{relative:r}),w=x;return a!=="/"&&(w=x==="/"?a:Zr([a,x])),c.createHref({pathname:w,search:y,hash:d})}function vi(){return M.useContext(To)!=null}function ks(){return vi()||wt(!1),M.useContext(To).location}function Kx(e){M.useContext(rs).static||M.useLayoutEffect(e)}function _s(){let{isDataRoute:e}=M.useContext(Er);return e?Wy():ky()}function ky(){vi()||wt(!1);let e=M.useContext(Qd),{basename:t,future:r,navigator:a}=M.useContext(rs),{matches:c}=M.useContext(Er),{pathname:d}=ks(),x=JSON.stringify(Yd(c,r.v7_relativeSplatPath)),y=M.useRef(!1);return Kx(()=>{y.current=!0}),M.useCallback(function(g,b){if(b===void 0&&(b={}),!y.current)return;if(typeof g=="number"){a.go(g);return}let N=Kd(g,JSON.parse(x),d,b.relative==="path");e==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:Zr([t,N.pathname])),(b.replace?a.replace:a.push)(N,b.state,b)},[t,a,x,d,e])}const _y=M.createContext(null);function My(e){let t=M.useContext(Er).outlet;return t&&M.createElement(_y.Provider,{value:e},t)}function Qx(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=M.useContext(rs),{matches:c}=M.useContext(Er),{pathname:d}=ks(),x=JSON.stringify(Yd(c,a.v7_relativeSplatPath));return M.useMemo(()=>Kd(e,JSON.parse(x),d,r==="path"),[e,x,d,r])}function Ry(e,t){return Oy(e,t)}function Oy(e,t,r,a){vi()||wt(!1);let{navigator:c}=M.useContext(rs),{matches:d}=M.useContext(Er),x=d[d.length-1],y=x?x.params:{};x&&x.pathname;let w=x?x.pathnameBase:"/";x&&x.route;let g=ks(),b;if(t){var N;let L=typeof t=="string"?bi(t):t;w==="/"||(N=L.pathname)!=null&&N.startsWith(w)||wt(!1),b=L}else b=g;let A=b.pathname||"/",D=A;if(w!=="/"){let L=w.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(L.length).join("/")}let R=sy(e,{pathname:D}),O=Fy(R&&R.map(L=>Object.assign({},L,{params:Object.assign({},y,L.params),pathname:Zr([w,c.encodeLocation?c.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?w:Zr([w,c.encodeLocation?c.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),d,r,a);return t&&O?M.createElement(To.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:zr.Pop}},O):O}function Dy(){let e=Vy(),t=Ay(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:c},r):null,null)}const Ly=M.createElement(Dy,null);class By extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(Er.Provider,{value:this.props.routeContext},M.createElement(Yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Py(e){let{routeContext:t,match:r,children:a}=e,c=M.useContext(Qd);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(Er.Provider,{value:t},a)}function Fy(e,t,r,a){var c;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let x=e,y=(c=r)==null?void 0:c.errors;if(y!=null){let b=x.findIndex(N=>N.route.id&&(y==null?void 0:y[N.route.id])!==void 0);b>=0||wt(!1),x=x.slice(0,Math.min(x.length,b+1))}let w=!1,g=-1;if(r&&a&&a.v7_partialHydration)for(let b=0;b<x.length;b++){let N=x[b];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(g=b),N.route.id){let{loaderData:A,errors:D}=r,R=N.route.loader&&A[N.route.id]===void 0&&(!D||D[N.route.id]===void 0);if(N.route.lazy||R){w=!0,g>=0?x=x.slice(0,g+1):x=[x[0]];break}}}return x.reduceRight((b,N,A)=>{let D,R=!1,O=null,L=null;r&&(D=y&&N.route.id?y[N.route.id]:void 0,O=N.route.errorElement||Ly,w&&(g<0&&A===0?(Gy("route-fallback"),R=!0,L=null):g===A&&(R=!0,L=N.route.hydrateFallbackElement||null)));let j=t.concat(x.slice(0,A+1)),I=()=>{let T;return D?T=O:R?T=L:N.route.Component?T=M.createElement(N.route.Component,null):N.route.element?T=N.route.element:T=b,M.createElement(Py,{match:N,routeContext:{outlet:b,matches:j,isDataRoute:r!=null},children:T})};return r&&(N.route.ErrorBoundary||N.route.errorElement||A===0)?M.createElement(By,{location:r.location,revalidation:r.revalidation,component:O,error:D,children:I(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):I()},null)}var Zx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zx||{}),qx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qx||{});function Uy(e){let t=M.useContext(Qd);return t||wt(!1),t}function zy(e){let t=M.useContext(Iy);return t||wt(!1),t}function Hy(e){let t=M.useContext(Er);return t||wt(!1),t}function $x(e){let t=Hy(),r=t.matches[t.matches.length-1];return r.route.id||wt(!1),r.route.id}function Vy(){var e;let t=M.useContext(Yx),r=zy(),a=$x();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function Wy(){let{router:e}=Uy(Zx.UseNavigateStable),t=$x(qx.UseNavigateStable),r=M.useRef(!1);return Kx(()=>{r.current=!0}),M.useCallback(function(c,d){d===void 0&&(d={}),r.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Ca({fromRouteId:t},d)))},[e,t])}const Hh={};function Gy(e,t,r){Hh[e]||(Hh[e]=!0)}function Xy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ou(e){let{to:t,replace:r,state:a,relative:c}=e;vi()||wt(!1);let{future:d,static:x}=M.useContext(rs),{matches:y}=M.useContext(Er),{pathname:w}=ks(),g=_s(),b=Kd(t,Yd(y,d.v7_relativeSplatPath),w,c==="path"),N=JSON.stringify(b);return M.useEffect(()=>g(JSON.parse(N),{replace:r,state:a,relative:c}),[g,N,c,r,a]),null}function Yy(e){return My(e.context)}function Qt(e){wt(!1)}function Ky(e){let{basename:t="/",children:r=null,location:a,navigationType:c=zr.Pop,navigator:d,static:x=!1,future:y}=e;vi()&&wt(!1);let w=t.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:w,navigator:d,static:x,future:Ca({v7_relativeSplatPath:!1},y)}),[w,y,d,x]);typeof a=="string"&&(a=bi(a));let{pathname:b="/",search:N="",hash:A="",state:D=null,key:R="default"}=a,O=M.useMemo(()=>{let L=Xd(b,w);return L==null?null:{location:{pathname:L,search:N,hash:A,state:D,key:R},navigationType:c}},[w,b,N,A,D,R,c]);return O==null?null:M.createElement(rs.Provider,{value:g},M.createElement(To.Provider,{children:r,value:O}))}function Qy(e){let{children:t,location:r}=e;return Ry(Du(t),r)}new Promise(()=>{});function Du(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(a,c)=>{if(!M.isValidElement(a))return;let d=[...t,c];if(a.type===M.Fragment){r.push.apply(r,Du(a.props.children,d));return}a.type!==Qt&&wt(!1),!a.props.index||!a.props.children||wt(!1);let x={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(x.children=Du(a.props.children,d)),r.push(x)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lu.apply(this,arguments)}function Zy(e,t){if(e==null)return{};var r={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function qy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $y(e,t){return e.button===0&&(!t||t==="_self")&&!qy(e)}function Bu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(c=>[r,c]):[[r,a]])},[]))}function Jy(e,t){let r=Bu(e);return t&&t.forEach((a,c)=>{r.has(c)||t.getAll(c).forEach(d=>{r.append(c,d)})}),r}const ew=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tw="6";try{window.__reactRouterVersion=tw}catch{}const nw="startTransition",Vh=Vg[nw];function rw(e){let{basename:t,children:r,future:a,window:c}=e,d=M.useRef();d.current==null&&(d.current=ty({window:c,v5Compat:!0}));let x=d.current,[y,w]=M.useState({action:x.action,location:x.location}),{v7_startTransition:g}=a||{},b=M.useCallback(N=>{g&&Vh?Vh(()=>w(N)):w(N)},[w,g]);return M.useLayoutEffect(()=>x.listen(b),[x,b]),M.useEffect(()=>Xy(a),[a]),M.createElement(Ky,{basename:t,children:r,location:y.location,navigationType:y.action,navigator:x,future:a})}const sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aw=M.forwardRef(function(t,r){let{onClick:a,relative:c,reloadDocument:d,replace:x,state:y,target:w,to:g,preventScrollReset:b,viewTransition:N}=t,A=Zy(t,ew),{basename:D}=M.useContext(rs),R,O=!1;if(typeof g=="string"&&iw.test(g)&&(R=g,sw))try{let T=new URL(window.location.href),U=g.startsWith("//")?new URL(T.protocol+g):new URL(g),H=Xd(U.pathname,D);U.origin===T.origin&&H!=null?g=H+U.search+U.hash:O=!0}catch{}let L=jy(g,{relative:c}),j=lw(g,{replace:x,state:y,target:w,preventScrollReset:b,relative:c,viewTransition:N});function I(T){a&&a(T),T.defaultPrevented||j(T)}return M.createElement("a",Lu({},A,{href:R||L,onClick:O||d?a:I,ref:r,target:w}))});var Wh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wh||(Wh={}));var Gh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gh||(Gh={}));function lw(e,t){let{target:r,replace:a,state:c,preventScrollReset:d,relative:x,viewTransition:y}=t===void 0?{}:t,w=_s(),g=ks(),b=Qx(e,{relative:x});return M.useCallback(N=>{if($y(N,r)){N.preventDefault();let A=a!==void 0?a:so(g)===so(b);w(e,{replace:A,state:c,preventScrollReset:d,relative:x,viewTransition:y})}},[g,w,b,a,c,r,e,d,x,y])}function ow(e){let t=M.useRef(Bu(e)),r=M.useRef(!1),a=ks(),c=M.useMemo(()=>Jy(a.search,r.current?null:t.current),[a.search]),d=_s(),x=M.useCallback((y,w)=>{const g=Bu(typeof y=="function"?y(c):y);r.current=!0,d("?"+g,w)},[d,c]);return[c,x]}function Jx(e,t){return function(){return e.apply(t,arguments)}}const{toString:cw}=Object.prototype,{getPrototypeOf:Zd}=Object,{iterator:Io,toStringTag:ep}=Symbol,jo=(e=>t=>{const r=cw.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>jo(t)===e),ko=e=>t=>typeof t===e,{isArray:Ni}=Array,gi=ko("undefined");function ka(e){return e!==null&&!gi(e)&&e.constructor!==null&&!gi(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tp=Xn("ArrayBuffer");function uw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tp(e.buffer),t}const dw=ko("string"),hn=ko("function"),np=ko("number"),_a=e=>e!==null&&typeof e=="object",hw=e=>e===!0||e===!1,jl=e=>{if(jo(e)!=="object")return!1;const t=Zd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ep in e)&&!(Io in e)},fw=e=>{if(!_a(e)||ka(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},xw=Xn("Date"),pw=Xn("File"),gw=Xn("Blob"),mw=Xn("FileList"),yw=e=>_a(e)&&hn(e.pipe),ww=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hn(e.append)&&((t=jo(e))==="formdata"||t==="object"&&hn(e.toString)&&e.toString()==="[object FormData]"))},bw=Xn("URLSearchParams"),[vw,Nw,Cw,Ew]=["ReadableStream","Request","Response","Headers"].map(Xn),Sw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ma(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Ni(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(ka(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),x=d.length;let y;for(a=0;a<x;a++)y=d[a],t.call(null,e[y],y,e)}}function rp(e,t){if(ka(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,c;for(;a-- >0;)if(c=r[a],t===c.toLowerCase())return c;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sp=e=>!gi(e)&&e!==ys;function Pu(){const{caseless:e,skipUndefined:t}=sp(this)&&this||{},r={},a=(c,d)=>{if(d==="__proto__"||d==="constructor"||d==="prototype")return;const x=e&&rp(r,d)||d;jl(r[x])&&jl(c)?r[x]=Pu(r[x],c):jl(c)?r[x]=Pu({},c):Ni(c)?r[x]=c.slice():(!t||!gi(c))&&(r[x]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&Ma(arguments[c],a);return r}const Aw=(e,t,r,{allOwnKeys:a}={})=>(Ma(t,(c,d)=>{r&&hn(c)?Object.defineProperty(e,d,{value:Jx(c,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,d,{value:c,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e),Tw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Iw=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},jw=(e,t,r,a)=>{let c,d,x;const y={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)x=c[d],(!a||a(x,e,t))&&!y[x]&&(t[x]=e[x],y[x]=!0);e=r!==!1&&Zd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kw=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},_w=e=>{if(!e)return null;if(Ni(e))return e;let t=e.length;if(!np(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Mw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Zd(Uint8Array)),Rw=(e,t)=>{const a=(e&&e[Io]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},Ow=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},Dw=Xn("HTMLFormElement"),Lw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,c){return a.toUpperCase()+c}),Xh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Bw=Xn("RegExp"),ip=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Ma(r,(c,d)=>{let x;(x=t(c,d,e))!==!1&&(a[d]=x||c)}),Object.defineProperties(e,a)},Pw=e=>{ip(e,(t,r)=>{if(hn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(hn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Fw=(e,t)=>{const r={},a=c=>{c.forEach(d=>{r[d]=!0})};return Ni(e)?a(e):a(String(e).split(t)),r},Uw=()=>{},zw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Hw(e){return!!(e&&hn(e.append)&&e[ep]==="FormData"&&e[Io])}const Vw=e=>{const t=new Array(10),r=(a,c)=>{if(_a(a)){if(t.indexOf(a)>=0)return;if(ka(a))return a;if(!("toJSON"in a)){t[c]=a;const d=Ni(a)?[]:{};return Ma(a,(x,y)=>{const w=r(x,c+1);!gi(w)&&(d[y]=w)}),t[c]=void 0,d}}return a};return r(e,0)},Ww=Xn("AsyncFunction"),Gw=e=>e&&(_a(e)||hn(e))&&hn(e.then)&&hn(e.catch),ap=((e,t)=>e?setImmediate:t?((r,a)=>(ys.addEventListener("message",({source:c,data:d})=>{c===ys&&d===r&&a.length&&a.shift()()},!1),c=>{a.push(c),ys.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",hn(ys.postMessage)),Xw=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||ap,Yw=e=>e!=null&&hn(e[Io]),Z={isArray:Ni,isArrayBuffer:tp,isBuffer:ka,isFormData:ww,isArrayBufferView:uw,isString:dw,isNumber:np,isBoolean:hw,isObject:_a,isPlainObject:jl,isEmptyObject:fw,isReadableStream:vw,isRequest:Nw,isResponse:Cw,isHeaders:Ew,isUndefined:gi,isDate:xw,isFile:pw,isBlob:gw,isRegExp:Bw,isFunction:hn,isStream:yw,isURLSearchParams:bw,isTypedArray:Mw,isFileList:mw,forEach:Ma,merge:Pu,extend:Aw,trim:Sw,stripBOM:Tw,inherits:Iw,toFlatObject:jw,kindOf:jo,kindOfTest:Xn,endsWith:kw,toArray:_w,forEachEntry:Rw,matchAll:Ow,isHTMLForm:Dw,hasOwnProperty:Xh,hasOwnProp:Xh,reduceDescriptors:ip,freezeMethods:Pw,toObjectSet:Fw,toCamelCase:Lw,noop:Uw,toFiniteNumber:zw,findKey:rp,global:ys,isContextDefined:sp,isSpecCompliantForm:Hw,toJSONObject:Vw,isAsyncFn:Ww,isThenable:Gw,setImmediate:ap,asap:Xw,isIterable:Yw};let Ae=class lp extends Error{static from(t,r,a,c,d,x){const y=new lp(t.message,r||t.code,a,c,d);return y.cause=t,y.name=t.name,x&&Object.assign(y,x),y}constructor(t,r,a,c,d){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),a&&(this.config=a),c&&(this.request=c),d&&(this.response=d,this.status=d.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}};Ae.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ae.ERR_BAD_OPTION="ERR_BAD_OPTION";Ae.ECONNABORTED="ECONNABORTED";Ae.ETIMEDOUT="ETIMEDOUT";Ae.ERR_NETWORK="ERR_NETWORK";Ae.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ae.ERR_DEPRECATED="ERR_DEPRECATED";Ae.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ae.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ae.ERR_CANCELED="ERR_CANCELED";Ae.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ae.ERR_INVALID_URL="ERR_INVALID_URL";const Kw=null;function Fu(e){return Z.isPlainObject(e)||Z.isArray(e)}function op(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function Yh(e,t,r){return e?e.concat(t).map(function(c,d){return c=op(c),!r&&d?"["+c+"]":c}).join(r?".":""):t}function Qw(e){return Z.isArray(e)&&!e.some(Fu)}const Zw=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function _o(e,t,r){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,L){return!Z.isUndefined(L[O])});const a=r.metaTokens,c=r.visitor||b,d=r.dots,x=r.indexes,w=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(t);if(!Z.isFunction(c))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(Z.isDate(R))return R.toISOString();if(Z.isBoolean(R))return R.toString();if(!w&&Z.isBlob(R))throw new Ae("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(R)||Z.isTypedArray(R)?w&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,O,L){let j=R;if(R&&!L&&typeof R=="object"){if(Z.endsWith(O,"{}"))O=a?O:O.slice(0,-2),R=JSON.stringify(R);else if(Z.isArray(R)&&Qw(R)||(Z.isFileList(R)||Z.endsWith(O,"[]"))&&(j=Z.toArray(R)))return O=op(O),j.forEach(function(T,U){!(Z.isUndefined(T)||T===null)&&t.append(x===!0?Yh([O],U,d):x===null?O:O+"[]",g(T))}),!1}return Fu(R)?!0:(t.append(Yh(L,O,d),g(R)),!1)}const N=[],A=Object.assign(Zw,{defaultVisitor:b,convertValue:g,isVisitable:Fu});function D(R,O){if(!Z.isUndefined(R)){if(N.indexOf(R)!==-1)throw Error("Circular reference detected in "+O.join("."));N.push(R),Z.forEach(R,function(j,I){(!(Z.isUndefined(j)||j===null)&&c.call(t,j,Z.isString(I)?I.trim():I,O,A))===!0&&D(j,O?O.concat(I):[I])}),N.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return D(e),t}function Kh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function qd(e,t){this._pairs=[],e&&_o(e,this,t)}const cp=qd.prototype;cp.append=function(t,r){this._pairs.push([t,r])};cp.toString=function(t){const r=t?function(a){return t.call(this,a,Kh)}:Kh;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function qw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function up(e,t,r){if(!t)return e;const a=r&&r.encode||qw,c=Z.isFunction(r)?{serialize:r}:r,d=c&&c.serialize;let x;if(d?x=d(t,c):x=Z.isURLSearchParams(t)?t.toString():new qd(t,c).toString(a),x){const y=e.indexOf("#");y!==-1&&(e=e.slice(0,y)),e+=(e.indexOf("?")===-1?"?":"&")+x}return e}class Qh{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(a){a!==null&&t(a)})}}const $d={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},$w=typeof URLSearchParams<"u"?URLSearchParams:qd,Jw=typeof FormData<"u"?FormData:null,eb=typeof Blob<"u"?Blob:null,tb={isBrowser:!0,classes:{URLSearchParams:$w,FormData:Jw,Blob:eb},protocols:["http","https","file","blob","url","data"]},Jd=typeof window<"u"&&typeof document<"u",Uu=typeof navigator=="object"&&navigator||void 0,nb=Jd&&(!Uu||["ReactNative","NativeScript","NS"].indexOf(Uu.product)<0),rb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sb=Jd&&window.location.href||"http://localhost",ib=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jd,hasStandardBrowserEnv:nb,hasStandardBrowserWebWorkerEnv:rb,navigator:Uu,origin:sb},Symbol.toStringTag,{value:"Module"})),Gt={...ib,...tb};function ab(e,t){return _o(e,new Gt.classes.URLSearchParams,{visitor:function(r,a,c,d){return Gt.isNode&&Z.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function lb(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ob(e){const t={},r=Object.keys(e);let a;const c=r.length;let d;for(a=0;a<c;a++)d=r[a],t[d]=e[d];return t}function dp(e){function t(r,a,c,d){let x=r[d++];if(x==="__proto__")return!0;const y=Number.isFinite(+x),w=d>=r.length;return x=!x&&Z.isArray(c)?c.length:x,w?(Z.hasOwnProp(c,x)?c[x]=[c[x],a]:c[x]=a,!y):((!c[x]||!Z.isObject(c[x]))&&(c[x]=[]),t(r,a,c[x],d)&&Z.isArray(c[x])&&(c[x]=ob(c[x])),!y)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const r={};return Z.forEachEntry(e,(a,c)=>{t(lb(a),c,r,0)}),r}return null}function cb(e,t,r){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Ra={transitional:$d,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",c=a.indexOf("application/json")>-1,d=Z.isObject(t);if(d&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return c?JSON.stringify(dp(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let y;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ab(t,this.formSerializer).toString();if((y=Z.isFileList(t))||a.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return _o(y?{"files[]":t}:t,w&&new w,this.formSerializer)}}return d||c?(r.setContentType("application/json",!1),cb(t)):t}],transformResponse:[function(t){const r=this.transitional||Ra.transitional,a=r&&r.forcedJSONParsing,c=this.responseType==="json";if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(a&&!this.responseType||c)){const x=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(t,this.parseReviver)}catch(y){if(x)throw y.name==="SyntaxError"?Ae.from(y,Ae.ERR_BAD_RESPONSE,this,null,this.response):y}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{Ra.headers[e]={}});const ub=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),db=e=>{const t={};let r,a,c;return e&&e.split(`
`).forEach(function(x){c=x.indexOf(":"),r=x.substring(0,c).trim().toLowerCase(),a=x.substring(c+1).trim(),!(!r||t[r]&&ub[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},Zh=Symbol("internals");function Vi(e){return e&&String(e).trim().toLowerCase()}function kl(e){return e===!1||e==null?e:Z.isArray(e)?e.map(kl):String(e)}function hb(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const fb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kc(e,t,r,a,c){if(Z.isFunction(a))return a.call(this,t,r);if(c&&(t=r),!!Z.isString(t)){if(Z.isString(a))return t.indexOf(a)!==-1;if(Z.isRegExp(a))return a.test(t)}}function xb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function pb(e,t){const r=Z.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(c,d,x){return this[a].call(this,t,c,d,x)},configurable:!0})})}let fn=class{constructor(t){t&&this.set(t)}set(t,r,a){const c=this;function d(y,w,g){const b=Vi(w);if(!b)throw new Error("header name must be a non-empty string");const N=Z.findKey(c,b);(!N||c[N]===void 0||g===!0||g===void 0&&c[N]!==!1)&&(c[N||w]=kl(y))}const x=(y,w)=>Z.forEach(y,(g,b)=>d(g,b,w));if(Z.isPlainObject(t)||t instanceof this.constructor)x(t,r);else if(Z.isString(t)&&(t=t.trim())&&!fb(t))x(db(t),r);else if(Z.isObject(t)&&Z.isIterable(t)){let y={},w,g;for(const b of t){if(!Z.isArray(b))throw TypeError("Object iterator must return a key-value pair");y[g=b[0]]=(w=y[g])?Z.isArray(w)?[...w,b[1]]:[w,b[1]]:b[1]}x(y,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=Vi(t),t){const a=Z.findKey(this,t);if(a){const c=this[a];if(!r)return c;if(r===!0)return hb(c);if(Z.isFunction(r))return r.call(this,c,a);if(Z.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Vi(t),t){const a=Z.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||kc(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let c=!1;function d(x){if(x=Vi(x),x){const y=Z.findKey(a,x);y&&(!r||kc(a,a[y],y,r))&&(delete a[y],c=!0)}}return Z.isArray(t)?t.forEach(d):d(t),c}clear(t){const r=Object.keys(this);let a=r.length,c=!1;for(;a--;){const d=r[a];(!t||kc(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const r=this,a={};return Z.forEach(this,(c,d)=>{const x=Z.findKey(a,d);if(x){r[x]=kl(c),delete r[d];return}const y=t?xb(d):String(d).trim();y!==d&&delete r[d],r[y]=kl(c),a[y]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Z.forEach(this,(a,c)=>{a!=null&&a!==!1&&(r[c]=t&&Z.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[Zh]=this[Zh]={accessors:{}}).accessors,c=this.prototype;function d(x){const y=Vi(x);a[y]||(pb(c,x),a[y]=!0)}return Z.isArray(t)?t.forEach(d):d(t),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(fn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});Z.freezeMethods(fn);function _c(e,t){const r=this||Ra,a=t||r,c=fn.from(a.headers);let d=a.data;return Z.forEach(e,function(y){d=y.call(r,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function hp(e){return!!(e&&e.__CANCEL__)}let Oa=class extends Ae{constructor(t,r,a){super(t??"canceled",Ae.ERR_CANCELED,r,a),this.name="CanceledError",this.__CANCEL__=!0}};function fp(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function gb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mb(e,t){e=e||10;const r=new Array(e),a=new Array(e);let c=0,d=0,x;return t=t!==void 0?t:1e3,function(w){const g=Date.now(),b=a[d];x||(x=g),r[c]=w,a[c]=g;let N=d,A=0;for(;N!==c;)A+=r[N++],N=N%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),g-x<t)return;const D=b&&g-b;return D?Math.round(A*1e3/D):void 0}}function yb(e,t){let r=0,a=1e3/t,c,d;const x=(g,b=Date.now())=>{r=b,c=null,d&&(clearTimeout(d),d=null),e(...g)};return[(...g)=>{const b=Date.now(),N=b-r;N>=a?x(g,b):(c=g,d||(d=setTimeout(()=>{d=null,x(c)},a-N)))},()=>c&&x(c)]}const io=(e,t,r=3)=>{let a=0;const c=mb(50,250);return yb(d=>{const x=d.loaded,y=d.lengthComputable?d.total:void 0,w=x-a,g=c(w),b=x<=y;a=x;const N={loaded:x,total:y,progress:y?x/y:void 0,bytes:w,rate:g||void 0,estimated:g&&y&&b?(y-x)/g:void 0,event:d,lengthComputable:y!=null,[t?"download":"upload"]:!0};e(N)},r)},qh=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},$h=e=>(...t)=>Z.asap(()=>e(...t)),wb=Gt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Gt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Gt.origin),Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent)):()=>!0,bb=Gt.hasStandardBrowserEnv?{write(e,t,r,a,c,d,x){if(typeof document>"u")return;const y=[`${e}=${encodeURIComponent(t)}`];Z.isNumber(r)&&y.push(`expires=${new Date(r).toUTCString()}`),Z.isString(a)&&y.push(`path=${a}`),Z.isString(c)&&y.push(`domain=${c}`),d===!0&&y.push("secure"),Z.isString(x)&&y.push(`SameSite=${x}`),document.cookie=y.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vb(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Nb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function xp(e,t,r){let a=!vb(t);return e&&(a||r==!1)?Nb(e,t):t}const Jh=e=>e instanceof fn?{...e}:e;function Ts(e,t){t=t||{};const r={};function a(g,b,N,A){return Z.isPlainObject(g)&&Z.isPlainObject(b)?Z.merge.call({caseless:A},g,b):Z.isPlainObject(b)?Z.merge({},b):Z.isArray(b)?b.slice():b}function c(g,b,N,A){if(Z.isUndefined(b)){if(!Z.isUndefined(g))return a(void 0,g,N,A)}else return a(g,b,N,A)}function d(g,b){if(!Z.isUndefined(b))return a(void 0,b)}function x(g,b){if(Z.isUndefined(b)){if(!Z.isUndefined(g))return a(void 0,g)}else return a(void 0,b)}function y(g,b,N){if(N in t)return a(g,b);if(N in e)return a(void 0,g)}const w={url:d,method:d,data:d,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:y,headers:(g,b,N)=>c(Jh(g),Jh(b),N,!0)};return Z.forEach(Object.keys({...e,...t}),function(b){if(b==="__proto__"||b==="constructor"||b==="prototype")return;const N=Z.hasOwnProp(w,b)?w[b]:c,A=N(e[b],t[b],b);Z.isUndefined(A)&&N!==y||(r[b]=A)}),r}const pp=e=>{const t=Ts({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:x,auth:y}=t;if(t.headers=x=fn.from(x),t.url=up(xp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&x.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),Z.isFormData(r)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(Z.isFunction(r.getHeaders)){const w=r.getHeaders(),g=["content-type","content-length"];Object.entries(w).forEach(([b,N])=>{g.includes(b.toLowerCase())&&x.set(b,N)})}}if(Gt.hasStandardBrowserEnv&&(a&&Z.isFunction(a)&&(a=a(t)),a||a!==!1&&wb(t.url))){const w=c&&d&&bb.read(d);w&&x.set(c,w)}return t},Cb=typeof XMLHttpRequest<"u",Eb=Cb&&function(e){return new Promise(function(r,a){const c=pp(e);let d=c.data;const x=fn.from(c.headers).normalize();let{responseType:y,onUploadProgress:w,onDownloadProgress:g}=c,b,N,A,D,R;function O(){D&&D(),R&&R(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let L=new XMLHttpRequest;L.open(c.method.toUpperCase(),c.url,!0),L.timeout=c.timeout;function j(){if(!L)return;const T=fn.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),H={data:!y||y==="text"||y==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:T,config:e,request:L};fp(function(z){r(z),O()},function(z){a(z),O()},H),L=null}"onloadend"in L?L.onloadend=j:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(j)},L.onabort=function(){L&&(a(new Ae("Request aborted",Ae.ECONNABORTED,e,L)),L=null)},L.onerror=function(U){const H=U&&U.message?U.message:"Network Error",P=new Ae(H,Ae.ERR_NETWORK,e,L);P.event=U||null,a(P),L=null},L.ontimeout=function(){let U=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const H=c.transitional||$d;c.timeoutErrorMessage&&(U=c.timeoutErrorMessage),a(new Ae(U,H.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,L)),L=null},d===void 0&&x.setContentType(null),"setRequestHeader"in L&&Z.forEach(x.toJSON(),function(U,H){L.setRequestHeader(H,U)}),Z.isUndefined(c.withCredentials)||(L.withCredentials=!!c.withCredentials),y&&y!=="json"&&(L.responseType=c.responseType),g&&([A,R]=io(g,!0),L.addEventListener("progress",A)),w&&L.upload&&([N,D]=io(w),L.upload.addEventListener("progress",N),L.upload.addEventListener("loadend",D)),(c.cancelToken||c.signal)&&(b=T=>{L&&(a(!T||T.type?new Oa(null,e,L):T),L.abort(),L=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const I=gb(c.url);if(I&&Gt.protocols.indexOf(I)===-1){a(new Ae("Unsupported protocol "+I+":",Ae.ERR_BAD_REQUEST,e));return}L.send(d||null)})},Sb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,c;const d=function(g){if(!c){c=!0,y();const b=g instanceof Error?g:this.reason;a.abort(b instanceof Ae?b:new Oa(b instanceof Error?b.message:b))}};let x=t&&setTimeout(()=>{x=null,d(new Ae(`timeout of ${t}ms exceeded`,Ae.ETIMEDOUT))},t);const y=()=>{e&&(x&&clearTimeout(x),x=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(d):g.removeEventListener("abort",d)}),e=null)};e.forEach(g=>g.addEventListener("abort",d));const{signal:w}=a;return w.unsubscribe=()=>Z.asap(y),w}},Ab=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,c;for(;a<r;)c=a+t,yield e.slice(a,c),a=c},Tb=async function*(e,t){for await(const r of Ib(e))yield*Ab(r,t)},Ib=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},ef=(e,t,r,a)=>{const c=Tb(e,t);let d=0,x,y=w=>{x||(x=!0,a&&a(w))};return new ReadableStream({async pull(w){try{const{done:g,value:b}=await c.next();if(g){y(),w.close();return}let N=b.byteLength;if(r){let A=d+=N;r(A)}w.enqueue(new Uint8Array(b))}catch(g){throw y(g),g}},cancel(w){return y(w),c.return()}},{highWaterMark:2})},tf=64*1024,{isFunction:hl}=Z,jb=(({Request:e,Response:t})=>({Request:e,Response:t}))(Z.global),{ReadableStream:nf,TextEncoder:rf}=Z.global,sf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kb=e=>{e=Z.merge.call({skipUndefined:!0},jb,e);const{fetch:t,Request:r,Response:a}=e,c=t?hl(t):typeof fetch=="function",d=hl(r),x=hl(a);if(!c)return!1;const y=c&&hl(nf),w=c&&(typeof rf=="function"?(R=>O=>R.encode(O))(new rf):async R=>new Uint8Array(await new r(R).arrayBuffer())),g=d&&y&&sf(()=>{let R=!1;const O=new r(Gt.origin,{body:new nf,method:"POST",get duplex(){return R=!0,"half"}}).headers.has("Content-Type");return R&&!O}),b=x&&y&&sf(()=>Z.isReadableStream(new a("").body)),N={stream:b&&(R=>R.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!N[R]&&(N[R]=(O,L)=>{let j=O&&O[R];if(j)return j.call(O);throw new Ae(`Response type '${R}' is not supported`,Ae.ERR_NOT_SUPPORT,L)})});const A=async R=>{if(R==null)return 0;if(Z.isBlob(R))return R.size;if(Z.isSpecCompliantForm(R))return(await new r(Gt.origin,{method:"POST",body:R}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(R)||Z.isArrayBuffer(R))return R.byteLength;if(Z.isURLSearchParams(R)&&(R=R+""),Z.isString(R))return(await w(R)).byteLength},D=async(R,O)=>{const L=Z.toFiniteNumber(R.getContentLength());return L??A(O)};return async R=>{let{url:O,method:L,data:j,signal:I,cancelToken:T,timeout:U,onDownloadProgress:H,onUploadProgress:P,responseType:z,headers:J,withCredentials:$="same-origin",fetchOptions:ge}=pp(R),ce=t||fetch;z=z?(z+"").toLowerCase():"text";let de=Sb([I,T&&T.toAbortSignal()],U),he=null;const ie=de&&de.unsubscribe&&(()=>{de.unsubscribe()});let Y;try{if(P&&g&&L!=="get"&&L!=="head"&&(Y=await D(J,j))!==0){let Te=new r(O,{method:"POST",body:j,duplex:"half"}),ve;if(Z.isFormData(j)&&(ve=Te.headers.get("content-type"))&&J.setContentType(ve),Te.body){const[X,q]=qh(Y,io($h(P)));j=ef(Te.body,tf,X,q)}}Z.isString($)||($=$?"include":"omit");const Ce=d&&"credentials"in r.prototype,ne={...ge,signal:de,method:L.toUpperCase(),headers:J.normalize().toJSON(),body:j,duplex:"half",credentials:Ce?$:void 0};he=d&&new r(O,ne);let G=await(d?ce(he,ge):ce(O,ne));const ue=b&&(z==="stream"||z==="response");if(b&&(H||ue&&ie)){const Te={};["status","statusText","headers"].forEach(_e=>{Te[_e]=G[_e]});const ve=Z.toFiniteNumber(G.headers.get("content-length")),[X,q]=H&&qh(ve,io($h(H),!0))||[];G=new a(ef(G.body,tf,X,()=>{q&&q(),ie&&ie()}),Te)}z=z||"text";let me=await N[Z.findKey(N,z)||"text"](G,R);return!ue&&ie&&ie(),await new Promise((Te,ve)=>{fp(Te,ve,{data:me,headers:fn.from(G.headers),status:G.status,statusText:G.statusText,config:R,request:he})})}catch(Ce){throw ie&&ie(),Ce&&Ce.name==="TypeError"&&/Load failed|fetch/i.test(Ce.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,R,he,Ce&&Ce.response),{cause:Ce.cause||Ce}):Ae.from(Ce,Ce&&Ce.code,R,he,Ce&&Ce.response)}}},_b=new Map,gp=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:c}=t,d=[a,c,r];let x=d.length,y=x,w,g,b=_b;for(;y--;)w=d[y],g=b.get(w),g===void 0&&b.set(w,g=y?new Map:kb(t)),b=g;return g};gp();const e0={http:Kw,xhr:Eb,fetch:{get:gp}};Z.forEach(e0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const af=e=>`- ${e}`,Mb=e=>Z.isFunction(e)||e===null||e===!1;function Rb(e,t){e=Z.isArray(e)?e:[e];const{length:r}=e;let a,c;const d={};for(let x=0;x<r;x++){a=e[x];let y;if(c=a,!Mb(a)&&(c=e0[(y=String(a)).toLowerCase()],c===void 0))throw new Ae(`Unknown adapter '${y}'`);if(c&&(Z.isFunction(c)||(c=c.get(t))))break;d[y||"#"+x]=c}if(!c){const x=Object.entries(d).map(([w,g])=>`adapter ${w} `+(g===!1?"is not supported by the environment":"is not available in the build"));let y=r?x.length>1?`since :
`+x.map(af).join(`
`):" "+af(x[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return c}const mp={getAdapter:Rb,adapters:e0};function Mc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oa(null,e)}function lf(e){return Mc(e),e.headers=fn.from(e.headers),e.data=_c.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mp.getAdapter(e.adapter||Ra.adapter,e)(e).then(function(a){return Mc(e),a.data=_c.call(e,e.transformResponse,a),a.headers=fn.from(a.headers),a},function(a){return hp(a)||(Mc(e),a&&a.response&&(a.response.data=_c.call(e,e.transformResponse,a.response),a.response.headers=fn.from(a.response.headers))),Promise.reject(a)})}const yp="1.13.5",Mo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mo[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const of={};Mo.transitional=function(t,r,a){function c(d,x){return"[Axios v"+yp+"] Transitional option '"+d+"'"+x+(a?". "+a:"")}return(d,x,y)=>{if(t===!1)throw new Ae(c(x," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!of[x]&&(of[x]=!0,console.warn(c(x," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,x,y):!0}};Mo.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Ob(e,t,r){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],x=t[d];if(x){const y=e[d],w=y===void 0||x(y,d,e);if(w!==!0)throw new Ae("option "+d+" must be "+w,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+d,Ae.ERR_BAD_OPTION)}}const _l={assertOptions:Ob,validators:Mo},In=_l.validators;let vs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qh,response:new Qh}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ts(this.defaults,r);const{transitional:a,paramsSerializer:c,headers:d}=r;a!==void 0&&_l.assertOptions(a,{silentJSONParsing:In.transitional(In.boolean),forcedJSONParsing:In.transitional(In.boolean),clarifyTimeoutError:In.transitional(In.boolean),legacyInterceptorReqResOrdering:In.transitional(In.boolean)},!1),c!=null&&(Z.isFunction(c)?r.paramsSerializer={serialize:c}:_l.assertOptions(c,{encode:In.function,serialize:In.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_l.assertOptions(r,{baseUrl:In.spelling("baseURL"),withXsrfToken:In.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let x=d&&Z.merge(d.common,d[r.method]);d&&Z.forEach(["delete","get","head","post","put","patch","common"],R=>{delete d[R]}),r.headers=fn.concat(x,d);const y=[];let w=!0;this.interceptors.request.forEach(function(O){if(typeof O.runWhen=="function"&&O.runWhen(r)===!1)return;w=w&&O.synchronous;const L=r.transitional||$d;L&&L.legacyInterceptorReqResOrdering?y.unshift(O.fulfilled,O.rejected):y.push(O.fulfilled,O.rejected)});const g=[];this.interceptors.response.forEach(function(O){g.push(O.fulfilled,O.rejected)});let b,N=0,A;if(!w){const R=[lf.bind(this),void 0];for(R.unshift(...y),R.push(...g),A=R.length,b=Promise.resolve(r);N<A;)b=b.then(R[N++],R[N++]);return b}A=y.length;let D=r;for(;N<A;){const R=y[N++],O=y[N++];try{D=R(D)}catch(L){O.call(this,L);break}}try{b=lf.call(this,D)}catch(R){return Promise.reject(R)}for(N=0,A=g.length;N<A;)b=b.then(g[N++],g[N++]);return b}getUri(t){t=Ts(this.defaults,t);const r=xp(t.baseURL,t.url,t.allowAbsoluteUrls);return up(r,t.params,t.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(t){vs.prototype[t]=function(r,a){return this.request(Ts(a||{},{method:t,url:r,data:(a||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function r(a){return function(d,x,y){return this.request(Ts(y||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:x}))}}vs.prototype[t]=r(),vs.prototype[t+"Form"]=r(!0)});let Db=class wp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const x=new Promise(y=>{a.subscribe(y),d=y}).then(c);return x.cancel=function(){a.unsubscribe(d)},x},t(function(d,x,y){a.reason||(a.reason=new Oa(d,x,y),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new wp(function(c){t=c}),cancel:t}}};function Lb(e){return function(r){return e.apply(null,r)}}function Bb(e){return Z.isObject(e)&&e.isAxiosError===!0}const zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zu).forEach(([e,t])=>{zu[t]=e});function bp(e){const t=new vs(e),r=Jx(vs.prototype.request,t);return Z.extend(r,vs.prototype,t,{allOwnKeys:!0}),Z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(c){return bp(Ts(e,c))},r}const bt=bp(Ra);bt.Axios=vs;bt.CanceledError=Oa;bt.CancelToken=Db;bt.isCancel=hp;bt.VERSION=yp;bt.toFormData=_o;bt.AxiosError=Ae;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=Lb;bt.isAxiosError=Bb;bt.mergeConfig=Ts;bt.AxiosHeaders=fn;bt.formToJSON=e=>dp(Z.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=mp.getAdapter;bt.HttpStatusCode=zu;bt.default=bt;const{Axios:kN,AxiosError:_N,CanceledError:MN,isCancel:RN,CancelToken:ON,VERSION:DN,all:LN,Cancel:BN,isAxiosError:PN,spread:FN,toFormData:UN,AxiosHeaders:zN,HttpStatusCode:HN,formToJSON:VN,getAdapter:WN,mergeConfig:GN}=bt,Oe=bt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});Oe.interceptors.request.use(e=>{const t=localStorage.getItem("pos_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Oe.interceptors.response.use(e=>e.data,e=>{var r,a,c;((r=e.response)==null?void 0:r.status)===401&&(localStorage.removeItem("pos_token"),localStorage.removeItem("pos_user"),window.location.href="/login");const t=((c=(a=e.response)==null?void 0:a.data)==null?void 0:c.error)||e.message||"Li kt ni server";return Promise.reject(new Error(t))});const Rc={login:async(e,t)=>{const r=await Oe.post("/auth/login",{username:e,password:t});return r.accessToken&&(localStorage.setItem("pos_token",r.accessToken),localStorage.setItem("pos_user",JSON.stringify(r.user))),r},logout:()=>{localStorage.removeItem("pos_token"),localStorage.removeItem("pos_user"),window.location.href="/login"},register:async e=>{const t=await Oe.post("/auth/register",e);return t.accessToken&&(localStorage.setItem("pos_token",t.accessToken),localStorage.setItem("pos_user",JSON.stringify(t.user))),t}},We={getProducts:e=>Oe.get("/pos/products",{params:e}),getProductByBarcode:e=>Oe.get(`/pos/products/${e}`),createProduct:e=>Oe.post("/pos/products",e),updateProduct:(e,t)=>Oe.put(`/pos/products/${e}`,t),deleteProduct:e=>Oe.delete(`/pos/products/${e}`),createOrder:e=>Oe.post("/pos/orders",e),getOrders:e=>Oe.get("/pos/orders",{params:e}),getOrderDetails:e=>Oe.get(`/pos/orders/${e}`),searchCustomers:e=>Oe.get("/pos/customers",{params:{query:e}}),createCustomer:e=>Oe.post("/pos/customers",e),getDashboard:e=>Oe.get("/pos/dashboard",{params:{period:e}}),getDebtors:e=>Oe.get("/pos/debts",{params:e}),getReport:e=>Oe.get("/pos/reports",{params:e}),getStore:()=>Oe.get("/pos/store"),updateStore:e=>Oe.put("/pos/store",e),getLogs:e=>Oe.get("/pos/logs",{params:e}),signReport:e=>Oe.post("/pos/reports/sign",e),getLatestAnnouncement:()=>Oe.get("/pos/announcements/latest"),getSystemSettings:()=>Oe.get("/pos/settings"),getMyTickets:()=>Oe.get("/pos/tickets"),createTicket:e=>Oe.post("/pos/tickets",e),getTicketDetail:e=>Oe.get(`/pos/tickets/${e}`),addTicketMessage:(e,t)=>Oe.post(`/pos/tickets/${e}/messages`,{content:t})},vp=M.createContext({user:null,login:()=>{},logout:()=>{},loading:!0});function Pb({children:e}){const[t,r]=M.useState(null),[a,c]=M.useState(!0);M.useEffect(()=>{if(localStorage.getItem("pos_token")){const g=JSON.parse(localStorage.getItem("pos_user")||"null");g&&r(g)}c(!1)},[]);const d=async(w,g)=>{c(!0);try{const{user:b,accessToken:N}=await Rc.login(w,g);return r(b),N&&localStorage.setItem("pos_token",N),localStorage.setItem("pos_user",JSON.stringify(b)),{success:!0}}catch(b){return{success:!1,error:b.message}}finally{c(!1)}},x=async w=>{c(!0);try{const g=await Rc.register(w);return r(g.user),g.accessToken&&localStorage.setItem("pos_token",g.accessToken),localStorage.setItem("pos_user",JSON.stringify(g.user)),{success:!0}}catch(g){return{success:!1,error:g.message}}finally{c(!1)}},y=()=>{Rc.logout(),r(null)};return l.jsx(vp.Provider,{value:{user:t,login:d,logout:y,register:x,loading:a},children:e})}const Ci=()=>M.useContext(vp),Np=M.createContext(),Cp={items:[],customer:null,totalAmount:0,discount:0,taxRate:0,note:""};function Fb(e,t){switch(t.type){case"ADD_ITEM":const r=e.items.findIndex(d=>d.id===t.payload.id),a=parseFloat(t.payload.quantity)||1;if(r>-1){const d=[...e.items],x=d[r];return d[r]={...x,quantity:Number((x.quantity+a).toFixed(3))},{...e,items:d}}return{...e,items:[...e.items,{...t.payload,quantity:a}]};case"REMOVE_ITEM":return{...e,items:e.items.filter(d=>d.id!==t.payload.id)};case"UPDATE_QUANTITY":const c=parseFloat(t.payload.quantity);return isNaN(c)||c<=0?{...e,items:e.items.filter(d=>d.id!==t.payload.id)}:{...e,items:e.items.map(d=>d.id===t.payload.id?{...d,quantity:Number(c.toFixed(3))}:d)};case"SET_CUSTOMER":return{...e,customer:t.payload};case"SET_DISCOUNT":return{...e,discount:parseFloat(t.payload)||0};case"SET_TAX_RATE":return{...e,taxRate:parseFloat(t.payload)||0};case"CLEAR_CART":return Cp;case"SET_NOTE":return{...e,note:t.payload};default:return e}}function Ub({children:e}){const[t,r]=M.useReducer(Fb,Cp,D=>{const R=localStorage.getItem("pos_cart");if(R){const O=JSON.parse(R);return{...O,items:O.items||[]}}return D}),a=t.items.reduce((D,R)=>D+R.price*R.quantity,0),c=Math.round(Math.max(0,a-t.discount)*(t.taxRate/100)),d=Math.round(Math.max(0,a-t.discount+c));M.useEffect(()=>{localStorage.setItem("pos_cart",JSON.stringify({...t,totalAmount:d}))},[t,d]);const x=M.useCallback((D,R=1)=>{r({type:"ADD_ITEM",payload:{...D,quantity:R}})},[]),y=M.useCallback(D=>{r({type:"REMOVE_ITEM",payload:{id:D}})},[]),w=M.useCallback((D,R)=>{r({type:"UPDATE_QUANTITY",payload:{id:D,quantity:R}})},[]),g=M.useCallback(()=>r({type:"CLEAR_CART"}),[]),b=M.useCallback(D=>r({type:"SET_CUSTOMER",payload:D}),[]),N=M.useCallback(D=>r({type:"SET_DISCOUNT",payload:D}),[]),A=M.useCallback(D=>r({type:"SET_TAX_RATE",payload:D}),[]);return l.jsx(Np.Provider,{value:{cart:{...t,subTotal:a,taxAmount:c,totalAmount:d},addToCart:x,removeFromCart:y,updateQuantity:w,clearCart:g,setCustomer:b,setDiscount:N,setTaxRate:A},children:e})}const t0=()=>M.useContext(Np),Ep=M.createContext();function zb({children:e}){const[t,r]=M.useState({shopName:"POS Pro",logoUrl:"",address:""});M.useEffect(()=>{const c=localStorage.getItem("shopSettings");c&&r(JSON.parse(c))},[]);const a=c=>{r(d=>{const x={...d,...c};return localStorage.setItem("shopSettings",JSON.stringify(x)),x})};return l.jsx(Ep.Provider,{value:{...t,updateShopSettings:a},children:e})}const Sp=()=>{const e=M.useContext(Ep);if(!e)throw new Error("useShop must be used within a ShopProvider");return e};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(e,t)=>{const r=M.forwardRef(({color:a="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:x,className:y="",children:w,...g},b)=>M.createElement("svg",{ref:b,...Hb,width:c,height:c,stroke:a,strokeWidth:x?Number(d)*24/Number(c):d,className:["lucide",`lucide-${Vb(e)}`,y].join(" "),...g},[...t.map(([N,A])=>M.createElement(N,A)),...Array.isArray(w)?w:[w]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=we("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=we("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=we("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=we("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=we("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=we("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=we("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=we("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=we("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=we("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=we("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=we("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=we("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=we("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=we("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=we("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=we("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=we("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=we("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=we("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=we("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=we("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=we("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=we("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=we("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=we("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=we("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=we("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=we("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=we("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=we("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),y3="/cuahangtaphoa/assets/login-illustration-DeAPe_1y.png";function w3(){const{login:e,register:t}=Ci(),r=_s(),[a,c]=M.useState(!1),[d,x]=M.useState(""),[y,w]=M.useState(""),[g,b]=M.useState(!1),[N,A]=M.useState(""),[D,R]=M.useState(""),[O,L]=M.useState(""),[j,I]=M.useState(""),[T,U]=M.useState(""),[H,P]=M.useState(!1),[z,J]=M.useState(!1),$=async ce=>{ce.preventDefault(),U(""),P(!0);const de=await e(d,y);P(!1),de.success?r("/pos"):U(de.error)},ge=async ce=>{if(ce.preventDefault(),U(""),y!==j){U("Mt khu xc nhn khng khp");return}P(!0);const de=await t({storeName:N,phone:D,fullName:O,password:y});P(!1),de.success?r("/pos"):U(de.error)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4 font-sans text-slate-800",children:l.jsxs("div",{className:"w-full max-w-5xl flex flex-col md:flex-row items-center gap-12",children:[l.jsxs("div",{className:"w-full md:w-1/2 max-w-md bg-white rounded-3xl shadow-2xl p-8 relative z-10 transition-all hover:shadow-[0_20px_50px_rgba(8,_112,_184,_0.1)]",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold mb-1 text-slate-800",children:a?"ng K":"ng nhp"}),!a&&l.jsx("p",{className:"text-slate-400 text-sm",children:"Cho mng bn tr li!"})]}),T&&l.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-xl mb-4 text-sm flex items-center gap-2",children:[l.jsx("span",{className:"font-bold",children:"!"})," ",T]}),a?l.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(hs,{icon:l.jsx(g3,{size:18}),placeholder:"Tn ca hng",value:N,onChange:ce=>A(ce.target.value),required:!0}),l.jsx(hs,{icon:l.jsx(gr,{size:18}),placeholder:"H tn ch shop",value:O,onChange:ce=>L(ce.target.value),required:!0}),l.jsx(hs,{icon:l.jsx(gr,{size:18}),placeholder:"ST (Tn ng nhp)",value:D,onChange:ce=>R(ce.target.value),type:"tel",required:!0}),l.jsxs("div",{className:"relative group",children:[l.jsx(hs,{icon:l.jsx(sa,{size:18}),placeholder:"Mt khu",value:y,onChange:ce=>w(ce.target.value),type:g?"text":"password",required:!0}),l.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-3 text-slate-400 hover:text-blue-500 transition-colors",children:g?l.jsx(Vu,{size:18}):l.jsx(Wu,{size:18})})]}),l.jsx(hs,{icon:l.jsx(sa,{size:18}),placeholder:"Nhp li mt khu",value:j,onChange:ce=>I(ce.target.value),type:"password",required:!0})]}),l.jsx("button",{disabled:H,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3.5 rounded-xl font-bold shadow-lg shadow-blue-200 transition-all mt-6 active:scale-95",children:H?"ang to...":"ng K Ngay"})]}):l.jsxs("form",{onSubmit:$,className:"space-y-5",children:[l.jsx(hs,{icon:l.jsx(gr,{size:20}),placeholder:"Tn ng nhp",value:d,onChange:ce=>x(ce.target.value),required:!0}),l.jsxs("div",{className:"relative",children:[l.jsx(hs,{icon:l.jsx(sa,{size:20}),placeholder:"Mt khu",type:g?"text":"password",value:y,onChange:ce=>w(ce.target.value),required:!0}),l.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-3 text-slate-400 hover:text-blue-500 transition-colors",children:g?l.jsx(Vu,{size:20}):l.jsx(Wu,{size:20})})]}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer select-none group",onClick:()=>J(!z),children:[l.jsx("div",{className:`w-10 h-6 rounded-full p-1 transition-colors duration-300 flex items-center ${z?"bg-blue-500":"bg-slate-200 group-hover:bg-slate-300"}`,children:l.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${z?"translate-x-4":"translate-x-0"}`})}),l.jsx("span",{className:"text-sm text-slate-600 font-medium group-hover:text-blue-600 transition-colors",children:"Nh mt khu"})]}),l.jsx("a",{href:"#",className:"text-sm text-blue-500 font-bold hover:underline",children:"Qun mt khu?"})]}),l.jsx("button",{disabled:H,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3.5 rounded-xl font-bold shadow-lg shadow-blue-200 transition-all text-lg mt-4 active:scale-95 flex items-center justify-center gap-2",children:H?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"ang ng nhp..."]}):"ng nhp"}),l.jsxs("div",{className:"relative flex py-2 items-center",children:[l.jsx("div",{className:"flex-grow border-t border-slate-200"}),l.jsx("span",{className:"flex-shrink-0 mx-4 text-slate-400 text-xs uppercase font-bold",children:"Hoc"}),l.jsx("div",{className:"flex-grow border-t border-slate-200"})]}),l.jsxs("div",{className:"flex justify-center flex-col items-center group cursor-pointer",onClick:()=>alert("Tnh nng ang pht trin"),children:[l.jsx("div",{className:"p-4 border-2 border-slate-100 rounded-2xl group-hover:bg-blue-50 group-hover:border-blue-200 transition-all",children:l.jsx(r3,{size:40,className:"text-blue-500 group-hover:scale-110 transition-transform"})}),l.jsx("p",{className:"text-xs text-slate-400 mt-2 text-center group-hover:text-blue-500 font-medium",children:"ng nhp bng Touch ID"})]})]}),l.jsxs("div",{className:"mt-8 text-center text-sm border-t border-slate-100 pt-6",children:[l.jsx("span",{className:"text-slate-500",children:a?" c ti khon?":"Cha c ti khon?"}),l.jsx("button",{onClick:()=>c(!a),className:"text-blue-600 font-bold ml-1 hover:underline hover:text-blue-700",children:a?"ng nhp ngay":"ng k min ph"})]})]}),l.jsxs("div",{className:"hidden md:flex flex-col w-1/2 items-center justify-center relative",children:[l.jsxs("div",{className:"relative w-full max-w-lg aspect-square flex items-center justify-center",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),l.jsx("img",{src:y3,alt:"Login Illustration",className:"w-full h-auto object-contain drop-shadow-2xl z-10 hover:scale-105 transition-transform duration-500"})]}),l.jsxs("div",{className:"mt-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-extrabold text-slate-800 mb-2 tracking-tight",children:"EPOS Pro"}),l.jsx("p",{className:"text-slate-500 text-lg",children:"H thng qun l bn hng chuyn nghip"}),l.jsxs("p",{className:"text-slate-500 text-lg",children:["Pht trin bi ",l.jsx("a",{href:"https://tienhai.agency",target:"_blank",rel:"noopener noreferrer",children:"Tin Hi Agency"})]})]})]})]})})}function hs({icon:e,...t}){return l.jsxs("div",{className:"border border-slate-200 rounded-xl px-4 py-3 flex items-center gap-3 focus-within:ring-2 focus-within:ring-blue-100 transition-all bg-white",children:[l.jsx("span",{className:"text-slate-400",children:e}),l.jsx("input",{className:"w-full outline-none text-slate-700 placeholder:text-slate-400 bg-transparent",...t})]})}const b3=["Tt c","Thc phm"," ung","Rau c","Ha m phm"];function v3({products:e,onAddToCart:t,categories:r=b3}){const[a,c]=M.useState("Tt c"),d=a==="Tt c"?e:e.filter(x=>x.category===a);return l.jsxs("div",{className:"flex flex-col h-full bg-slate-50 relative",children:[l.jsx("div",{className:"px-4 md:px-6 py-3 bg-white border-b border-slate-100 flex-shrink-0 shadow-sm z-10 sticky top-0",children:l.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar",children:r.map((x,y)=>l.jsx("button",{className:`whitespace-nowrap px-4 py-2 rounded-full text-xs font-semibold border transition-all ${a===x?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"}`,onClick:()=>c(x),children:x},y))})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-32 md:pb-6",children:l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",id:"productGrid",children:[d.map(x=>l.jsxs("div",{onClick:()=>t(x),className:"bg-white rounded-xl overflow-hidden border border-slate-100 shadow-sm hover:shadow-md transition-all flex flex-col group cursor-pointer h-full active:scale-95 duration-100",children:[l.jsxs("div",{className:"aspect-square w-full bg-white p-4 relative flex items-center justify-center",children:[x.imageUrl?l.jsx("img",{alt:x.name,loading:"lazy",className:"w-full h-full object-contain transform group-hover:scale-110 transition-transform duration-300",src:x.imageUrl}):l.jsx("div",{className:"text-4xl text-slate-200 font-black select-none flex items-center justify-center w-full h-full bg-slate-50 rounded-lg",children:x.name.charAt(0).toUpperCase()}),l.jsx("div",{className:"absolute top-2 right-2 bg-primary/10 text-primary w-8 h-8 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),x.currentStock<=5&&l.jsxs("span",{className:"absolute bottom-0 inset-x-0 bg-red-500/10 text-red-600 text-[10px] font-bold text-center py-1",children:["Sp ht: ",x.currentStock]})]}),l.jsxs("div",{className:"p-3 flex flex-col flex-grow border-t border-slate-50 relative",children:[l.jsx("p",{className:"text-sm font-bold text-slate-900 leading-snug line-clamp-2 mb-2 group-hover:text-primary transition-colors min-h-[2.5em]",children:x.name}),l.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[l.jsx("span",{className:"text-[10px] font-semibold text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded uppercase tracking-wider",children:x.category||"Chung"}),l.jsxs("span",{className:"text-red-600 font-black text-lg",children:[Number(x.price).toLocaleString(),""]})]}),l.jsx("button",{className:"absolute bottom-3 right-0 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0 bg-primary text-white p-1.5 rounded-lg shadow-lg hover:bg-blue-700 active:scale-90",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]},x.id)),d.length===0&&l.jsx("div",{className:"col-span-full text-center py-12 text-slate-400",children:l.jsx("p",{children:"Khng tm thy sn phm no"})})]})})]})}function N3({isOpen:e,onClose:t,onCheckout:r}){const{cart:a,removeFromCart:c,updateQuantity:d,clearCart:x,setCustomer:y,setDiscount:w,setTaxRate:g}=t0(),[b,N]=M.useState(""),[A,D]=M.useState([]),[R,O]=M.useState(!1),L=M.useRef(null),[j,I]=M.useState(!1),[T,U]=M.useState(!1),[H,P]=M.useState({phone:"",name:"",taxCode:"",address:""}),[z,J]=M.useState(null),$=ie=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ie).replace("","");M.useEffect(()=>{ge()},[]);const ge=async()=>{try{const ie=await We.getSystemSettings();J(ie)}catch(ie){console.error("Failed to fetch system settings",ie)}};M.useEffect(()=>{b.length>1?(L.current&&clearTimeout(L.current),L.current=setTimeout(async()=>{try{const ie=await We.searchCustomers(b);D(ie.data||[]),O(!0)}catch(ie){console.error("Customer search errors",ie)}},300)):(D([]),O(!1))},[b]);const ce=ie=>{y(ie),N(""),O(!1)},de=async()=>{if(!H.taxCode)return;const ie=(z==null?void 0:z.vietqr_api)||{enabled:!0};if(!ie.enabled){alert("Tnh nng tra cu MST  b qun tr vin tt.");return}U(!0);try{const Y=`https://api.vietqr.io/v2/business/${H.taxCode}`,Ce=ie.apiKey?{Authorization:`Bearer ${ie.apiKey}`}:{},G=await(await fetch(Y,{headers:Ce})).json();G.code==="00"&&G.data?P(ue=>({...ue,name:G.data.name,address:G.data.address})):alert("Khng tm thy thng tin doanh nghip!")}catch(Y){console.error("Tax lookup error",Y),alert("Li kt ni API!")}finally{U(!1)}},he=()=>{if(!H.name){alert("Vui lng nhp tn khch hng!");return}const ie={id:"temp-"+Date.now(),...H};y(ie),I(!1),P({phone:"",name:"",taxCode:"",address:""})};return l.jsxs("aside",{className:`fixed md:static inset-y-0 right-0 w-full md:w-96 bg-white border-l border-slate-200 shadow-2xl md:shadow-none transform transition-transform duration-300 z-40 flex flex-col h-full flex-shrink-0 ${e?"translate-x-0":"translate-x-full md:translate-x-0"}`,children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-icons text-primary",children:"shopping_bag"}),l.jsxs("h2",{className:"font-bold text-slate-900 text-lg",children:["Gi hng (",a.items.length,")"]})]}),l.jsx("button",{className:`text-xs font-bold text-red-500 hover:text-red-700 uppercase bg-red-50 px-3 py-1.5 rounded-lg transition-colors ${a.items.length===0?"opacity-50 cursor-not-allowed":""}`,onClick:()=>a.items.length>0&&x(),children:"Xa tt c"})]}),l.jsx("div",{className:"px-4 pt-4 pb-2 bg-white relative z-50",children:a.customer?l.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-3 rounded-xl border border-blue-100",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-blue-900 text-sm",children:a.customer.name}),l.jsx("p",{className:"text-xs text-blue-600",children:a.customer.phone})]}),l.jsx("button",{onClick:()=>y(null),className:"text-red-500 hover:bg-red-100 p-1.5 rounded-lg transition-colors",children:l.jsx("span",{className:"material-icons text-sm",children:"close"})})]}):l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("span",{className:"material-icons text-slate-400 text-lg",children:"person_search"})}),l.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Tm khch hng (Tn/ST)...",value:b,onChange:ie=>N(ie.target.value),onFocus:()=>b.length>1&&O(!0)}),R&&A.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-100 max-h-60 overflow-y-auto z-50",children:A.map(ie=>l.jsxs("div",{className:"p-3 hover:bg-slate-50 cursor-pointer border-b border-slate-50 last:border-0 flex justify-between items-center",onClick:()=>ce(ie),children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-800 text-sm",children:ie.name}),l.jsx("p",{className:"text-xs text-slate-500",children:ie.phone})]}),l.jsx("span",{className:"material-icons text-slate-300 text-sm",children:"add"})]},ie.id))}),l.jsx("button",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-primary font-bold text-xl hover:text-blue-700 disabled:opacity-50",title:"Thm khch mi",onClick:()=>I(!0),children:"+"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-white",id:"cartItemsList",children:a.items.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[l.jsx("span",{className:"material-symbols-outlined text-6xl mb-2 opacity-20",children:"shopping_cart_off"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-2 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("p",{className:"text-sm font-medium",children:"Cha c sn phm no"})]}):a.items.map(ie=>l.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-xl border border-slate-100 shadow-sm hover:border-blue-100 transition-all group relative",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:ie.name}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:l.jsx("span",{className:"text-xs text-slate-500 bg-slate-100 px-1.5 rounded",children:$(ie.price)})})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:"font-bold text-primary text-base",children:$(ie.price*ie.quantity)}),l.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 shadow-inner",children:[l.jsx("button",{onClick:()=>d(ie.id,(parseFloat(ie.quantity)||0)-1),className:"w-9 h-9 flex items-center justify-center bg-white hover:bg-red-50 rounded-lg shadow-sm text-slate-600 hover:text-red-600 transition-all active:scale-95 font-black text-lg",children:"-"}),l.jsx("input",{type:"number",min:"0",value:ie.quantity,onChange:Y=>d(ie.id,Y.target.value),className:"w-12 bg-transparent text-center text-sm font-bold text-slate-800 border-none focus:ring-0 p-0 appearance-none",onFocus:Y=>Y.target.select()}),l.jsx("button",{onClick:()=>d(ie.id,(parseFloat(ie.quantity)||0)+1),className:"w-9 h-9 flex items-center justify-center bg-white hover:bg-blue-50 rounded-lg shadow-sm text-slate-600 hover:text-blue-600 transition-all active:scale-95 font-black text-lg",children:"+"})]})]})]},ie.id))}),l.jsxs("div",{className:"p-4 border-t border-slate-100 bg-white flex-shrink-0 safe-bottom shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-20",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"absolute -top-2 left-2 bg-white px-1 text-[10px] font-bold text-slate-400 uppercase",children:"Gim gi"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold text-slate-700 outline-none focus:border-slate-900 transition-all",placeholder:"0",value:a.discount||"",onChange:ie=>w(ie.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"absolute -top-2 left-2 bg-white px-1 text-[10px] font-bold text-slate-400 uppercase",children:"Thu VAT (%)"}),l.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm font-bold text-slate-700 outline-none focus:border-slate-900 transition-all",placeholder:"0%",value:a.taxRate||"",onChange:ie=>g(ie.target.value)})]})]}),l.jsxs("div",{className:"space-y-1.5 mb-5 text-sm",children:[l.jsxs("div",{className:"flex justify-between text-slate-500",children:[l.jsx("span",{children:"Tm tnh"}),l.jsx("span",{className:"font-semibold",children:$(a.subTotal||0)})]}),a.discount>0&&l.jsxs("div",{className:"flex justify-between text-emerald-600",children:[l.jsx("span",{children:"Gim gi"}),l.jsxs("span",{className:"font-semibold",children:["-",$(a.discount)]})]}),a.taxRate>0&&l.jsxs("div",{className:"flex justify-between text-orange-600",children:[l.jsxs("span",{children:["Thu VAT (",a.taxRate,"%)"]}),l.jsxs("span",{className:"font-semibold",children:["+",$(a.taxAmount)]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100 mt-2",children:[l.jsx("span",{className:"text-slate-800 font-bold text-lg",children:"Tng cng"}),l.jsx("span",{className:"text-3xl font-black text-primary leading-none",id:"cartPanelTotal",children:$(a.totalAmount||0)})]})]}),l.jsxs("button",{onClick:r,disabled:a.items.length===0,className:`w-full py-4 rounded-xl font-black text-lg shadow-xl shadow-blue-200 active:scale-[0.98] transition-all flex items-center justify-center gap-3 
                  ${a.items.length===0?"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none":"bg-slate-900 hover:bg-slate-800 text-white"}`,children:[l.jsx("span",{className:"material-icons",children:"payments"}),l.jsx("span",{children:"THANH TON NGAY"})]})]}),j&&l.jsx("div",{className:"absolute inset-0 z-[60] bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm border border-slate-200 overflow-hidden animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"Thm khch hng mi"}),l.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600",children:l.jsx("span",{className:"material-icons",children:"close"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"S in thoi"}),l.jsx("input",{type:"text",className:"w-full border-slate-200 rounded-xl px-3 py-2 text-sm focus:ring-primary font-bold",placeholder:"09...",value:H.phone,onChange:ie=>P({...H,phone:ie.target.value}),autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"M s thu (nu c)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"w-full border-slate-200 rounded-xl pl-3 pr-10 py-2 text-sm focus:ring-primary font-mono tracking-wide",placeholder:"Nhp MST...",value:H.taxCode,onChange:ie=>P({...H,taxCode:ie.target.value}),onBlur:de}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:T?l.jsx("span",{className:"material-icons animate-spin text-slate-400 text-sm",children:"sync"}):l.jsx("button",{onClick:de,className:"text-blue-600 hover:text-blue-800",title:"Tra cu",children:l.jsx("span",{className:"material-icons text-lg",children:"search"})})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Tn khch / Cng ty"}),l.jsx("input",{type:"text",className:"w-full border-slate-200 rounded-xl px-3 py-2 text-sm focus:ring-primary font-bold",placeholder:"Nguyn Vn A...",value:H.name,onChange:ie=>P({...H,name:ie.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"a ch"}),l.jsx("textarea",{className:"w-full border-slate-200 rounded-xl px-3 py-2 text-sm focus:ring-primary",placeholder:"S 10, ng...",rows:"2",value:H.address,onChange:ie=>P({...H,address:ie.target.value})})]}),l.jsx("button",{onClick:he,className:"w-full bg-primary hover:bg-blue-600 text-white py-3 rounded-xl font-bold shadow-lg shadow-blue-200 active:scale-95 transition-all mt-2",children:"Lu khch hng"})]})]})})]})}var xe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xe||(xe={}));var xf=new Map([[xe.QR_CODE,"QR_CODE"],[xe.AZTEC,"AZTEC"],[xe.CODABAR,"CODABAR"],[xe.CODE_39,"CODE_39"],[xe.CODE_93,"CODE_93"],[xe.CODE_128,"CODE_128"],[xe.DATA_MATRIX,"DATA_MATRIX"],[xe.MAXICODE,"MAXICODE"],[xe.ITF,"ITF"],[xe.EAN_13,"EAN_13"],[xe.EAN_8,"EAN_8"],[xe.PDF_417,"PDF_417"],[xe.RSS_14,"RSS_14"],[xe.RSS_EXPANDED,"RSS_EXPANDED"],[xe.UPC_A,"UPC_A"],[xe.UPC_E,"UPC_E"],[xe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),pf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(pf||(pf={}));function C3(e){return Object.values(xe).includes(e)}var Jr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Jr||(Jr={}));var zn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Jr.SCAN_TYPE_CAMERA,Jr.SCAN_TYPE_FILE],e}(),Rp=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!xf.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,xf.get(t))},e}(),gf=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Yu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Yu||(Yu={}));var Op=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Yu.UNKWOWN_ERROR}},e}(),Dp=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function nr(e){return typeof e>"u"||e===null}function E3(e,t,r){return e>r?r:e<t?t:e}var ti=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ve=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),mf=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Lp=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var a=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),x=Object.keys(t),y=0,w=x;y<w.length;y++){var g=w[y];if(d.has(g))return r.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Ku={exports:{}};(function(e,t){(function(r,a){a(t)})(Oi,function(r){function a(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,n){C.__proto__=n}||function(C,n){for(var s in n)n.hasOwnProperty(s)&&(C[s]=n[s])};function d(C,n){c(C,n);function s(){this.constructor=C}C.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}function x(C,n){var s=Object.setPrototypeOf;s?s(C,n):C.__proto__=n}function y(C,n){n===void 0&&(n=C.constructor);var s=Error.captureStackTrace;s&&s(C,n)}var w=function(C){d(n,C);function n(s){var i=this.constructor,o=C.call(this,s)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),x(o,i.prototype),y(o),o}return n}(Error);class g extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}g.kind="Exception";class b extends g{}b.kind="ArgumentException";class N extends g{}N.kind="IllegalArgumentException";class A{constructor(n){if(this.binarizer=n,n===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,s){return this.binarizer.getBlackRow(n,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,s,i,o){const u=this.binarizer.getLuminanceSource().crop(n,s,i,o);return new A(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends g{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class R{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(n,s,i,o,u){for(;u--;)i[o++]=n[s++]}static currentTimeMillis(){return Date.now()}}class L extends g{}L.kind="IndexOutOfBoundsException";class j extends L{constructor(n=void 0,s=void 0){super(s),this.index=n,this.message=s}}j.kind="ArrayIndexOutOfBoundsException";class I{static fill(n,s){for(let i=0,o=n.length;i<o;i++)n[i]=s}static fillWithin(n,s,i,o){I.rangeCheck(n.length,s,i);for(let u=s;u<i;u++)n[u]=o}static rangeCheck(n,s,i){if(s>i)throw new N("fromIndex("+s+") > toIndex("+i+")");if(s<0)throw new j(s);if(i>n)throw new j(i)}static asList(...n){return n}static create(n,s,i){return Array.from({length:n}).map(u=>Array.from({length:s}).fill(i))}static createInt32Array(n,s,i){return Array.from({length:n}).map(u=>Int32Array.from({length:s}).fill(i))}static equals(n,s){if(!n||!s||!n.length||!s.length||n.length!==s.length)return!1;for(let i=0,o=n.length;i<o;i++)if(n[i]!==s[i])return!1;return!0}static hashCode(n){if(n===null)return 0;let s=1;for(const i of n)s=31*s+i;return s}static fillUint8Array(n,s){for(let i=0;i!==n.length;i++)n[i]=s}static copyOf(n,s){return n.slice(0,s)}static copyOfUint8Array(n,s){if(n.length<=s){const i=new Uint8Array(s);return i.set(n),i}return n.slice(0,s)}static copyOfRange(n,s,i){const o=i-s,u=new Int32Array(o);return O.arraycopy(n,s,u,0,o),u}static binarySearch(n,s,i){i===void 0&&(i=I.numberComparator);let o=0,u=n.length-1;for(;o<=u;){const h=u+o>>1,f=i(s,n[h]);if(f>0)o=h+1;else if(f<0)u=h-1;else return h}return-o-1}static numberComparator(n,s){return n-s}}class T{static numberOfTrailingZeros(n){let s;if(n===0)return 32;let i=31;return s=n<<16,s!==0&&(i-=16,n=s),s=n<<8,s!==0&&(i-=8,n=s),s=n<<4,s!==0&&(i-=4,n=s),s=n<<2,s!==0&&(i-=2,n=s),i-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let s=1;return n>>>16||(s+=16,n<<=16),n>>>24||(s+=8,n<<=8),n>>>28||(s+=4,n<<=4),n>>>30||(s+=2,n<<=2),s-=n>>>31,s}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,s){return Math.trunc(n/s)}static parseInt(n,s=void 0){return parseInt(n,s)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(n,s){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,s==null?this.bits=U.makeArray(n):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const s=U.makeArray(n);O.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const s=this.size;if(n>=s)return s;const i=this.bits;let o=Math.floor(n/32),u=i[o];u&=~((1<<(n&31))-1);const h=i.length;for(;u===0;){if(++o===h)return s;u=i[o]}const f=o*32+T.numberOfTrailingZeros(u);return f>s?s:f}getNextUnset(n){const s=this.size;if(n>=s)return s;const i=this.bits;let o=Math.floor(n/32),u=~i[o];u&=~((1<<(n&31))-1);const h=i.length;for(;u===0;){if(++o===h)return s;u=~i[o]}const f=o*32+T.numberOfTrailingZeros(u);return f>s?s:f}setBulk(n,s){this.bits[Math.floor(n/32)]=s}setRange(n,s){if(s<n||n<0||s>this.size)throw new N;if(s===n)return;s--;const i=Math.floor(n/32),o=Math.floor(s/32),u=this.bits;for(let h=i;h<=o;h++){const f=h>i?0:n&31,m=(2<<(h<o?31:s&31))-(1<<f);u[h]|=m}}clear(){const n=this.bits.length,s=this.bits;for(let i=0;i<n;i++)s[i]=0}isRange(n,s,i){if(s<n||n<0||s>this.size)throw new N;if(s===n)return!0;s--;const o=Math.floor(n/32),u=Math.floor(s/32),h=this.bits;for(let f=o;f<=u;f++){const p=f>o?0:n&31,v=(2<<(f<u?31:s&31))-(1<<p)&4294967295;if((h[f]&v)!==(i?v:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,s){if(s<0||s>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let i=s;i>0;i--)this.appendBit((n>>i-1&1)===1)}appendBitArray(n){const s=n.size;this.ensureCapacity(this.size+s);for(let i=0;i<s;i++)this.appendBit(n.get(i))}xor(n){if(this.size!==n.size)throw new N("Sizes don't match");const s=this.bits;for(let i=0,o=s.length;i<o;i++)s[i]^=n.bits[i]}toBytes(n,s,i,o){for(let u=0;u<o;u++){let h=0;for(let f=0;f<8;f++)this.get(n)&&(h|=1<<7-f),n++;s[i+u]=h}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),i=s+1,o=this.bits;for(let u=0;u<i;u++){let h=o[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,n[s-u]=h}if(this.size!==i*32){const u=i*32-this.size;let h=n[0]>>>u;for(let f=1;f<i;f++){const p=n[f];h|=p<<32-u,n[f-1]=h,h=p>>>u}n[i-1]=h}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof U))return!1;const s=n;return this.size===s.size&&I.equals(this.bits,s.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let n="";for(let s=0,i=this.size;s<i;s++)s&7||(n+=" "),n+=this.get(s)?"X":".";return n}clone(){return new U(this.size,this.bits.slice())}}var H;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(H||(H={}));var P=H;class z extends g{static getFormatInstance(){return new z}}z.kind="FormatException";var J;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(J||(J={}));class ${constructor(n,s,i,...o){this.valueIdentifier=n,this.name=i,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=o,$.VALUE_IDENTIFIER_TO_ECI.set(n,this),$.NAME_TO_ECI.set(i,this);const u=this.values;for(let h=0,f=u.length;h!==f;h++){const p=u[h];$.VALUES_TO_ECI.set(p,this)}for(const h of o)$.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new z("incorect value");const s=$.VALUES_TO_ECI.get(n);if(s===void 0)throw new z("incorect value");return s}static getCharacterSetECIByName(n){const s=$.NAME_TO_ECI.get(n);if(s===void 0)throw new z("incorect value");return s}equals(n){if(!(n instanceof $))return!1;const s=n;return this.getName()===s.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(J.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(J.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(J.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(J.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(J.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(J.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(J.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(J.Big5,28,"Big5"),$.GB18030=new $(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(J.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends g{}ge.kind="UnsupportedOperationException";class ce{static decode(n,s){const i=this.encodingName(s);return this.customDecoder?this.customDecoder(n,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(n,i):new TextDecoder(i).decode(n)}static shouldDecodeOnFallback(n){return!ce.isBrowser()&&n==="ISO-8859-1"}static encode(n,s){const i=this.encodingName(s);return this.customEncoder?this.customEncoder(n,i):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof $?n:$.getCharacterSetECIByName(n)}static decodeFallback(n,s){const i=this.encodingCharacterSet(s);if(ce.isDecodeFallbackSupported(i)){let o="";for(let u=0,h=n.length;u<h;u++){let f=n[u].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new ge(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals($.UTF8)||n.equals($.ISO8859_1)||n.equals($.ASCII)}static encodeFallback(n){const i=btoa(unescape(encodeURIComponent(n))).split(""),o=[];for(let u=0;u<i.length;u++)o.push(i[u].charCodeAt(0));return new Uint8Array(o)}}class de{static castAsNonUtf8Char(n,s=null){const i=s?s.getName():this.ISO88591;return ce.decode(new Uint8Array([n]),i)}static guessEncoding(n,s){if(s!=null&&s.get(P.CHARACTER_SET)!==void 0)return s.get(P.CHARACTER_SET).toString();const i=n.length;let o=!0,u=!0,h=!0,f=0,p=0,m=0,v=0,E=0,S=0,_=0,B=0,F=0,V=0,Q=0;const se=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let ae=0;ae<i&&(o||u||h);ae++){const te=n[ae]&255;h&&(f>0?te&128?f--:h=!1:te&128&&(te&64?(f++,te&32?(f++,te&16?(f++,te&8?h=!1:v++):m++):p++):h=!1)),o&&(te>127&&te<160?o=!1:te>159&&(te<192||te===215||te===247)&&Q++),u&&(E>0?te<64||te===127||te>252?u=!1:E--:te===128||te===160||te>239?u=!1:te>160&&te<224?(S++,B=0,_++,_>F&&(F=_)):te>127?(E++,_=0,B++,B>V&&(V=B)):(_=0,B=0))}return h&&f>0&&(h=!1),u&&E>0&&(u=!1),h&&(se||p+m+v>0)?de.UTF8:u&&(de.ASSUME_SHIFT_JIS||F>=3||V>=3)?de.SHIFT_JIS:o&&u?F===2&&S===2||Q*10>=i?de.SHIFT_JIS:de.ISO88591:o?de.ISO88591:u?de.SHIFT_JIS:h?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(n,...s){let i=-1;function o(h,f,p,m,v,E){if(h==="%%")return"%";if(s[++i]===void 0)return;h=m?parseInt(m.substr(1)):void 0;let S=v?parseInt(v.substr(1)):void 0,_;switch(E){case"s":_=s[i];break;case"c":_=s[i][0];break;case"f":_=parseFloat(s[i]).toFixed(h);break;case"p":_=parseFloat(s[i]).toPrecision(h);break;case"e":_=parseFloat(s[i]).toExponential(h);break;case"x":_=parseInt(s[i]).toString(S||16);break;case"d":_=parseFloat(parseInt(s[i],S||10).toPrecision(h)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(S);let B=parseInt(p),F=p&&p[0]+""=="0"?"0":" ";for(;_.length<B;)_=f!==void 0?_+F:F+_;return _}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,o)}static getBytes(n,s){return ce.encode(n,s)}static getCharCode(n,s=0){return n.charCodeAt(s)}static getCharAt(n){return String.fromCharCode(n)}}de.SHIFT_JIS=$.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=$.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=$.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class he{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=de.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,s,i){for(let o=s;s<s+i;o++)this.append(n[o]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,s){this.value=this.value.substr(0,n)+s+this.value.substr(n+1)}substring(n,s){return this.value.substring(n,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,s){this.value=this.value.substr(0,n)+s+this.value.substr(n+s.length)}}class ie{constructor(n,s,i,o){if(this.width=n,this.height=s,this.rowSize=i,this.bits=o,s==null&&(s=n),this.height=s,n<1||s<1)throw new N("Both dimensions must be greater than 0");i==null&&(i=Math.floor((n+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const s=n.length,i=n[0].length,o=new ie(i,s);for(let u=0;u<s;u++){const h=n[u];for(let f=0;f<i;f++)h[f]&&o.set(f,u)}return o}static parseFromString(n,s,i){if(n===null)throw new N("stringRepresentation cannot be null");const o=new Array(n.length);let u=0,h=0,f=-1,p=0,m=0;for(;m<n.length;)if(n.charAt(m)===`
`||n.charAt(m)==="\r"){if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new N("row lengths do not match");h=u,p++}m++}else if(n.substring(m,m+s.length)===s)m+=s.length,o[u]=!0,u++;else if(n.substring(m,m+i.length)===i)m+=i.length,o[u]=!1,u++;else throw new N("illegal character encountered: "+n.substring(m));if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new N("row lengths do not match");p++}const v=new ie(f,p);for(let E=0;E<u;E++)o[E]&&v.set(Math.floor(E%f),Math.floor(E/f));return v}get(n,s){const i=s*this.rowSize+Math.floor(n/32);return(this.bits[i]>>>(n&31)&1)!==0}set(n,s){const i=s*this.rowSize+Math.floor(n/32);this.bits[i]|=1<<(n&31)&4294967295}unset(n,s){const i=s*this.rowSize+Math.floor(n/32);this.bits[i]&=~(1<<(n&31)&4294967295)}flip(n,s){const i=s*this.rowSize+Math.floor(n/32);this.bits[i]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new N("input matrix dimensions do not match");const s=new U(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let u=0,h=this.height;u<h;u++){const f=u*i,p=n.getRow(u,s).getBitArray();for(let m=0;m<i;m++)o[f+m]^=p[m]}}clear(){const n=this.bits,s=n.length;for(let i=0;i<s;i++)n[i]=0}setRegion(n,s,i,o){if(s<0||n<0)throw new N("Left and top must be nonnegative");if(o<1||i<1)throw new N("Height and width must be at least 1");const u=n+i,h=s+o;if(h>this.height||u>this.width)throw new N("The region must fit inside the matrix");const f=this.rowSize,p=this.bits;for(let m=s;m<h;m++){const v=m*f;for(let E=n;E<u;E++)p[v+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,s){s==null||s.getSize()<this.width?s=new U(this.width):s.clear();const i=this.rowSize,o=this.bits,u=n*i;for(let h=0;h<i;h++)s.setBulk(h*32,o[u+h]);return s}setRow(n,s){O.arraycopy(s.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),s=this.getHeight();let i=new U(n),o=new U(n);for(let u=0,h=Math.floor((s+1)/2);u<h;u++)i=this.getRow(u,i),o=this.getRow(s-1-u,o),i.reverse(),o.reverse(),this.setRow(u,o),this.setRow(s-1-u,i)}getEnclosingRectangle(){const n=this.width,s=this.height,i=this.rowSize,o=this.bits;let u=n,h=s,f=-1,p=-1;for(let m=0;m<s;m++)for(let v=0;v<i;v++){const E=o[m*i+v];if(E!==0){if(m<h&&(h=m),m>p&&(p=m),v*32<u){let S=0;for(;!(E<<31-S&4294967295);)S++;v*32+S<u&&(u=v*32+S)}if(v*32+31>f){let S=31;for(;!(E>>>S);)S--;v*32+S>f&&(f=v*32+S)}}}return f<u||p<h?null:Int32Array.from([u,h,f-u+1,p-h+1])}getTopLeftOnBit(){const n=this.rowSize,s=this.bits;let i=0;for(;i<s.length&&s[i]===0;)i++;if(i===s.length)return null;const o=i/n;let u=i%n*32;const h=s[i];let f=0;for(;!(h<<31-f&4294967295);)f++;return u+=f,Int32Array.from([u,o])}getBottomRightOnBit(){const n=this.rowSize,s=this.bits;let i=s.length-1;for(;i>=0&&s[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/n);let u=Math.floor(i%n)*32;const h=s[i];let f=31;for(;!(h>>>f);)f--;return u+=f,Int32Array.from([u,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof ie))return!1;const s=n;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&I.equals(this.bits,s.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+I.hashCode(this.bits),n}toString(n="X ",s="  ",i=`
`){return this.buildToString(n,s,i)}buildToString(n,s,i){let o=new he;for(let u=0,h=this.height;u<h;u++){for(let f=0,p=this.width;f<p;f++)o.append(this.get(f,u)?n:s);o.append(i)}return o.toString()}clone(){return new ie(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends g{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class Ce extends R{constructor(n){super(n),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(n,s){const i=this.getLuminanceSource(),o=i.getWidth();s==null||s.getSize()<o?s=new U(o):s.clear(),this.initArrays(o);const u=i.getRow(n,this.luminances),h=this.buckets;for(let p=0;p<o;p++)h[(u[p]&255)>>Ce.LUMINANCE_SHIFT]++;const f=Ce.estimateBlackPoint(h);if(o<3)for(let p=0;p<o;p++)(u[p]&255)<f&&s.set(p);else{let p=u[0]&255,m=u[1]&255;for(let v=1;v<o-1;v++){const E=u[v+1]&255;(m*4-p-E)/2<f&&s.set(v),p=m,m=E}}return s}getBlackMatrix(){const n=this.getLuminanceSource(),s=n.getWidth(),i=n.getHeight(),o=new ie(s,i);this.initArrays(s);const u=this.buckets;for(let p=1;p<5;p++){const m=Math.floor(i*p/5),v=n.getRow(m,this.luminances),E=Math.floor(s*4/5);for(let S=Math.floor(s/5);S<E;S++){const _=v[S]&255;u[_>>Ce.LUMINANCE_SHIFT]++}}const h=Ce.estimateBlackPoint(u),f=n.getMatrix();for(let p=0;p<i;p++){const m=p*s;for(let v=0;v<s;v++)(f[m+v]&255)<h&&o.set(v,p)}return o}createBinarizer(n){return new Ce(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const s=this.buckets;for(let i=0;i<Ce.LUMINANCE_BUCKETS;i++)s[i]=0}static estimateBlackPoint(n){const s=n.length;let i=0,o=0,u=0;for(let v=0;v<s;v++)n[v]>u&&(o=v,u=n[v]),n[v]>i&&(i=n[v]);let h=0,f=0;for(let v=0;v<s;v++){const E=v-o,S=n[v]*E*E;S>f&&(h=v,f=S)}if(o>h){const v=o;o=h,h=v}if(h-o<=s/16)throw new Y;let p=h-1,m=-1;for(let v=h-1;v>o;v--){const E=v-o,S=E*E*(h-v)*(i-n[v]);S>m&&(p=v,m=S)}return p<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class ne extends Ce{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),s=n.getWidth(),i=n.getHeight();if(s>=ne.MINIMUM_DIMENSION&&i>=ne.MINIMUM_DIMENSION){const o=n.getMatrix();let u=s>>ne.BLOCK_SIZE_POWER;s&ne.BLOCK_SIZE_MASK&&u++;let h=i>>ne.BLOCK_SIZE_POWER;i&ne.BLOCK_SIZE_MASK&&h++;const f=ne.calculateBlackPoints(o,u,h,s,i),p=new ie(s,i);ne.calculateThresholdForBlock(o,u,h,s,i,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ne(n)}static calculateThresholdForBlock(n,s,i,o,u,h,f){const p=u-ne.BLOCK_SIZE,m=o-ne.BLOCK_SIZE;for(let v=0;v<i;v++){let E=v<<ne.BLOCK_SIZE_POWER;E>p&&(E=p);const S=ne.cap(v,2,i-3);for(let _=0;_<s;_++){let B=_<<ne.BLOCK_SIZE_POWER;B>m&&(B=m);const F=ne.cap(_,2,s-3);let V=0;for(let se=-2;se<=2;se++){const ae=h[S+se];V+=ae[F-2]+ae[F-1]+ae[F]+ae[F+1]+ae[F+2]}const Q=V/25;ne.thresholdBlock(n,B,E,Q,o,f)}}}static cap(n,s,i){return n<s?s:n>i?i:n}static thresholdBlock(n,s,i,o,u,h){for(let f=0,p=i*u+s;f<ne.BLOCK_SIZE;f++,p+=u)for(let m=0;m<ne.BLOCK_SIZE;m++)(n[p+m]&255)<=o&&h.set(s+m,i+f)}static calculateBlackPoints(n,s,i,o,u){const h=u-ne.BLOCK_SIZE,f=o-ne.BLOCK_SIZE,p=new Array(i);for(let m=0;m<i;m++){p[m]=new Int32Array(s);let v=m<<ne.BLOCK_SIZE_POWER;v>h&&(v=h);for(let E=0;E<s;E++){let S=E<<ne.BLOCK_SIZE_POWER;S>f&&(S=f);let _=0,B=255,F=0;for(let Q=0,se=v*o+S;Q<ne.BLOCK_SIZE;Q++,se+=o){for(let ae=0;ae<ne.BLOCK_SIZE;ae++){const te=n[se+ae]&255;_+=te,te<B&&(B=te),te>F&&(F=te)}if(F-B>ne.MIN_DYNAMIC_RANGE)for(Q++,se+=o;Q<ne.BLOCK_SIZE;Q++,se+=o)for(let ae=0;ae<ne.BLOCK_SIZE;ae++)_+=n[se+ae]&255}let V=_>>ne.BLOCK_SIZE_POWER*2;if(F-B<=ne.MIN_DYNAMIC_RANGE&&(V=B/2,m>0&&E>0)){const Q=(p[m-1][E]+2*p[m][E-1]+p[m-1][E-1])/4;B<Q&&(V=Q)}p[m][E]=V}}return p}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class G{constructor(n,s){this.width=n,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,s,i,o){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let s=new he;for(let i=0;i<this.height;i++){const o=this.getRow(i,n);for(let u=0;u<this.width;u++){const h=o[u]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",s.append(f)}s.append(`
`)}return s.toString()}}class ue extends G{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,s){const i=this.delegate.getRow(n,s),o=this.getWidth();for(let u=0;u<o;u++)i[u]=255-(i[u]&255);return i}getMatrix(){const n=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(s);for(let o=0;o<s;o++)i[o]=255-(n[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(n,s,i,o){return new ue(this.delegate.crop(n,s,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ue(this.delegate.rotateCounterClockwise45())}}class me extends G{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const s=n.getContext("2d").getImageData(0,0,n.width,n.height);return me.toGrayscaleBuffer(s.data,n.width,n.height)}static toGrayscaleBuffer(n,s,i){const o=new Uint8ClampedArray(s*i);for(let u=0,h=0,f=n.length;u<f;u+=4,h++){let p;if(n[u+3]===0)p=255;else{const v=n[u],E=n[u+1],S=n[u+2];p=306*v+601*E+117*S+512>>10}o[h]=p}return o}getRow(n,s){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const i=this.getWidth(),o=n*i;return s===null?s=this.buffer.slice(o,o+i):(s.length<i&&(s=new Uint8ClampedArray(i)),s.set(this.buffer.slice(o,o+i))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,s,i,o){return super.crop(n,s,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const s=this.getTempCanvasElement(),i=s.getContext("2d"),o=n*me.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*u+Math.abs(Math.sin(o))*h),p=Math.ceil(Math.abs(Math.sin(o))*u+Math.abs(Math.cos(o))*h);return s.width=f,s.height=p,i.translate(f/2,p/2),i.rotate(o),i.drawImage(this.canvas,u/-2,h/-2),this.buffer=me.makeBufferFromCanvasImageData(s),this}invert(){return new ue(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class Te{constructor(n,s,i){this.deviceId=n,this.label=s,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||Oi||self||window||void 0)&&(globalThis||Oi||self||window||void 0).__awaiter||function(C,n,s,i){function o(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function f(v){try{m(i.next(v))}catch(E){h(E)}}function p(v){try{m(i.throw(v))}catch(E){h(E)}}function m(v){v.done?u(v.value):o(v.value).then(f,p)}m((i=i.apply(C,n||[])).next())})};class X{constructor(n,s=500,i){this.reader=n,this.timeBetweenScansMillis=s,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const i of n){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const u=i.deviceId||i.id,h=i.label||`Video device ${s.length+1}`,f=i.groupId,p={deviceId:u,label:h,kind:o,groupId:f};s.push(p)}return s})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Te(s.deviceId,s.label))})}findDeviceById(n){return ve(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(i=>i.deviceId===n):null})}decodeFromInputVideoDevice(n,s){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,s)})}decodeOnceFromVideoDevice(n,s){return ve(this,void 0,void 0,function*(){this.reset();let i;n?i={deviceId:{exact:n}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,s)})}decodeOnceFromConstraints(n,s){return ve(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(i,s)})}decodeOnceFromStream(n,s){return ve(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(n,s);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(n,s,i){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,s,i)})}decodeFromVideoDevice(n,s,i){return ve(this,void 0,void 0,function*(){let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const u={video:o};return yield this.decodeFromConstraints(u,s,i)})}decodeFromConstraints(n,s,i){return ve(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(o,s,i)})}decodeFromStream(n,s,i){return ve(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,s);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,s){return ve(this,void 0,void 0,function*(){const i=this.prepareVideoElement(s);return this.addVideoSource(i,n),this.videoElement=i,this.stream=n,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(n){return new Promise((s,i)=>this.playVideoOnLoad(n,()=>s()))}playVideoOnLoad(n,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",s),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,s){const i=document.getElementById(n);if(!i)throw new b(`element with id '${n}' not found`);if(i.nodeName.toLowerCase()!==s.toLowerCase())throw new b(`element with id '${n}' must be an ${s} element`);return i}decodeFromImage(n,s){if(!n&&!s)throw new b("either imageElement with a src set or an url must be provided");return s&&!n?this.decodeFromImageUrl(s):this.decodeFromImageElement(n)}decodeFromVideo(n,s){if(!n&&!s)throw new b("Either an element with a src set or an URL must be provided");return s&&!n?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,s,i){if(n===void 0&&s===void 0)throw new b("Either an element with a src set or an URL must be provided");return s&&!n?this.decodeFromVideoUrlContinuously(s,i):this.decodeFromVideoElementContinuously(n,i)}decodeFromImageElement(n){if(!n)throw new b("An image element must be provided.");this.reset();const s=this.prepareImageElement(n);this.imageElement=s;let i;return this.isImageLoaded(s)?i=this.decodeOnce(s,!1,!0):i=this._decodeOnLoadImage(s),i}decodeFromVideoElement(n){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(n,s){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(i,s)}_decodeFromVideoElementSetup(n){if(!n)throw new b("A video element must be provided.");this.reset();const s=this.prepareVideoElement(n);return this.videoElement=s,s}decodeFromImageUrl(n){if(!n)throw new b("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const i=this._decodeOnLoadImage(s);return s.src=n,i}decodeFromVideoUrl(n){if(!n)throw new b("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),i=this.decodeFromVideoElement(s);return s.src=n,i}decodeFromVideoUrlContinuously(n,s){if(!n)throw new b("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,s);return i.src=n,o}_decodeOnLoadImage(n){return new Promise((s,i)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(s,i),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,s){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,s)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let s;return typeof n>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof n=="string"&&(s=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(s=n),s}prepareVideoElement(n){let s;return!n&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof n=="string"&&(s=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(s=n),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(n,s=!0,i=!0){this._stopAsyncDecode=!1;const o=(u,h)=>{if(this._stopAsyncDecode){h(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);u(f)}catch(f){const p=s&&f instanceof Y,v=(f instanceof D||f instanceof z)&&i;if(p||v)return setTimeout(o,this._timeBetweenDecodingAttempts,u,h);h(f)}};return new Promise((u,h)=>o(u,h))}decodeContinuously(n,s){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(n);s(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){s(null,o);const u=o instanceof D||o instanceof z,h=o instanceof Y;(u||h)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(n){const s=this.createBinaryBitmap(n);return this.decodeBitmap(s)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,s,i){s||(s={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(n,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(n,s,i=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(n,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const s=this.getCaptureCanvas(n),i=new me(s),o=new ne(i);return new A(o)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const s=this.createCaptureCanvas(n);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let i,o;return typeof n<"u"&&(n instanceof HTMLVideoElement?(i=n.videoWidth,o=n.videoHeight):n instanceof HTMLImageElement&&(i=n.naturalWidth||n.width,o=n.naturalHeight||n.height)),s.style.width=i+"px",s.style.height=o+"px",s.width=i,s.height=o,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,s){try{n.srcObject=s}catch{n.src=URL.createObjectURL(s)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class q{constructor(n,s,i=s==null?0:8*s.length,o,u,h=O.currentTimeMillis()){this.text=n,this.rawBytes=s,this.numBits=i,this.resultPoints=o,this.format=u,this.timestamp=h,this.text=n,this.rawBytes=s,i==null?this.numBits=s==null?0:8*s.length:this.numBits=i,this.resultPoints=o,this.format=u,this.resultMetadata=null,h==null?this.timestamp=O.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,s)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const s=this.resultPoints;if(s===null)this.resultPoints=n;else if(n!==null&&n.length>0){const i=new Array(s.length+n.length);O.arraycopy(s,0,i,0,s.length),O.arraycopy(n,0,i,s.length,n.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var _e;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_e||(_e={}));var le=_e,gt;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(gt||(gt={}));var Ze=gt;class Mt{constructor(n,s,i,o,u=-1,h=-1){this.rawBytes=n,this.text=s,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class is{exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}static addOrSubtract(n,s){return n^s}}class en{constructor(n,s){if(s.length===0)throw new N;this.field=n;const i=s.length;if(i>1&&s[0]===0){let o=1;for(;o<i&&s[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),O.arraycopy(s,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const s=this.coefficients;let i;if(n===1){i=0;for(let h=0,f=s.length;h!==f;h++){const p=s[h];i=is.addOrSubtract(i,p)}return i}i=s[0];const o=s.length,u=this.field;for(let h=1;h<o;h++)i=is.addOrSubtract(u.multiply(n,i),s[h]);return i}addOrSubtract(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let s=this.coefficients,i=n.coefficients;if(s.length>i.length){const h=s;s=i,i=h}let o=new Int32Array(i.length);const u=i.length-s.length;O.arraycopy(i,0,o,0,u);for(let h=u;h<i.length;h++)o[h]=is.addOrSubtract(s[h-u],i[h]);return new en(this.field,o)}multiply(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const s=this.coefficients,i=s.length,o=n.coefficients,u=o.length,h=new Int32Array(i+u-1),f=this.field;for(let p=0;p<i;p++){const m=s[p];for(let v=0;v<u;v++)h[p+v]=is.addOrSubtract(h[p+v],f.multiply(m,o[v]))}return new en(f,h)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const s=this.coefficients.length,i=this.field,o=new Int32Array(s),u=this.coefficients;for(let h=0;h<s;h++)o[h]=i.multiply(u[h],n);return new en(i,o)}multiplyByMonomial(n,s){if(n<0)throw new N;if(s===0)return this.field.getZero();const i=this.coefficients,o=i.length,u=new Int32Array(o+n),h=this.field;for(let f=0;f<o;f++)u[f]=h.multiply(i[f],s);return new en(h,u)}divide(n){if(!this.field.equals(n.field))throw new N("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new N("Divide by 0");const s=this.field;let i=s.getZero(),o=this;const u=n.getCoefficient(n.getDegree()),h=s.inverse(u);for(;o.getDegree()>=n.getDegree()&&!o.isZero();){const f=o.getDegree()-n.getDegree(),p=s.multiply(o.getCoefficient(o.getDegree()),h),m=n.multiplyByMonomial(f,p),v=s.buildMonomial(f,p);i=i.addOrSubtract(v),o=o.addOrSubtract(m)}return[i,o]}toString(){let n="";for(let s=this.getDegree();s>=0;s--){let i=this.getCoefficient(s);if(i!==0){if(i<0?(n+=" - ",i=-i):n.length>0&&(n+=" + "),s===0||i!==1){const o=this.field.log(i);o===0?n+="1":o===1?n+="a":(n+="a^",n+=o)}s!==0&&(s===1?n+="x":(n+="x^",n+=s))}}return n}}class La extends g{}La.kind="ArithmeticException";class Fe extends is{constructor(n,s,i){super(),this.primitive=n,this.size=s,this.generatorBase=i;const o=new Int32Array(s);let u=1;for(let f=0;f<s;f++)o[f]=u,u*=2,u>=s&&(u^=n,u&=s-1);this.expTable=o;const h=new Int32Array(s);for(let f=0;f<s-1;f++)h[o[f]]=f;this.logTable=h,this.zero=new en(this,Int32Array.from([0])),this.one=new en(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,s){if(n<0)throw new N;if(s===0)return this.zero;const i=new Int32Array(n+1);return i[0]=s,new en(this,i)}inverse(n){if(n===0)throw new La;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,s){return n===0||s===0?0:this.expTable[(this.logTable[n]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Fe.AZTEC_DATA_12=new Fe(4201,4096,1),Fe.AZTEC_DATA_10=new Fe(1033,1024,1),Fe.AZTEC_DATA_6=new Fe(67,64,1),Fe.AZTEC_PARAM=new Fe(19,16,1),Fe.QR_CODE_FIELD_256=new Fe(285,256,0),Fe.DATA_MATRIX_FIELD_256=new Fe(301,256,1),Fe.AZTEC_DATA_8=Fe.DATA_MATRIX_FIELD_256,Fe.MAXICODE_FIELD_64=Fe.AZTEC_DATA_6;class Ms extends g{}Ms.kind="ReedSolomonException";class Yn extends g{}Yn.kind="IllegalStateException";class Ei{constructor(n){this.field=n}decode(n,s){const i=this.field,o=new en(i,n),u=new Int32Array(s);let h=!0;for(let _=0;_<s;_++){const B=o.evaluateAt(i.exp(_+i.getGeneratorBase()));u[u.length-1-_]=B,B!==0&&(h=!1)}if(h)return;const f=new en(i,u),p=this.runEuclideanAlgorithm(i.buildMonomial(s,1),f,s),m=p[0],v=p[1],E=this.findErrorLocations(m),S=this.findErrorMagnitudes(v,E);for(let _=0;_<E.length;_++){const B=n.length-1-i.log(E[_]);if(B<0)throw new Ms("Bad error location");n[B]=Fe.addOrSubtract(n[B],S[_])}}runEuclideanAlgorithm(n,s,i){if(n.getDegree()<s.getDegree()){const _=n;n=s,s=_}const o=this.field;let u=n,h=s,f=o.getZero(),p=o.getOne();for(;h.getDegree()>=(i/2|0);){let _=u,B=f;if(u=h,f=p,u.isZero())throw new Ms("r_{i-1} was zero");h=_;let F=o.getZero();const V=u.getCoefficient(u.getDegree()),Q=o.inverse(V);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const se=h.getDegree()-u.getDegree(),ae=o.multiply(h.getCoefficient(h.getDegree()),Q);F=F.addOrSubtract(o.buildMonomial(se,ae)),h=h.addOrSubtract(u.multiplyByMonomial(se,ae))}if(p=F.multiply(f).addOrSubtract(B),h.getDegree()>=u.getDegree())throw new Yn("Division algorithm failed to reduce polynomial?")}const m=p.getCoefficient(0);if(m===0)throw new Ms("sigmaTilde(0) was zero");const v=o.inverse(m),E=p.multiplyScalar(v),S=h.multiplyScalar(v);return[E,S]}findErrorLocations(n){const s=n.getDegree();if(s===1)return Int32Array.from([n.getCoefficient(1)]);const i=new Int32Array(s);let o=0;const u=this.field;for(let h=1;h<u.getSize()&&o<s;h++)n.evaluateAt(h)===0&&(i[o]=u.inverse(h),o++);if(o!==s)throw new Ms("Error locator degree does not match number of roots");return i}findErrorMagnitudes(n,s){const i=s.length,o=new Int32Array(i),u=this.field;for(let h=0;h<i;h++){const f=u.inverse(s[h]);let p=1;for(let m=0;m<i;m++)if(h!==m){const v=u.multiply(s[m],f),E=v&1?v&-2:v|1;p=u.multiply(p,E)}o[h]=u.multiply(n.evaluateAt(f),u.inverse(p)),u.getGeneratorBase()!==0&&(o[h]=u.multiply(o[h],f))}return o}}var Rt;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(Rt||(Rt={}));class qe{decode(n){this.ddata=n;let s=n.getBits(),i=this.extractBits(s),o=this.correctBits(i),u=qe.convertBoolArrayToByteArray(o),h=qe.getEncodedData(o),f=new Mt(u,h,null,null);return f.setNumBits(o.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let s=n.length,i=Rt.UPPER,o=Rt.UPPER,u="",h=0;for(;h<s;)if(o===Rt.BINARY){if(s-h<5)break;let f=qe.readCode(n,h,5);if(h+=5,f===0){if(s-h<11)break;f=qe.readCode(n,h,11)+31,h+=11}for(let p=0;p<f;p++){if(s-h<8){h=s;break}const m=qe.readCode(n,h,8);u+=de.castAsNonUtf8Char(m),h+=8}o=i}else{let f=o===Rt.DIGIT?4:5;if(s-h<f)break;let p=qe.readCode(n,h,f);h+=f;let m=qe.getCharacter(o,p);m.startsWith("CTRL_")?(i=o,o=qe.getTable(m.charAt(5)),m.charAt(6)==="L"&&(i=o)):(u+=m,o=i)}return u}static getTable(n){switch(n){case"L":return Rt.LOWER;case"P":return Rt.PUNCT;case"M":return Rt.MIXED;case"D":return Rt.DIGIT;case"B":return Rt.BINARY;case"U":default:return Rt.UPPER}}static getCharacter(n,s){switch(n){case Rt.UPPER:return qe.UPPER_TABLE[s];case Rt.LOWER:return qe.LOWER_TABLE[s];case Rt.MIXED:return qe.MIXED_TABLE[s];case Rt.PUNCT:return qe.PUNCT_TABLE[s];case Rt.DIGIT:return qe.DIGIT_TABLE[s];default:throw new Yn("Bad table")}}correctBits(n){let s,i;this.ddata.getNbLayers()<=2?(i=6,s=Fe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,s=Fe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,s=Fe.AZTEC_DATA_10):(i=12,s=Fe.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),u=n.length/i;if(u<o)throw new z;let h=n.length%i,f=new Int32Array(u);for(let S=0;S<u;S++,h+=i)f[S]=qe.readCode(n,h,i);try{new Ei(s).decode(f,u-o)}catch(S){throw new z(S)}let p=(1<<i)-1,m=0;for(let S=0;S<o;S++){let _=f[S];if(_===0||_===p)throw new z;(_===1||_===p-1)&&m++}let v=new Array(o*i-m),E=0;for(let S=0;S<o;S++){let _=f[S];if(_===1||_===p-1)v.fill(_>1,E,E+i-1),E+=i-1;else for(let B=i-1;B>=0;--B)v[E++]=(_&1<<B)!==0}return v}extractBits(n){let s=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(s?11:14)+i*4,u=new Int32Array(o),h=new Array(this.totalBitsInLayer(i,s));if(s)for(let f=0;f<u.length;f++)u[f]=f;else{let f=o+1+2*T.truncDivision(T.truncDivision(o,2)-1,15),p=o/2,m=T.truncDivision(f,2);for(let v=0;v<p;v++){let E=v+T.truncDivision(v,15);u[p-v-1]=m-E-1,u[p+v]=m+E+1}}for(let f=0,p=0;f<i;f++){let m=(i-f)*4+(s?9:12),v=f*2,E=o-1-v;for(let S=0;S<m;S++){let _=S*2;for(let B=0;B<2;B++)h[p+_+B]=n.get(u[v+B],u[v+S]),h[p+2*m+_+B]=n.get(u[v+S],u[E-B]),h[p+4*m+_+B]=n.get(u[E-B],u[E-S]),h[p+6*m+_+B]=n.get(u[E-S],u[v+B])}p+=m*8}return h}static readCode(n,s,i){let o=0;for(let u=s;u<s+i;u++)o<<=1,n[u]&&(o|=1);return o}static readByte(n,s){let i=n.length-s;return i>=8?qe.readCode(n,s,8):qe.readCode(n,s,i)<<8-i}static convertBoolArrayToByteArray(n){let s=new Uint8Array((n.length+7)/8);for(let i=0;i<s.length;i++)s[i]=qe.readByte(n,8*i);return s}totalBitsInLayer(n,s){return((s?88:112)+16*n)*n}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Le{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,s,i,o){const u=n-i,h=s-o;return Math.sqrt(u*u+h*h)}static sum(n){let s=0;for(let i=0,o=n.length;i!==o;i++){const u=n[i];s+=u}return s}}class Ba{static floatToIntBits(n){return n}}Ba.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(n,s){this.x=n,this.y=s}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof ye){const s=n;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Ba.floatToIntBits(this.x)+Ba.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const s=this.distance(n[0],n[1]),i=this.distance(n[1],n[2]),o=this.distance(n[0],n[2]);let u,h,f;if(i>=s&&i>=o?(h=n[0],u=n[1],f=n[2]):o>=i&&o>=s?(h=n[1],u=n[0],f=n[2]):(h=n[2],u=n[0],f=n[1]),this.crossProductZ(u,h,f)<0){const p=u;u=f,f=p}n[0]=u,n[1]=h,n[2]=f}static distance(n,s){return Le.distance(n.x,n.y,s.x,s.y)}static crossProductZ(n,s,i){const o=s.x,u=s.y;return(i.x-o)*(n.y-u)-(i.y-u)*(n.x-o)}}class Pa{constructor(n,s){this.bits=n,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class o0 extends Pa{constructor(n,s,i,o,u){super(n,s),this.compact=i,this.nbDatablocks=o,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class lr{constructor(n,s,i,o){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),s==null&&(s=lr.INIT_SIZE),i==null&&(i=n.getWidth()/2|0),o==null&&(o=n.getHeight()/2|0);const u=s/2|0;if(this.leftInit=i-u,this.rightInit=i+u,this.upInit=o-u,this.downInit=o+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let n=this.leftInit,s=this.rightInit,i=this.upInit,o=this.downInit,u=!1,h=!0,f=!1,p=!1,m=!1,v=!1,E=!1;const S=this.width,_=this.height;for(;h;){h=!1;let B=!0;for(;(B||!p)&&s<S;)B=this.containsBlackPoint(i,o,s,!1),B?(s++,h=!0,p=!0):p||s++;if(s>=S){u=!0;break}let F=!0;for(;(F||!m)&&o<_;)F=this.containsBlackPoint(n,s,o,!0),F?(o++,h=!0,m=!0):m||o++;if(o>=_){u=!0;break}let V=!0;for(;(V||!v)&&n>=0;)V=this.containsBlackPoint(i,o,n,!1),V?(n--,h=!0,v=!0):v||n--;if(n<0){u=!0;break}let Q=!0;for(;(Q||!E)&&i>=0;)Q=this.containsBlackPoint(n,s,i,!0),Q?(i--,h=!0,E=!0):E||i--;if(i<0){u=!0;break}h&&(f=!0)}if(!u&&f){const B=s-n;let F=null;for(let ae=1;F===null&&ae<B;ae++)F=this.getBlackPointOnSegment(n,o-ae,n+ae,o);if(F==null)throw new Y;let V=null;for(let ae=1;V===null&&ae<B;ae++)V=this.getBlackPointOnSegment(n,i+ae,n+ae,i);if(V==null)throw new Y;let Q=null;for(let ae=1;Q===null&&ae<B;ae++)Q=this.getBlackPointOnSegment(s,i+ae,s-ae,i);if(Q==null)throw new Y;let se=null;for(let ae=1;se===null&&ae<B;ae++)se=this.getBlackPointOnSegment(s,o-ae,s-ae,o);if(se==null)throw new Y;return this.centerEdges(se,F,Q,V)}else throw new Y}getBlackPointOnSegment(n,s,i,o){const u=Le.round(Le.distance(n,s,i,o)),h=(i-n)/u,f=(o-s)/u,p=this.image;for(let m=0;m<u;m++){const v=Le.round(n+m*h),E=Le.round(s+m*f);if(p.get(v,E))return new ye(v,E)}return null}centerEdges(n,s,i,o){const u=n.getX(),h=n.getY(),f=s.getX(),p=s.getY(),m=i.getX(),v=i.getY(),E=o.getX(),S=o.getY(),_=lr.CORR;return u<this.width/2?[new ye(E-_,S+_),new ye(f+_,p+_),new ye(m-_,v-_),new ye(u+_,h-_)]:[new ye(E+_,S+_),new ye(f+_,p-_),new ye(m-_,v+_),new ye(u-_,h-_)]}containsBlackPoint(n,s,i,o){const u=this.image;if(o){for(let h=n;h<=s;h++)if(u.get(h,i))return!0}else for(let h=n;h<=s;h++)if(u.get(i,h))return!0;return!1}}lr.INIT_SIZE=10,lr.CORR=1;class Bo{static checkAndNudgePoints(n,s){const i=n.getWidth(),o=n.getHeight();let u=!0;for(let h=0;h<s.length&&u;h+=2){const f=Math.floor(s[h]),p=Math.floor(s[h+1]);if(f<-1||f>i||p<-1||p>o)throw new Y;u=!1,f===-1?(s[h]=0,u=!0):f===i&&(s[h]=i-1,u=!0),p===-1?(s[h+1]=0,u=!0):p===o&&(s[h+1]=o-1,u=!0)}u=!0;for(let h=s.length-2;h>=0&&u;h-=2){const f=Math.floor(s[h]),p=Math.floor(s[h+1]);if(f<-1||f>i||p<-1||p>o)throw new Y;u=!1,f===-1?(s[h]=0,u=!0):f===i&&(s[h]=i-1,u=!0),p===-1?(s[h+1]=0,u=!0):p===o&&(s[h+1]=o-1,u=!0)}}}class Dn{constructor(n,s,i,o,u,h,f,p,m){this.a11=n,this.a21=s,this.a31=i,this.a12=o,this.a22=u,this.a32=h,this.a13=f,this.a23=p,this.a33=m}static quadrilateralToQuadrilateral(n,s,i,o,u,h,f,p,m,v,E,S,_,B,F,V){const Q=Dn.quadrilateralToSquare(n,s,i,o,u,h,f,p);return Dn.squareToQuadrilateral(m,v,E,S,_,B,F,V).times(Q)}transformPoints(n){const s=n.length,i=this.a11,o=this.a12,u=this.a13,h=this.a21,f=this.a22,p=this.a23,m=this.a31,v=this.a32,E=this.a33;for(let S=0;S<s;S+=2){const _=n[S],B=n[S+1],F=u*_+p*B+E;n[S]=(i*_+h*B+m)/F,n[S+1]=(o*_+f*B+v)/F}}transformPointsWithValues(n,s){const i=this.a11,o=this.a12,u=this.a13,h=this.a21,f=this.a22,p=this.a23,m=this.a31,v=this.a32,E=this.a33,S=n.length;for(let _=0;_<S;_++){const B=n[_],F=s[_],V=u*B+p*F+E;n[_]=(i*B+h*F+m)/V,s[_]=(o*B+f*F+v)/V}}static squareToQuadrilateral(n,s,i,o,u,h,f,p){const m=n-i+u-f,v=s-o+h-p;if(m===0&&v===0)return new Dn(i-n,u-i,n,o-s,h-o,s,0,0,1);{const E=i-u,S=f-u,_=o-h,B=p-h,F=E*B-S*_,V=(m*B-S*v)/F,Q=(E*v-m*_)/F;return new Dn(i-n+V*i,f-n+Q*f,n,o-s+V*o,p-s+Q*p,s,V,Q,1)}}static quadrilateralToSquare(n,s,i,o,u,h,f,p){return Dn.squareToQuadrilateral(n,s,i,o,u,h,f,p).buildAdjoint()}buildAdjoint(){return new Dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Dn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class c0 extends Bo{sampleGrid(n,s,i,o,u,h,f,p,m,v,E,S,_,B,F,V,Q,se,ae){const te=Dn.quadrilateralToQuadrilateral(o,u,h,f,p,m,v,E,S,_,B,F,V,Q,se,ae);return this.sampleGridWithTransform(n,s,i,te)}sampleGridWithTransform(n,s,i,o){if(s<=0||i<=0)throw new Y;const u=new ie(s,i),h=new Float32Array(2*s);for(let f=0;f<i;f++){const p=h.length,m=f+.5;for(let v=0;v<p;v+=2)h[v]=v/2+.5,h[v+1]=m;o.transformPoints(h),Bo.checkAndNudgePoints(n,h);try{for(let v=0;v<p;v+=2)n.get(Math.floor(h[v]),Math.floor(h[v+1]))&&u.set(v/2,f)}catch{throw new Y}}return u}}class Sr{static setGridSampler(n){Sr.gridSampler=n}static getInstance(){return Sr.gridSampler}}Sr.gridSampler=new c0;class Yt{constructor(n,s){this.x=n,this.y=s}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class u0{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let s=this.getMatrixCenter(),i=this.getBullsEyeCorners(s);if(n){let h=i[0];i[0]=i[2],i[2]=h}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),u=this.getMatrixCornerPoints(i);return new o0(o,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Y;let s=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(n[0],n[1],s),this.sampleLine(n[1],n[2],s),this.sampleLine(n[2],n[3],s),this.sampleLine(n[3],n[0],s)]);this.shift=this.getRotation(i,s);let o=0;for(let h=0;h<4;h++){let f=i[(this.shift+h)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let u=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,s){let i=0;n.forEach((o,u,h)=>{let f=(o>>s-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(T.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new Y}getCorrectedParameterData(n,s){let i,o;s?(i=7,o=2):(i=10,o=4);let u=i-o,h=new Int32Array(i);for(let p=i-1;p>=0;--p)h[p]=n&15,n>>=4;try{new Ei(Fe.AZTEC_PARAM).decode(h,u)}catch{throw new Y}let f=0;for(let p=0;p<o;p++)f=(f<<4)+h[p];return f}getBullsEyeCorners(n){let s=n,i=n,o=n,u=n,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(s,h,1,-1),S=this.getFirstDifferent(i,h,1,1),_=this.getFirstDifferent(o,h,-1,1),B=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(B,E)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(E,S,_,B))break}s=E,i=S,o=_,u=B,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let f=new ye(s.getX()+.5,s.getY()-.5),p=new ye(i.getX()+.5,i.getY()+.5),m=new ye(o.getX()-.5,o.getY()+.5),v=new ye(u.getX()-.5,u.getY()-.5);return this.expandSquare([f,p,m,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,s,i,o;try{let f=new lr(this.image).detect();n=f[0],s=f[1],i=f[2],o=f[3]}catch{let p=this.image.getWidth()/2,m=this.image.getHeight()/2;n=this.getFirstDifferent(new Yt(p+7,m-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Yt(p+7,m+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Yt(p-7,m+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Yt(p-7,m-7),!1,-1,-1).toResultPoint()}let u=Le.round((n.getX()+o.getX()+s.getX()+i.getX())/4),h=Le.round((n.getY()+o.getY()+s.getY()+i.getY())/4);try{let f=new lr(this.image,15,u,h).detect();n=f[0],s=f[1],i=f[2],o=f[3]}catch{n=this.getFirstDifferent(new Yt(u+7,h-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Yt(u+7,h+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Yt(u-7,h+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Yt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Le.round((n.getX()+o.getX()+s.getX()+i.getX())/4),h=Le.round((n.getY()+o.getY()+s.getY()+i.getY())/4),new Yt(u,h)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,s,i,o,u){let h=Sr.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,m=f/2+this.nbCenterLayers;return h.sampleGrid(n,f,f,p,p,m,p,m,m,p,m,s.getX(),s.getY(),i.getX(),i.getY(),o.getX(),o.getY(),u.getX(),u.getY())}sampleLine(n,s,i){let o=0,u=this.distanceResultPoint(n,s),h=u/i,f=n.getX(),p=n.getY(),m=h*(s.getX()-n.getX())/u,v=h*(s.getY()-n.getY())/u;for(let E=0;E<i;E++)this.image.get(Le.round(f+E*m),Le.round(p+E*v))&&(o|=1<<i-E-1);return o}isWhiteOrBlackRectangle(n,s,i,o){let u=3;n=new Yt(n.getX()-u,n.getY()+u),s=new Yt(s.getX()-u,s.getY()-u),i=new Yt(i.getX()+u,i.getY()-u),o=new Yt(o.getX()+u,o.getY()+u);let h=this.getColor(o,n);if(h===0)return!1;let f=this.getColor(n,s);return f!==h||(f=this.getColor(s,i),f!==h)?!1:(f=this.getColor(i,o),f===h)}getColor(n,s){let i=this.distancePoint(n,s),o=(s.getX()-n.getX())/i,u=(s.getY()-n.getY())/i,h=0,f=n.getX(),p=n.getY(),m=this.image.get(n.getX(),n.getY()),v=Math.ceil(i);for(let S=0;S<v;S++)f+=o,p+=u,this.image.get(Le.round(f),Le.round(p))!==m&&h++;let E=h/i;return E>.1&&E<.9?0:E<=.1===m?1:-1}getFirstDifferent(n,s,i,o){let u=n.getX()+i,h=n.getY()+o;for(;this.isValid(u,h)&&this.image.get(u,h)===s;)u+=i,h+=o;for(u-=i,h-=o;this.isValid(u,h)&&this.image.get(u,h)===s;)u+=i;for(u-=i;this.isValid(u,h)&&this.image.get(u,h)===s;)h+=o;return h-=o,new Yt(u,h)}expandSquare(n,s,i){let o=i/(2*s),u=n[0].getX()-n[2].getX(),h=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,p=(n[0].getY()+n[2].getY())/2,m=new ye(f+o*u,p+o*h),v=new ye(f-o*u,p-o*h);u=n[1].getX()-n[3].getX(),h=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,p=(n[1].getY()+n[3].getY())/2;let E=new ye(f+o*u,p+o*h),S=new ye(f-o*u,p-o*h);return[m,E,v,S]}isValid(n,s){return n>=0&&n<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(n){let s=Le.round(n.getX()),i=Le.round(n.getY());return this.isValid(s,i)}distancePoint(n,s){return Le.distance(n.getX(),n.getY(),s.getX(),s.getY())}distanceResultPoint(n,s){return Le.distance(n.getX(),n.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Fa{decode(n,s=null){let i=null,o=new u0(n.getBlackMatrix()),u=null,h=null;try{let v=o.detectMirror(!1);u=v.getPoints(),this.reportFoundResultPoints(s,u),h=new qe().decode(v)}catch(v){i=v}if(h==null)try{let v=o.detectMirror(!0);u=v.getPoints(),this.reportFoundResultPoints(s,u),h=new qe().decode(v)}catch(v){throw i??v}let f=new q(h.getText(),h.getRawBytes(),h.getNumBits(),u,le.AZTEC,O.currentTimeMillis()),p=h.getByteSegments();p!=null&&f.putMetadata(Ze.BYTE_SEGMENTS,p);let m=h.getECLevel();return m!=null&&f.putMetadata(Ze.ERROR_CORRECTION_LEVEL,m),f}reportFoundResultPoints(n,s){if(n!=null){let i=n.get(P.NEED_RESULT_POINT_CALLBACK);i!=null&&s.forEach((o,u,h)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class Qp extends X{constructor(n=500){super(new Fa,n)}}class vt{decode(n,s){try{return this.doDecode(n,s)}catch{if(s&&s.get(P.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),h=this.doDecode(u,s),f=h.getResultMetadata();let p=270;f!==null&&f.get(Ze.ORIENTATION)===!0&&(p=p+f.get(Ze.ORIENTATION)%360),h.putMetadata(Ze.ORIENTATION,p);const m=h.getResultPoints();if(m!==null){const v=u.getHeight();for(let E=0;E<m.length;E++)m[E]=new ye(v-m[E].getY()-1,m[E].getX())}return h}else throw new Y}}reset(){}doDecode(n,s){const i=n.getWidth(),o=n.getHeight();let u=new U(i);const h=s&&s.get(P.TRY_HARDER)===!0,f=Math.max(1,o>>(h?8:5));let p;h?p=o:p=15;const m=Math.trunc(o/2);for(let v=0;v<p;v++){const E=Math.trunc((v+1)/2),S=(v&1)===0,_=m+f*(S?E:-E);if(_<0||_>=o)break;try{u=n.getBlackRow(_,u)}catch{continue}for(let B=0;B<2;B++){if(B===1&&(u.reverse(),s&&s.get(P.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;s.forEach((V,Q)=>F.set(Q,V)),F.delete(P.NEED_RESULT_POINT_CALLBACK),s=F}try{const F=this.decodeRow(_,u,s);if(B===1){F.putMetadata(Ze.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new ye(i-V[0].getX()-1,V[0].getY()),V[1]=new ye(i-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new Y}static recordPattern(n,s,i){const o=i.length;for(let m=0;m<o;m++)i[m]=0;const u=n.getSize();if(s>=u)throw new Y;let h=!n.get(s),f=0,p=s;for(;p<u;){if(n.get(p)!==h)i[f]++;else{if(++f===o)break;i[f]=1,h=!h}p++}if(!(f===o||f===o-1&&p===u))throw new Y}static recordPatternInReverse(n,s,i){let o=i.length,u=n.get(s);for(;s>0&&o>=0;)n.get(--s)!==u&&(o--,u=!u);if(o>=0)throw new Y;vt.recordPattern(n,s+1,i)}static patternMatchVariance(n,s,i){const o=n.length;let u=0,h=0;for(let m=0;m<o;m++)u+=n[m],h+=s[m];if(u<h)return Number.POSITIVE_INFINITY;const f=u/h;i*=f;let p=0;for(let m=0;m<o;m++){const v=n[m],E=s[m]*f,S=v>E?v-E:E-v;if(S>i)return Number.POSITIVE_INFINITY;p+=S}return p/u}}class oe extends vt{static findStartPattern(n){const s=n.getSize(),i=n.getNextSet(0);let o=0,u=Int32Array.from([0,0,0,0,0,0]),h=i,f=!1;const p=6;for(let m=i;m<s;m++)if(n.get(m)!==f)u[o]++;else{if(o===p-1){let v=oe.MAX_AVG_VARIANCE,E=-1;for(let S=oe.CODE_START_A;S<=oe.CODE_START_C;S++){const _=vt.patternMatchVariance(u,oe.CODE_PATTERNS[S],oe.MAX_INDIVIDUAL_VARIANCE);_<v&&(v=_,E=S)}if(E>=0&&n.isRange(Math.max(0,h-(m-h)/2),h,!1))return Int32Array.from([h,m,E]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[o-1]=0,u[o]=0,o--}else o++;u[o]=1,f=!f}throw new Y}static decodeCode(n,s,i){vt.recordPattern(n,i,s);let o=oe.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<oe.CODE_PATTERNS.length;h++){const f=oe.CODE_PATTERNS[h],p=this.patternMatchVariance(s,f,oe.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,u=h)}if(u>=0)return u;throw new Y}decodeRow(n,s,i){const o=i&&i.get(P.ASSUME_GS1)===!0,u=oe.findStartPattern(s),h=u[2];let f=0;const p=new Uint8Array(20);p[f++]=h;let m;switch(h){case oe.CODE_START_A:m=oe.CODE_CODE_A;break;case oe.CODE_START_B:m=oe.CODE_CODE_B;break;case oe.CODE_START_C:m=oe.CODE_CODE_C;break;default:throw new z}let v=!1,E=!1,S="",_=u[0],B=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,Q=0,se=h,ae=0,te=!0,Re=!1,Ie=!1;for(;!v;){const zs=E;switch(E=!1,V=Q,Q=oe.decodeCode(s,F,B),p[f++]=Q,Q!==oe.CODE_STOP&&(te=!0),Q!==oe.CODE_STOP&&(ae++,se+=ae*Q),_=B,B+=F.reduce((Eg,Sg)=>Eg+Sg,0),Q){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new z}switch(m){case oe.CODE_CODE_A:if(Q<64)Ie===Re?S+=String.fromCharCode(32+Q):S+=String.fromCharCode(32+Q+128),Ie=!1;else if(Q<96)Ie===Re?S+=String.fromCharCode(Q-64):S+=String.fromCharCode(Q+64),Ie=!1;else switch(Q!==oe.CODE_STOP&&(te=!1),Q){case oe.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!Re&&Ie?(Re=!0,Ie=!1):Re&&Ie?(Re=!1,Ie=!1):Ie=!0;break;case oe.CODE_SHIFT:E=!0,m=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:m=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:m=oe.CODE_CODE_C;break;case oe.CODE_STOP:v=!0;break}break;case oe.CODE_CODE_B:if(Q<96)Ie===Re?S+=String.fromCharCode(32+Q):S+=String.fromCharCode(32+Q+128),Ie=!1;else switch(Q!==oe.CODE_STOP&&(te=!1),Q){case oe.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!Re&&Ie?(Re=!0,Ie=!1):Re&&Ie?(Re=!1,Ie=!1):Ie=!0;break;case oe.CODE_SHIFT:E=!0,m=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:m=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:m=oe.CODE_CODE_C;break;case oe.CODE_STOP:v=!0;break}break;case oe.CODE_CODE_C:if(Q<100)Q<10&&(S+="0"),S+=Q;else switch(Q!==oe.CODE_STOP&&(te=!1),Q){case oe.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+="");break;case oe.CODE_CODE_A:m=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:m=oe.CODE_CODE_B;break;case oe.CODE_STOP:v=!0;break}break}zs&&(m=m===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const sn=B-_;if(B=s.getNextUnset(B),!s.isRange(B,Math.min(s.getSize(),B+(B-_)/2),!1))throw new Y;if(se-=ae*V,se%103!==V)throw new D;const Bn=S.length;if(Bn===0)throw new Y;Bn>0&&te&&(m===oe.CODE_CODE_C?S=S.substring(0,Bn-2):S=S.substring(0,Bn-1));const an=(u[1]+u[0])/2,Qe=_+sn/2,Lt=p.length,xn=new Uint8Array(Lt);for(let zs=0;zs<Lt;zs++)xn[zs]=p[zs];const Us=[new ye(an,n),new ye(Qe,n)];return new q(S,xn,0,Us,le.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class Ct extends vt{constructor(n=!1,s=!1){super(),this.usingCheckDigit=n,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,s,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let u=Ct.findAsteriskPattern(s,o),h=s.getNextSet(u[1]),f=s.getSize(),p,m;do{Ct.recordPattern(s,h,o);let F=Ct.toNarrowWidePattern(o);if(F<0)throw new Y;p=Ct.patternToChar(F),this.decodeRowResult+=p,m=h;for(let V of o)h+=V;h=s.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let F of o)v+=F;let E=h-m-v;if(h!==f&&E*2<v)throw new Y;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let Q=0;Q<F;Q++)V+=Ct.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(F)!==Ct.ALPHABET_STRING.charAt(V%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new Y;let S;this.extendedMode?S=Ct.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let _=(u[1]+u[0])/2,B=m+v/2;return new q(S,null,0,[new ye(_,n),new ye(B,n)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(n,s){let i=n.getSize(),o=n.getNextSet(0),u=0,h=o,f=!1,p=s.length;for(let m=o;m<i;m++)if(n.get(m)!==f)s[u]++;else{if(u===p-1){if(this.toNarrowWidePattern(s)===Ct.ASTERISK_ENCODING&&n.isRange(Math.max(0,h-Math.floor((m-h)/2)),h,!1))return[h,m];h+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,f=!f}throw new Y}static toNarrowWidePattern(n){let s=n.length,i=0,o;do{let u=2147483647;for(let p of n)p<u&&p>i&&(u=p);i=u,o=0;let h=0,f=0;for(let p=0;p<s;p++){let m=n[p];m>i&&(f|=1<<s-1-p,o++,h+=m)}if(o===3){for(let p=0;p<s&&o>0;p++){let m=n[p];if(m>i&&(o--,m*2>=h))return-1}return f}}while(o>3);return-1}static patternToChar(n){for(let s=0;s<Ct.CHARACTER_ENCODINGS.length;s++)if(Ct.CHARACTER_ENCODINGS[s]===n)return Ct.ALPHABET_STRING.charAt(s);if(n===Ct.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(n){let s=n.length,i="";for(let o=0;o<s;o++){let u=n.charAt(o);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=n.charAt(o+1),f="\0";switch(u){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new z;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new z;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new z;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new z;break}i+=f,o++}else i+=u}return i}}Ct.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ct.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ct.ASTERISK_ENCODING=148;class Ye extends vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,s,i){let o=this.decodeStart(s),u=this.decodeEnd(s),h=new he;Ye.decodeMiddle(s,o[1],u[0],h);let f=h.toString(),p=null;i!=null&&(p=i.get(P.ALLOWED_LENGTHS)),p==null&&(p=Ye.DEFAULT_ALLOWED_LENGTHS);let m=f.length,v=!1,E=0;for(let B of p){if(m===B){v=!0;break}B>E&&(E=B)}if(!v&&m>E&&(v=!0),!v)throw new z;const S=[new ye(o[1],n),new ye(u[0],n)];return new q(f,null,0,S,le.ITF,new Date().getTime())}static decodeMiddle(n,s,i,o){let u=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),h.fill(0),f.fill(0);s<i;){vt.recordPattern(n,s,u);for(let m=0;m<5;m++){let v=2*m;h[m]=u[v],f[m]=u[v+1]}let p=Ye.decodeDigit(h);o.append(p.toString()),p=this.decodeDigit(f),o.append(p.toString()),u.forEach(function(m){s+=m})}}decodeStart(n){let s=Ye.skipWhiteSpace(n),i=Ye.findGuardPattern(n,s,Ye.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i}validateQuietZone(n,s){let i=this.narrowLineWidth*10;i=i<s?i:s;for(let o=s-1;i>0&&o>=0&&!n.get(o);o--)i--;if(i!==0)throw new Y}static skipWhiteSpace(n){const s=n.getSize(),i=n.getNextSet(0);if(i===s)throw new Y;return i}decodeEnd(n){n.reverse();try{let s=Ye.skipWhiteSpace(n),i;try{i=Ye.findGuardPattern(n,s,Ye.END_PATTERN_REVERSED[0])}catch(u){u instanceof Y&&(i=Ye.findGuardPattern(n,s,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);let o=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-o,i}finally{n.reverse()}}static findGuardPattern(n,s,i){let o=i.length,u=new Int32Array(o),h=n.getSize(),f=!1,p=0,m=s;u.fill(0);for(let v=s;v<h;v++)if(n.get(v)!==f)u[p]++;else{if(p===o-1){if(vt.patternMatchVariance(u,i,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[m,v];m+=u[0]+u[1],O.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,f=!f}throw new Y}static decodeDigit(n){let s=Ye.MAX_AVG_VARIANCE,i=-1,o=Ye.PATTERNS.length;for(let u=0;u<o;u++){let h=Ye.PATTERNS[u],f=vt.patternMatchVariance(n,h,Ye.MAX_INDIVIDUAL_VARIANCE);f<s?(s=f,i=u):f===s&&(i=-1)}if(i>=0)return i%10;throw new Y}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ut extends vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let s=!1,i,o=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),i=ut.findGuardPattern(n,o,!1,this.START_END_PATTERN,u);let h=i[0];o=i[1];let f=h-(o-h);f>=0&&(s=n.isRange(f,h,!1))}return i}static checkChecksum(n){return ut.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let s=n.length;if(s===0)return!1;let i=parseInt(n.charAt(s-1),10);return ut.getStandardUPCEANChecksum(n.substring(0,s-1))===i}static getStandardUPCEANChecksum(n){let s=n.length,i=0;for(let o=s-1;o>=0;o-=2){let u=n.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new z;i+=u}i*=3;for(let o=s-2;o>=0;o-=2){let u=n.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new z;i+=u}return(1e3-i)%10}static decodeEnd(n,s){return ut.findGuardPattern(n,s,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,s,i,o){return this.findGuardPattern(n,s,i,o,new Int32Array(o.length))}static findGuardPattern(n,s,i,o,u){let h=n.getSize();s=i?n.getNextUnset(s):n.getNextSet(s);let f=0,p=s,m=o.length,v=i;for(let E=s;E<h;E++)if(n.get(E)!==v)u[f]++;else{if(f===m-1){if(vt.patternMatchVariance(u,o,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return Int32Array.from([p,E]);p+=u[0]+u[1];let S=u.slice(2,u.length-1);for(let _=0;_<f-1;_++)u[_]=S[_];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,v=!v}throw new Y}static decodeDigit(n,s,i,o){this.recordPattern(n,i,s);let u=this.MAX_AVG_VARIANCE,h=-1,f=o.length;for(let p=0;p<f;p++){let m=o[p],v=vt.patternMatchVariance(s,m,ut.MAX_INDIVIDUAL_VARIANCE);v<u&&(u=v,h=p)}if(h>=0)return h;throw new Y}}ut.MAX_AVG_VARIANCE=.48,ut.MAX_INDIVIDUAL_VARIANCE=.7,ut.START_END_PATTERN=Int32Array.from([1,1,1]),ut.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ut.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ut.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Si{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,s,i){let o=this.decodeRowStringBuffer,u=this.decodeMiddle(s,i,o),h=o.toString(),f=Si.parseExtensionString(h),p=[new ye((i[0]+i[1])/2,n),new ye(u,n)],m=new q(h,null,0,p,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(n,s,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=n.getSize(),h=s[1],f=0;for(let m=0;m<5&&h<u;m++){let v=ut.decodeDigit(n,o,h,ut.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let E of o)h+=E;v>=10&&(f|=1<<4-m),m!==4&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(i.length!==5)throw new Y;let p=this.determineCheckDigit(f);if(Si.extensionChecksum(i.toString())!==p)throw new Y;return h}static extensionChecksum(n){let s=n.length,i=0;for(let o=s-2;o>=0;o-=2)i+=n.charAt(o).charCodeAt(0)-48;i*=3;for(let o=s-1;o>=0;o-=2)i+=n.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(n){for(let s=0;s<10;s++)if(n===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new Y}static parseExtensionString(n){if(n.length!==5)return null;let s=Si.parseExtension5String(n);return s==null?null:new Map([[Ze.SUGGESTED_PRICE,s]])}static parseExtension5String(n){let s;switch(n.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let i=parseInt(n.substring(1)),o=(i/100).toString(),u=i%100,h=u<10?"0"+u:u.toString();return s+o+"."+h}}class Po{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,s,i){let o=this.decodeRowStringBuffer,u=this.decodeMiddle(s,i,o),h=o.toString(),f=Po.parseExtensionString(h),p=[new ye((i[0]+i[1])/2,n),new ye(u,n)],m=new q(h,null,0,p,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(n,s,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=n.getSize(),h=s[1],f=0;for(let p=0;p<2&&h<u;p++){let m=ut.decodeDigit(n,o,h,ut.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);for(let v of o)h+=v;m>=10&&(f|=1<<1-p),p!==1&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(i.length!==2)throw new Y;if(parseInt(i.toString())%4!==f)throw new Y;return h}static parseExtensionString(n){return n.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(n)]])}}class d0{static decodeRow(n,s,i){let o=ut.findGuardPattern(s,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Si().decodeRow(n,s,o)}catch{return new Po().decodeRow(n,s,o)}}}d0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ue extends ut{constructor(){super(),this.decodeRowStringBuffer="",Ue.L_AND_G_PATTERNS=Ue.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let s=Ue.L_PATTERNS[n-10],i=new Int32Array(s.length);for(let o=0;o<s.length;o++)i[o]=s[s.length-o-1];Ue.L_AND_G_PATTERNS[n]=i}}decodeRow(n,s,i){let o=Ue.findStartGuardPattern(s),u=i==null?null:i.get(P.NEED_RESULT_POINT_CALLBACK);if(u!=null){const te=new ye((o[0]+o[1])/2,n);u.foundPossibleResultPoint(te)}let h=this.decodeMiddle(s,o,this.decodeRowStringBuffer),f=h.rowOffset,p=h.resultString;if(u!=null){const te=new ye(f,n);u.foundPossibleResultPoint(te)}let m=this.decodeEnd(s,f);if(u!=null){const te=new ye((m[0]+m[1])/2,n);u.foundPossibleResultPoint(te)}let v=m[1],E=v+(v-m[0]);if(E>=s.getSize()||!s.isRange(v,E,!1))throw new Y;let S=p.toString();if(S.length<8)throw new z;if(!Ue.checkChecksum(S))throw new D;let _=(o[1]+o[0])/2,B=(m[1]+m[0])/2,F=this.getBarcodeFormat(),V=[new ye(_,n),new ye(B,n)],Q=new q(S,null,0,V,F,new Date().getTime()),se=0;try{let te=d0.decodeRow(n,s,m[1]);Q.putMetadata(Ze.UPC_EAN_EXTENSION,te.getText()),Q.putAllMetadata(te.getResultMetadata()),Q.addResultPoints(te.getResultPoints()),se=te.getText().length}catch{}let ae=i==null?null:i.get(P.ALLOWED_EAN_EXTENSIONS);if(ae!=null){let te=!1;for(let Re in ae)if(se.toString()===Re){te=!0;break}if(!te)throw new Y}return Q}decodeEnd(n,s){return Ue.findGuardPattern(n,s,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Ue.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let s=n.length;if(s===0)return!1;let i=parseInt(n.charAt(s-1),10);return Ue.getStandardUPCEANChecksum(n.substring(0,s-1))===i}static getStandardUPCEANChecksum(n){let s=n.length,i=0;for(let o=s-1;o>=0;o-=2){let u=n.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new z;i+=u}i*=3;for(let o=s-2;o>=0;o-=2){let u=n.charAt(o).charCodeAt(0)-48;if(u<0||u>9)throw new z;i+=u}return(1e3-i)%10}}class as extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,s,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=n.getSize(),h=s[1],f=0;for(let m=0;m<6&&h<u;m++){let v=Ue.decodeDigit(n,o,h,Ue.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let E of o)h+=E;v>=10&&(f|=1<<5-m)}i=as.determineFirstDigit(i,f),h=Ue.findGuardPattern(n,h,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&h<u;m++){let v=Ue.decodeDigit(n,o,h,Ue.L_PATTERNS);i+=String.fromCharCode(48+v);for(let E of o)h+=E}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(n,s){for(let i=0;i<10;i++)if(s===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode(48+i)+n,n;throw new Y}}as.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class h0 extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,s,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=n.getSize(),h=s[1];for(let p=0;p<4&&h<u;p++){let m=Ue.decodeDigit(n,o,h,Ue.L_PATTERNS);i+=String.fromCharCode(48+m);for(let v of o)h+=v}h=Ue.findGuardPattern(n,h,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&h<u;p++){let m=Ue.decodeDigit(n,o,h,Ue.L_PATTERNS);i+=String.fromCharCode(48+m);for(let v of o)h+=v}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return le.EAN_8}}class f0 extends Ue{constructor(){super(...arguments),this.ean13Reader=new as}getBarcodeFormat(){return le.UPC_A}decode(n,s){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,s,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,s,i))}decodeMiddle(n,s,i){return this.ean13Reader.decodeMiddle(n,s,i)}maybeReturnResult(n){let s=n.getText();if(s.charAt(0)==="0"){let i=new q(s.substring(1),null,null,n.getResultPoints(),le.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new Y}reset(){this.ean13Reader.reset()}}class Ln extends Ue{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,s,i){const o=this.decodeMiddleCounters.map(m=>m);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const u=n.getSize();let h=s[1],f=0;for(let m=0;m<6&&h<u;m++){const v=Ln.decodeDigit(n,o,h,Ln.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let E of o)h+=E;v>=10&&(f|=1<<5-m)}let p=Ln.determineNumSysAndCheckDigit(i,f);return{rowOffset:h,resultString:p}}decodeEnd(n,s){return Ln.findGuardPatternWithoutCounters(n,s,!0,Ln.MIDDLE_END_PATTERN)}checkChecksum(n){return Ue.checkChecksum(Ln.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,s){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let u=String.fromCharCode(48+i),h=String.fromCharCode(48+o);return u+n+h}throw Y.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(n){const s=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),i=new he;i.append(n.charAt(0));let o=s[5];switch(o){case 0:case 1:case 2:i.appendChars(s,0,2),i.append(o),i.append("0000"),i.appendChars(s,2,3);break;case 3:i.appendChars(s,0,3),i.append("00000"),i.appendChars(s,3,2);break;case 4:i.appendChars(s,0,4),i.append("00000"),i.append(s[4]);break;default:i.appendChars(s,0,5),i.append("0000"),i.append(o);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()}}Ln.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ln.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Fo extends vt{constructor(n){super();let s=n==null?null:n.get(P.POSSIBLE_FORMATS),i=[];a(s)?(i.push(new as),i.push(new f0),i.push(new h0),i.push(new Ln)):(s.indexOf(le.EAN_13)>-1&&i.push(new as),s.indexOf(le.UPC_A)>-1&&i.push(new f0),s.indexOf(le.EAN_8)>-1&&i.push(new h0),s.indexOf(le.UPC_E)>-1&&i.push(new Ln)),this.readers=i}decodeRow(n,s,i){for(let o of this.readers)try{const u=o.decodeRow(n,s,i),h=u.getBarcodeFormat()===le.EAN_13&&u.getText().charAt(0)==="0",f=i==null?null:i.get(P.POSSIBLE_FORMATS),p=f==null||f.includes(le.UPC_A);if(h&&p){const m=u.getRawBytes(),v=new q(u.getText().substring(1),m,m?m.length:null,u.getResultPoints(),le.UPC_A);return v.putAllMetadata(u.getResultMetadata()),v}return u}catch{}throw new Y}reset(){for(let n of this.readers)n.reset()}}class Ut extends vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,s){for(let i=0;i<s.length;i++)if(vt.patternMatchVariance(n,s[i],Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return i;throw new Y}static count(n){return Le.sum(new Int32Array(n))}static increment(n,s){let i=0,o=s[0];for(let u=1;u<n.length;u++)s[u]>o&&(o=s[u],i=u);n[i]++}static decrement(n,s){let i=0,o=s[0];for(let u=1;u<n.length;u++)s[u]<o&&(o=s[u],i=u);n[i]--}static isFinderPattern(n){let s=n[0]+n[1],i=s+n[2]+n[3],o=s/i;if(o>=Ut.MIN_FINDER_PATTERN_RATIO&&o<=Ut.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of n)f>h&&(h=f),f<u&&(u=f);return h<10*u}return!1}}Ut.MAX_AVG_VARIANCE=.2,Ut.MAX_INDIVIDUAL_VARIANCE=.45,Ut.MIN_FINDER_PATTERN_RATIO=9.5/12,Ut.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rs{constructor(n,s){this.value=n,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Rs))return!1;const s=n;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ua{constructor(n,s,i,o,u){this.value=n,this.startEnd=s,this.value=n,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new ye(i,u)),this.resultPoints.push(new ye(o,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Ua))return!1;const s=n;return this.value===s.value}hashCode(){return this.value}}class Kn{constructor(){}static getRSSvalue(n,s,i){let o=0;for(let p of n)o+=p;let u=0,h=0,f=n.length;for(let p=0;p<f-1;p++){let m;for(m=1,h|=1<<p;m<n[p];m++,h&=~(1<<p)){let v=Kn.combins(o-m-1,f-p-2);if(i&&h===0&&o-m-(f-p-1)>=f-p-1&&(v-=Kn.combins(o-m-(f-p),f-p-2)),f-p-1>1){let E=0;for(let S=o-m-(f-p-2);S>s;S--)E+=Kn.combins(o-m-S-1,f-p-3);v-=E*(f-1-p)}else o-m>s&&v--;u+=v}o-=m}return u}static combins(n,s){let i,o;n-s>s?(o=s,i=n-s):(o=n-s,i=s);let u=1,h=1;for(let f=n;f>i;f--)u*=f,h<=o&&(u/=h,h++);for(;h<=o;)u/=h,h++;return u}}class Zp{static buildBitArray(n){let s=n.length*2-1;n[n.length-1].getRightChar()==null&&(s-=1);let i=12*s,o=new U(i),u=0,f=n[0].getRightChar().getValue();for(let p=11;p>=0;--p)f&1<<p&&o.set(u),u++;for(let p=1;p<n.length;++p){let m=n[p],v=m.getLeftChar().getValue();for(let E=11;E>=0;--E)v&1<<E&&o.set(u),u++;if(m.getRightChar()!=null){let E=m.getRightChar().getValue();for(let S=11;S>=0;--S)E&1<<S&&o.set(u),u++}}return o}}class ls{constructor(n,s){s?this.decodedInformation=null:(this.finished=n,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Uo{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class tn extends Uo{constructor(n,s){super(n),this.value=s}getValue(){return this.value}isFNC1(){return this.value===tn.FNC1}}tn.FNC1="$";class os extends Uo{constructor(n,s,i){super(n),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class En extends Uo{constructor(n,s,i){if(super(n),s<0||s>10||i<0||i>10)throw new z;this.firstDigit=s,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===En.FNC1}isSecondDigitFNC1(){return this.secondDigit===En.FNC1}isAnyFNC1(){return this.firstDigit===En.FNC1||this.secondDigit===En.FNC1}}En.FNC1=10;class fe{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Y;let s=n.substring(0,2);for(let u of fe.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(2,u[2],n):fe.processFixedAI(2,u[1],n);if(n.length<3)throw new Y;let i=n.substring(0,3);for(let u of fe.THREE_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(3,u[2],n):fe.processFixedAI(3,u[1],n);for(let u of fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(4,u[2],n):fe.processFixedAI(4,u[1],n);if(n.length<4)throw new Y;let o=n.substring(0,4);for(let u of fe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===fe.VARIABLE_LENGTH?fe.processVariableAI(4,u[2],n):fe.processFixedAI(4,u[1],n);throw new Y}static processFixedAI(n,s,i){if(i.length<n)throw new Y;let o=i.substring(0,n);if(i.length<n+s)throw new Y;let u=i.substring(n,n+s),h=i.substring(n+s),f="("+o+")"+u,p=fe.parseFieldsInGeneralPurpose(h);return p==null?f:f+p}static processVariableAI(n,s,i){let o=i.substring(0,n),u;i.length<n+s?u=i.length:u=n+s;let h=i.substring(n,u),f=i.substring(u),p="("+o+")"+h,m=fe.parseFieldsInGeneralPurpose(f);return m==null?p:p+m}}fe.VARIABLE_LENGTH=[],fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",fe.VARIABLE_LENGTH,20],["22",fe.VARIABLE_LENGTH,29],["30",fe.VARIABLE_LENGTH,8],["37",fe.VARIABLE_LENGTH,8],["90",fe.VARIABLE_LENGTH,30],["91",fe.VARIABLE_LENGTH,30],["92",fe.VARIABLE_LENGTH,30],["93",fe.VARIABLE_LENGTH,30],["94",fe.VARIABLE_LENGTH,30],["95",fe.VARIABLE_LENGTH,30],["96",fe.VARIABLE_LENGTH,30],["97",fe.VARIABLE_LENGTH,3],["98",fe.VARIABLE_LENGTH,30],["99",fe.VARIABLE_LENGTH,30]],fe.THREE_DIGIT_DATA_LENGTH=[["240",fe.VARIABLE_LENGTH,30],["241",fe.VARIABLE_LENGTH,30],["242",fe.VARIABLE_LENGTH,6],["250",fe.VARIABLE_LENGTH,30],["251",fe.VARIABLE_LENGTH,30],["253",fe.VARIABLE_LENGTH,17],["254",fe.VARIABLE_LENGTH,20],["400",fe.VARIABLE_LENGTH,30],["401",fe.VARIABLE_LENGTH,30],["402",17],["403",fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",fe.VARIABLE_LENGTH,20],["421",fe.VARIABLE_LENGTH,15],["422",3],["423",fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",fe.VARIABLE_LENGTH,15],["391",fe.VARIABLE_LENGTH,18],["392",fe.VARIABLE_LENGTH,15],["393",fe.VARIABLE_LENGTH,18],["703",fe.VARIABLE_LENGTH,30]],fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",fe.VARIABLE_LENGTH,20],["8003",fe.VARIABLE_LENGTH,30],["8004",fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",fe.VARIABLE_LENGTH,30],["8008",fe.VARIABLE_LENGTH,12],["8018",18],["8020",fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",fe.VARIABLE_LENGTH,70],["8200",fe.VARIABLE_LENGTH,70]];class Os{constructor(n){this.buffer=new he,this.information=n}decodeAllCodes(n,s){let i=s,o=null;do{let u=this.decodeGeneralPurposeField(i,o),h=fe.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&n.append(h),u.isRemaining()?o=""+u.getRemainingValue():o=null,i===u.getNewPosition())break;i=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let s=n;s<n+3;++s)if(this.information.get(s))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new En(this.information.getSize(),En.FNC1,En.FNC1):new En(this.information.getSize(),u-1,En.FNC1)}let s=this.extractNumericValueFromBitArray(n,7),i=(s-8)/11,o=(s-8)%11;return new En(n+7,i,o)}extractNumericValueFromBitArray(n,s){return Os.extractNumericValueFromBitArray(this.information,n,s)}static extractNumericValueFromBitArray(n,s,i){let o=0;for(let u=0;u<i;++u)n.get(s+u)&&(o|=1<<i-u-1);return o}decodeGeneralPurposeField(n,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(n);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new os(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new os(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,s;do{let i=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),n=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),n=s.isFinished()):(s=this.parseNumericBlock(),n=s.isFinished()),!(i!==this.current.getPosition())&&!n)break}while(!n);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let s;return n.isSecondDigitFNC1()?s=new os(this.current.getPosition(),this.buffer.toString()):s=new os(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ls(!0,s)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let s=new os(this.current.getPosition(),this.buffer.toString());return new ls(!0,s)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ls(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let s=new os(this.current.getPosition(),this.buffer.toString());return new ls(!0,s)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ls(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let s=new os(this.current.getPosition(),this.buffer.toString());return new ls(!0,s)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ls(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,5);if(s>=5&&s<16)return!0;if(n+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,7);if(i>=64&&i<116)return!0;if(n+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,8);return o>=232&&o<253}decodeIsoIec646(n){let s=this.extractNumericValueFromBitArray(n,5);if(s===15)return new tn(n+5,tn.FNC1);if(s>=5&&s<15)return new tn(n+5,"0"+(s-5));let i=this.extractNumericValueFromBitArray(n,7);if(i>=64&&i<90)return new tn(n+7,""+(i+1));if(i>=90&&i<116)return new tn(n+7,""+(i+7));let o=this.extractNumericValueFromBitArray(n,8),u;switch(o){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new z}return new tn(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,5);if(s>=5&&s<16)return!0;if(n+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,6);return i>=16&&i<63}decodeAlphanumeric(n){let s=this.extractNumericValueFromBitArray(n,5);if(s===15)return new tn(n+5,tn.FNC1);if(s>=5&&s<15)return new tn(n+5,"0"+(s-5));let i=this.extractNumericValueFromBitArray(n,6);if(i>=32&&i<58)return new tn(n+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Yn("Decoding invalid alphanumeric value: "+i)}return new tn(n+6,o)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let s=0;s<5&&s+n<this.information.getSize();++s)if(s===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+s))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let s=n;s<n+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let s=0;s<4&&s+n<this.information.getSize();++s)if(this.information.get(n+s))return!1;return!0}}class zo{constructor(n){this.information=n,this.generalDecoder=new Os(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nn extends zo{constructor(n){super(n)}encodeCompressedGtin(n,s){n.append("(01)");let i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,s,i)}encodeCompressedGtinWithoutAI(n,s,i){for(let o=0;o<4;++o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*o,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}nn.appendCheckDigit(n,i)}static appendCheckDigit(n,s){let i=0;for(let o=0;o<13;o++){let u=n.charAt(o+s).charCodeAt(0)-48;i+=o&1?u:3*u}i=10-i%10,i===10&&(i=0),n.append(i)}}nn.GTIN_SIZE=40;class Ds extends nn{constructor(n){super(n)}parseInformation(){let n=new he;n.append("(01)");let s=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ds.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,Ds.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(n,Ds.HEADER_SIZE+44)}}Ds.HEADER_SIZE=4;class za extends zo{constructor(n){super(n)}parseInformation(){let n=new he;return this.getGeneralDecoder().decodeAllCodes(n,za.HEADER_SIZE)}}za.HEADER_SIZE=5;class Ha extends nn{constructor(n){super(n)}encodeCompressedWeight(n,s,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,i);this.addWeightCode(n,o);let u=this.checkWeight(o),h=1e5;for(let f=0;f<5;++f)u/h===0&&n.append("0"),h/=10;n.append(u)}}class Qn extends Ha{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Qn.HEADER_SIZE+Ha.GTIN_SIZE+Qn.WEIGHT_SIZE)throw new Y;let n=new he;return this.encodeCompressedGtin(n,Qn.HEADER_SIZE),this.encodeCompressedWeight(n,Qn.HEADER_SIZE+Ha.GTIN_SIZE,Qn.WEIGHT_SIZE),n.toString()}}Qn.HEADER_SIZE=5,Qn.WEIGHT_SIZE=15;class qp extends Qn{constructor(n){super(n)}addWeightCode(n,s){n.append("(3103)")}checkWeight(n){return n}}class $p extends Qn{constructor(n){super(n)}addWeightCode(n,s){s<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Zn extends nn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Zn.HEADER_SIZE+nn.GTIN_SIZE)throw new Y;let n=new he;this.encodeCompressedGtin(n,Zn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Zn.HEADER_SIZE+nn.GTIN_SIZE,Zn.LAST_DIGIT_SIZE);n.append("(392"),n.append(s),n.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Zn.HEADER_SIZE+nn.GTIN_SIZE+Zn.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()}}Zn.HEADER_SIZE=8,Zn.LAST_DIGIT_SIZE=2;class Kt extends nn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Kt.HEADER_SIZE+nn.GTIN_SIZE)throw new Y;let n=new he;this.encodeCompressedGtin(n,Kt.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+nn.GTIN_SIZE,Kt.LAST_DIGIT_SIZE);n.append("(393"),n.append(s),n.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+nn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE,Kt.FIRST_THREE_DIGITS_SIZE);i/100==0&&n.append("0"),i/10==0&&n.append("0"),n.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE+nn.GTIN_SIZE+Kt.LAST_DIGIT_SIZE+Kt.FIRST_THREE_DIGITS_SIZE,null);return n.append(o.getNewString()),n.toString()}}Kt.HEADER_SIZE=8,Kt.LAST_DIGIT_SIZE=2,Kt.FIRST_THREE_DIGITS_SIZE=10;class rt extends Ha{constructor(n,s,i){super(n),this.dateCode=i,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new Y;let n=new he;return this.encodeCompressedGtin(n,rt.HEADER_SIZE),this.encodeCompressedWeight(n,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(n,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,s){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(s,rt.DATE_SIZE);if(i==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let o=i%32;i/=32;let u=i%12+1;i/=12;let h=i;h/10==0&&n.append("0"),n.append(h),u/10==0&&n.append("0"),n.append(u),o/10==0&&n.append("0"),n.append(o)}addWeightCode(n,s){n.append("("),n.append(this.firstAIdigits),n.append(s/1e5),n.append(")")}checkWeight(n){return n%1e5}}rt.HEADER_SIZE=8,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function x0(C){try{if(C.get(1))return new Ds(C);if(!C.get(2))return new za(C);switch(Os.extractNumericValueFromBitArray(C,1,4)){case 4:return new qp(C);case 5:return new $p(C)}switch(Os.extractNumericValueFromBitArray(C,1,5)){case 12:return new Zn(C);case 13:return new Kt(C)}switch(Os.extractNumericValueFromBitArray(C,1,7)){case 56:return new rt(C,"310","11");case 57:return new rt(C,"320","11");case 58:return new rt(C,"310","13");case 59:return new rt(C,"320","13");case 60:return new rt(C,"310","15");case 61:return new rt(C,"320","15");case 62:return new rt(C,"310","17");case 63:return new rt(C,"320","17")}}catch(n){throw console.log(n),new Yn("unknown decoder: "+C)}}class Ar{constructor(n,s,i,o){this.leftchar=n,this.rightchar=s,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,s){return n instanceof Ar?Ar.equalsOrNull(n.leftchar,s.leftchar)&&Ar.equalsOrNull(n.rightchar,s.rightchar)&&Ar.equalsOrNull(n.finderpattern,s.finderpattern):!1}static equalsOrNull(n,s){return n===null?s===null:Ar.equals(n,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ho{constructor(n,s,i){this.pairs=n,this.rowNumber=s,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,s){return n instanceof Ho?this.checkEqualitity(n,s)&&n.wasReversed===s.wasReversed:!1}checkEqualitity(n,s){if(!n||!s)return;let i;return n.forEach((o,u)=>{s.forEach(h=>{o.getLeftChar().getValue()===h.getLeftChar().getValue()&&o.getRightChar().getValue()===h.getRightChar().getValue()&&o.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(i=!0)})}),i}}class ee extends Ut{constructor(n){super(...arguments),this.pairs=new Array(ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,s,i){this.pairs.length=0,this.startFromEven=!1;try{return ee.constructResult(this.decodeRow2pairs(n,s))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,ee.constructResult(this.decodeRow2pairs(n,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,s){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,n))}catch(u){if(u instanceof Y){if(!this.pairs.length)throw new Y;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(n,!1),o){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Y}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return n&&(this.rows=this.rows.reverse()),s}checkRows(n,s){for(let i=s;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let h of n)this.pairs.push(h.getPairs());if(this.pairs.push(o.getPairs()),!ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(o);try{return this.checkRows(u,i+1)}catch(h){this.verbose&&console.log(h)}}throw new Y}static isValidSequence(n){for(let s of ee.FINDER_PATTERN_SEQUENCES){if(n.length>s.length)continue;let i=!0;for(let o=0;o<n.length;o++)if(n[o].getFinderPattern().getValue()!=s[o]){i=!1;break}if(i)return!0}return!1}storeRow(n,s){let i=0,o=!1,u=!1;for(;i<this.rows.length;){let h=this.rows[i];if(h.getRowNumber()>n){u=h.isEquivalent(this.pairs);break}o=h.isEquivalent(this.pairs),i++}u||o||ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Ho(this.pairs,n,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,s){for(let i of s)if(i.getPairs().length!==n.length){for(let o of i.getPairs())for(let u of n)if(Ar.equals(o,u))break}}static isPartialRow(n,s){for(let i of s){let o=!0;for(let u of n){let h=!1;for(let f of i.getPairs())if(u.equals(f)){h=!0;break}if(!h){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(n){let s=Zp.buildBitArray(n),o=x0(s).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),h=n[n.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],h[0],h[1]];return new q(o,null,null,f,le.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),s=n.getLeftChar(),i=n.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),u=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);o+=p.getLeftChar().getChecksumPortion(),u++;let m=p.getRightChar();m!=null&&(o+=m.getChecksumPortion(),u++)}return o%=211,211*(u-4)+o==s.getValue()}static getNextSecondBar(n,s){let i;return n.get(s)?(i=n.getNextUnset(s),i=n.getNextSet(i)):(i=n.getNextSet(s),i=n.getNextUnset(i)),i}retrieveNextPair(n,s,i){let o=s.length%2==0;this.startFromEven&&(o=!o);let u,h=!0,f=-1;do this.findNextPair(n,s,f),u=this.parseFoundFinderPattern(n,i,o),u==null?f=ee.getNextSecondBar(n,this.startEnd[0]):h=!1;while(h);let p=this.decodeDataCharacter(n,u,o,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new Y;let m;try{m=this.decodeDataCharacter(n,u,o,!1)}catch(v){m=null,this.verbose&&console.log(v)}return new Ar(p,m,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,s,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let u=n.getSize(),h;i>=0?h=i:this.isEmptyPair(s)?h=0:h=s[s.length-1].getFinderPattern().getStartEnd()[1];let f=s.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;h<u&&(p=!n.get(h),!!p);)h++;let m=0,v=h;for(let E=h;E<u;E++)if(n.get(E)!=p)o[m]++;else{if(m==3){if(f&&ee.reverseCounters(o),ee.isFinderPattern(o)){this.startEnd[0]=v,this.startEnd[1]=E;return}f&&ee.reverseCounters(o),v+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,p=!p}throw new Y}static reverseCounters(n){let s=n.length;for(let i=0;i<s/2;++i){let o=n[i];n[i]=n[s-i-1],n[s-i-1]=o}}parseFoundFinderPattern(n,s,i){let o,u,h;if(i){let m=this.startEnd[0]-1;for(;m>=0&&!n.get(m);)m--;m++,o=this.startEnd[0]-m,u=m,h=this.startEnd[1]}else u=this.startEnd[0],h=n.getNextUnset(this.startEnd[1]+1),o=h-this.startEnd[1];let f=this.getDecodeFinderCounters();O.arraycopy(f,0,f,1,f.length-1),f[0]=o;let p;try{p=this.parseFinderValue(f,ee.FINDER_PATTERNS)}catch{return null}return new Ua(p,[u,h],u,h,s)}decodeDataCharacter(n,s,i,o){let u=this.getDataCharacterCounters();for(let Qe=0;Qe<u.length;Qe++)u[Qe]=0;if(o)ee.recordPatternInReverse(n,s.getStartEnd()[0],u);else{ee.recordPattern(n,s.getStartEnd()[1],u);for(let Qe=0,Lt=u.length-1;Qe<Lt;Qe++,Lt--){let xn=u[Qe];u[Qe]=u[Lt],u[Lt]=xn}}let h=17,f=Le.sum(new Int32Array(u))/h,p=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new Y;let m=this.getOddCounts(),v=this.getEvenCounts(),E=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let Qe=0;Qe<u.length;Qe++){let Lt=1*u[Qe]/f,xn=Lt+.5;if(xn<1){if(Lt<.3)throw new Y;xn=1}else if(xn>8){if(Lt>8.7)throw new Y;xn=8}let Us=Qe/2;Qe&1?(v[Us]=xn,S[Us]=Lt-xn):(m[Us]=xn,E[Us]=Lt-xn)}this.adjustOddEvenCounts(h);let _=4*s.getValue()+(i?0:2)+(o?0:1)-1,B=0,F=0;for(let Qe=m.length-1;Qe>=0;Qe--){if(ee.isNotA1left(s,i,o)){let Lt=ee.WEIGHTS[_][2*Qe];F+=m[Qe]*Lt}B+=m[Qe]}let V=0;for(let Qe=v.length-1;Qe>=0;Qe--)if(ee.isNotA1left(s,i,o)){let Lt=ee.WEIGHTS[_][2*Qe+1];V+=v[Qe]*Lt}let Q=F+V;if(B&1||B>13||B<4)throw new Y;let se=(13-B)/2,ae=ee.SYMBOL_WIDEST[se],te=9-ae,Re=Kn.getRSSvalue(m,ae,!0),Ie=Kn.getRSSvalue(v,te,!1),sn=ee.EVEN_TOTAL_SUBSET[se],Bn=ee.GSUM[se],an=Re*sn+Ie+Bn;return new Rs(an,Q)}static isNotA1left(n,s,i){return!(n.getValue()==0&&s&&i)}adjustOddEvenCounts(n){let s=Le.sum(new Int32Array(this.getOddCounts())),i=Le.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1;s>13?u=!0:s<4&&(o=!0);let h=!1,f=!1;i>13?f=!0:i<4&&(h=!0);let p=s+i-n,m=(s&1)==1,v=(i&1)==0;if(p==1)if(m){if(v)throw new Y;u=!0}else{if(!v)throw new Y;f=!0}else if(p==-1)if(m){if(v)throw new Y;o=!0}else{if(!v)throw new Y;h=!0}else if(p==0){if(m){if(!v)throw new Y;s<i?(o=!0,f=!0):(u=!0,h=!0)}else if(v)throw new Y}else throw new Y;if(o){if(u)throw new Y;ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new Y;ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ee.SYMBOL_WIDEST=[7,5,4,3,1],ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ee.GSUM=[0,348,1388,2948,3988],ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ee.FINDER_PAT_A=0,ee.FINDER_PAT_B=1,ee.FINDER_PAT_C=2,ee.FINDER_PAT_D=3,ee.FINDER_PAT_E=4,ee.FINDER_PAT_F=5,ee.FINDER_PATTERN_SEQUENCES=[[ee.FINDER_PAT_A,ee.FINDER_PAT_A],[ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B],[ee.FINDER_PAT_A,ee.FINDER_PAT_C,ee.FINDER_PAT_B,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_C],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F]],ee.MAX_PAIRS=11;class Jp extends Rs{constructor(n,s,i){super(n,s),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dt extends Ut{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,s,i){const o=this.decodePair(s,!1,n,i);dt.addOrTally(this.possibleLeftPairs,o),s.reverse();let u=this.decodePair(s,!0,n,i);dt.addOrTally(this.possibleRightPairs,u),s.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&dt.checkChecksum(h,f))return dt.constructResult(h,f)}throw new Y}static addOrTally(n,s){if(s==null)return;let i=!1;for(let o of n)if(o.getValue()===s.getValue()){o.incrementCount(),i=!0;break}i||n.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,s){let i=4537077*n.getValue()+s.getValue(),o=new String(i).toString(),u=new he;for(let m=13-o.length;m>0;m--)u.append("0");u.append(o);let h=0;for(let m=0;m<13;m++){let v=u.charAt(m).charCodeAt(0)-48;h+=m&1?v:3*v}h=10-h%10,h===10&&(h=0),u.append(h.toString());let f=n.getFinderPattern().getResultPoints(),p=s.getFinderPattern().getResultPoints();return new q(u.toString(),null,0,[f[0],f[1],p[0],p[1]],le.RSS_14,new Date().getTime())}static checkChecksum(n,s){let i=(n.getChecksumPortion()+16*s.getChecksumPortion())%79,o=9*n.getFinderPattern().getValue()+s.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(n,s,i,o){try{let u=this.findFinderPattern(n,s),h=this.parseFoundFinderPattern(n,i,s,u),f=o==null?null:o.get(P.NEED_RESULT_POINT_CALLBACK);if(f!=null){let v=(u[0]+u[1])/2;s&&(v=n.getSize()-1-v),f.foundPossibleResultPoint(new ye(v,i))}let p=this.decodeDataCharacter(n,h,!0),m=this.decodeDataCharacter(n,h,!1);return new Jp(1597*p.getValue()+m.getValue(),p.getChecksumPortion()+4*m.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(n,s,i){let o=this.getDataCharacterCounters();for(let V=0;V<o.length;V++)o[V]=0;if(i)vt.recordPatternInReverse(n,s.getStartEnd()[0],o);else{vt.recordPattern(n,s.getStartEnd()[1]+1,o);for(let V=0,Q=o.length-1;V<Q;V++,Q--){let se=o[V];o[V]=o[Q],o[Q]=se}}let u=i?16:15,h=Le.sum(new Int32Array(o))/u,f=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let V=0;V<o.length;V++){let Q=o[V]/h,se=Math.floor(Q+.5);se<1?se=1:se>8&&(se=8);let ae=Math.floor(V/2);V&1?(p[ae]=se,v[ae]=Q-se):(f[ae]=se,m[ae]=Q-se)}this.adjustOddEvenCounts(i,u);let E=0,S=0;for(let V=f.length-1;V>=0;V--)S*=9,S+=f[V],E+=f[V];let _=0,B=0;for(let V=p.length-1;V>=0;V--)_*=9,_+=p[V],B+=p[V];let F=S+3*_;if(i){if(E&1||E>12||E<4)throw new Y;let V=(12-E)/2,Q=dt.OUTSIDE_ODD_WIDEST[V],se=9-Q,ae=Kn.getRSSvalue(f,Q,!1),te=Kn.getRSSvalue(p,se,!0),Re=dt.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ie=dt.OUTSIDE_GSUM[V];return new Rs(ae*Re+te+Ie,F)}else{if(B&1||B>10||B<4)throw new Y;let V=(10-B)/2,Q=dt.INSIDE_ODD_WIDEST[V],se=9-Q,ae=Kn.getRSSvalue(f,Q,!0),te=Kn.getRSSvalue(p,se,!1),Re=dt.INSIDE_ODD_TOTAL_SUBSET[V],Ie=dt.INSIDE_GSUM[V];return new Rs(te*Re+ae+Ie,F)}}findFinderPattern(n,s){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=n.getSize(),u=!1,h=0;for(;h<o&&(u=!n.get(h),s!==u);)h++;let f=0,p=h;for(let m=h;m<o;m++)if(n.get(m)!==u)i[f]++;else{if(f===3){if(Ut.isFinderPattern(i))return[p,m];p+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new Y}parseFoundFinderPattern(n,s,i,o){let u=n.get(o[0]),h=o[0]-1;for(;h>=0&&u!==n.get(h);)h--;h++;const f=o[0]-h,p=this.getDecodeFinderCounters(),m=new Int32Array(p.length);O.arraycopy(p,0,m,1,p.length-1),m[0]=f;const v=this.parseFinderValue(m,dt.FINDER_PATTERNS);let E=h,S=o[1];return i&&(E=n.getSize()-1-E,S=n.getSize()-1-S),new Ua(v,[h,o[1]],E,S,s)}adjustOddEvenCounts(n,s){let i=Le.sum(new Int32Array(this.getOddCounts())),o=Le.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,f=!1,p=!1;n?(i>12?h=!0:i<4&&(u=!0),o>12?p=!0:o<4&&(f=!0)):(i>11?h=!0:i<5&&(u=!0),o>10?p=!0:o<4&&(f=!0));let m=i+o-s,v=(i&1)===(n?1:0),E=(o&1)===1;if(m===1)if(v){if(E)throw new Y;h=!0}else{if(!E)throw new Y;p=!0}else if(m===-1)if(v){if(E)throw new Y;u=!0}else{if(!E)throw new Y;f=!0}else if(m===0){if(v){if(!E)throw new Y;i<o?(u=!0,p=!0):(h=!0,f=!0)}else if(E)throw new Y}else throw new Y;if(u){if(h)throw new Y;Ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new Y;Ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dt.OUTSIDE_GSUM=[0,161,961,2015,2715],dt.INSIDE_GSUM=[0,336,1036,1516],dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dt.INSIDE_ODD_WIDEST=[2,4,6,8],dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ls extends vt{constructor(n,s){super(),this.readers=[],this.verbose=s===!0;const i=n?n.get(P.POSSIBLE_FORMATS):null,o=n&&n.get(P.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(le.EAN_13)||i.includes(le.UPC_A)||i.includes(le.EAN_8)||i.includes(le.UPC_E))&&this.readers.push(new Fo(n)),i.includes(le.CODE_39)&&this.readers.push(new Ct(o)),i.includes(le.CODE_128)&&this.readers.push(new oe),i.includes(le.ITF)&&this.readers.push(new Ye),i.includes(le.RSS_14)&&this.readers.push(new dt),i.includes(le.RSS_EXPANDED)&&this.readers.push(new ee(this.verbose))):(this.readers.push(new Fo(n)),this.readers.push(new Ct),this.readers.push(new Fo(n)),this.readers.push(new oe),this.readers.push(new Ye),this.readers.push(new dt),this.readers.push(new ee(this.verbose)))}decodeRow(n,s,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(n,s,i)}catch{}throw new Y}reset(){this.readers.forEach(n=>n.reset())}}class eg extends X{constructor(n=500,s){super(new Ls(s),n,s)}}class He{constructor(n,s,i){this.ecCodewords=n,this.ecBlocks=[s],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ze{constructor(n,s){this.count=n,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(n,s,i,o,u,h){this.versionNumber=n,this.symbolSizeRows=s,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=u,this.ecBlocks=h;let f=0;const p=h.getECCodewords(),m=h.getECBlocks();for(let v of m)f+=v.getCount()*(v.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,s){if(n&1||s&1)throw new z;for(let i of De.VERSIONS)if(i.symbolSizeRows===n&&i.symbolSizeColumns===s)return i;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new De(1,10,10,8,8,new He(5,new ze(1,3))),new De(2,12,12,10,10,new He(7,new ze(1,5))),new De(3,14,14,12,12,new He(10,new ze(1,8))),new De(4,16,16,14,14,new He(12,new ze(1,12))),new De(5,18,18,16,16,new He(14,new ze(1,18))),new De(6,20,20,18,18,new He(18,new ze(1,22))),new De(7,22,22,20,20,new He(20,new ze(1,30))),new De(8,24,24,22,22,new He(24,new ze(1,36))),new De(9,26,26,24,24,new He(28,new ze(1,44))),new De(10,32,32,14,14,new He(36,new ze(1,62))),new De(11,36,36,16,16,new He(42,new ze(1,86))),new De(12,40,40,18,18,new He(48,new ze(1,114))),new De(13,44,44,20,20,new He(56,new ze(1,144))),new De(14,48,48,22,22,new He(68,new ze(1,174))),new De(15,52,52,24,24,new He(42,new ze(2,102))),new De(16,64,64,14,14,new He(56,new ze(2,140))),new De(17,72,72,16,16,new He(36,new ze(4,92))),new De(18,80,80,18,18,new He(48,new ze(4,114))),new De(19,88,88,20,20,new He(56,new ze(4,144))),new De(20,96,96,22,22,new He(68,new ze(4,174))),new De(21,104,104,24,24,new He(56,new ze(6,136))),new De(22,120,120,18,18,new He(68,new ze(6,175))),new De(23,132,132,20,20,new He(62,new ze(8,163))),new De(24,144,144,22,22,new He(62,new ze(8,156),new ze(2,155))),new De(25,8,18,6,16,new He(7,new ze(1,5))),new De(26,8,32,6,14,new He(11,new ze(1,10))),new De(27,12,26,10,24,new He(14,new ze(1,16))),new De(28,12,36,10,16,new He(18,new ze(1,22))),new De(29,16,36,14,16,new He(24,new ze(1,32))),new De(30,16,48,14,22,new He(28,new ze(1,49)))]}}De.VERSIONS=De.buildVersions();class Vo{constructor(n){const s=n.getHeight();if(s<8||s>144||s&1)throw new z;this.version=Vo.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const s=n.getHeight(),i=n.getWidth();return De.getVersionForDimensions(s,i)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let s=0,i=4,o=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,p=!1,m=!1,v=!1;do if(i===u&&o===0&&!f)n[s++]=this.readCorner1(u,h)&255,i-=2,o+=2,f=!0;else if(i===u-2&&o===0&&h&3&&!p)n[s++]=this.readCorner2(u,h)&255,i-=2,o+=2,p=!0;else if(i===u+4&&o===2&&!(h&7)&&!m)n[s++]=this.readCorner3(u,h)&255,i-=2,o+=2,m=!0;else if(i===u-2&&o===0&&(h&7)===4&&!v)n[s++]=this.readCorner4(u,h)&255,i-=2,o+=2,v=!0;else{do i<u&&o>=0&&!this.readMappingMatrix.get(o,i)&&(n[s++]=this.readUtah(i,o,u,h)&255),i-=2,o+=2;while(i>=0&&o<h);i+=1,o+=3;do i>=0&&o<h&&!this.readMappingMatrix.get(o,i)&&(n[s++]=this.readUtah(i,o,u,h)&255),i+=2,o-=2;while(i<u&&o>=0);i+=3,o+=1}while(i<u||o<h);if(s!==this.version.getTotalCodewords())throw new z;return n}readModule(n,s,i,o){return n<0&&(n+=i,s+=4-(i+4&7)),s<0&&(s+=o,n+=4-(o+4&7)),this.readMappingMatrix.set(s,n),this.mappingBitMatrix.get(s,n)}readUtah(n,s,i,o){let u=0;return this.readModule(n-2,s-2,i,o)&&(u|=1),u<<=1,this.readModule(n-2,s-1,i,o)&&(u|=1),u<<=1,this.readModule(n-1,s-2,i,o)&&(u|=1),u<<=1,this.readModule(n-1,s-1,i,o)&&(u|=1),u<<=1,this.readModule(n-1,s,i,o)&&(u|=1),u<<=1,this.readModule(n,s-2,i,o)&&(u|=1),u<<=1,this.readModule(n,s-1,i,o)&&(u|=1),u<<=1,this.readModule(n,s,i,o)&&(u|=1),u}readCorner1(n,s){let i=0;return this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,1,n,s)&&(i|=1),i<<=1,this.readModule(n-1,2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i<<=1,this.readModule(2,s-1,n,s)&&(i|=1),i<<=1,this.readModule(3,s-1,n,s)&&(i|=1),i}readCorner2(n,s){let i=0;return this.readModule(n-3,0,n,s)&&(i|=1),i<<=1,this.readModule(n-2,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(0,s-4,n,s)&&(i|=1),i<<=1,this.readModule(0,s-3,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i}readCorner3(n,s){let i=0;return this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,s-1,n,s)&&(i|=1),i<<=1,this.readModule(0,s-3,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-3,n,s)&&(i|=1),i<<=1,this.readModule(1,s-2,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i}readCorner4(n,s){let i=0;return this.readModule(n-3,0,n,s)&&(i|=1),i<<=1,this.readModule(n-2,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i<<=1,this.readModule(2,s-1,n,s)&&(i|=1),i<<=1,this.readModule(3,s-1,n,s)&&(i|=1),i}extractDataRegion(n){const s=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(n.getHeight()!==s)throw new N("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=s/o|0,f=i/u|0,p=h*o,m=f*u,v=new ie(m,p);for(let E=0;E<h;++E){const S=E*o;for(let _=0;_<f;++_){const B=_*u;for(let F=0;F<o;++F){const V=E*(o+2)+1+F,Q=S+F;for(let se=0;se<u;++se){const ae=_*(u+2)+1+se;if(n.get(ae,V)){const te=B+se;v.set(te,Q)}}}}}return v}}class Wo{constructor(n,s){this.numDataCodewords=n,this.codewords=s}static getDataBlocks(n,s){const i=s.getECBlocks();let o=0;const u=i.getECBlocks();for(let F of u)o+=F.getCount();const h=new Array(o);let f=0;for(let F of u)for(let V=0;V<F.getCount();V++){const Q=F.getDataCodewords(),se=i.getECCodewords()+Q;h[f++]=new Wo(Q,new Uint8Array(se))}const m=h[0].codewords.length-i.getECCodewords(),v=m-1;let E=0;for(let F=0;F<v;F++)for(let V=0;V<f;V++)h[V].codewords[F]=n[E++];const S=s.getVersionNumber()===24,_=S?8:f;for(let F=0;F<_;F++)h[F].codewords[m-1]=n[E++];const B=h[0].codewords.length;for(let F=m;F<B;F++)for(let V=0;V<f;V++){const Q=S?(V+8)%f:V,se=S&&Q>7?F-1:F;h[Q].codewords[se]=n[E++]}if(E!==n.length)throw new N;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Go{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new N(""+n);let s=0,i=this.bitOffset,o=this.byteOffset;const u=this.bytes;if(i>0){const h=8-i,f=n<h?n:h,p=h-f,m=255>>8-f<<p;s=(u[o]&m)>>p,n-=f,i+=f,i===8&&(i=0,o++)}if(n>0){for(;n>=8;)s=s<<8|u[o]&255,o++,n-=8;if(n>0){const h=8-n,f=255>>h<<h;s=s<<n|(u[o]&f)>>h,i+=n}}return this.bitOffset=i,this.byteOffset=o,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class Tr{static decode(n){const s=new Go(n),i=new he,o=new he,u=new Array;let h=Et.ASCII_ENCODE;do if(h===Et.ASCII_ENCODE)h=this.decodeAsciiSegment(s,i,o);else{switch(h){case Et.C40_ENCODE:this.decodeC40Segment(s,i);break;case Et.TEXT_ENCODE:this.decodeTextSegment(s,i);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,i);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(s,i);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(s,i,u);break;default:throw new z}h=Et.ASCII_ENCODE}while(h!==Et.PAD_ENCODE&&s.available()>0);return o.length()>0&&i.append(o.toString()),new Mt(n,i.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,s,i){let o=!1;do{let u=n.readBits(8);if(u===0)throw new z;if(u<=128)return o&&(u+=128),s.append(String.fromCharCode(u-1)),Et.ASCII_ENCODE;if(u===129)return Et.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&s.append("0"),s.append(""+h)}else switch(u){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:s.append("[)>05"),i.insert(0,"");break;case 237:s.append("[)>06"),i.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new z;break}}while(n.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(n,s){let i=!1;const o=[];let u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),o);for(let f=0;f<3;f++){const p=o[f];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[p];i?(s.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):s.append(m)}else throw new z;break;case 1:i?(s.append(String.fromCharCode(p+128)),i=!1):s.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[p];i?(s.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):s.append(m)}else switch(p){case 27:s.append("");break;case 30:i=!0;break;default:throw new z}u=0;break;case 3:i?(s.append(String.fromCharCode(p+224)),i=!1):s.append(String.fromCharCode(p+96)),u=0;break;default:throw new z}}}while(n.available()>0)}static decodeTextSegment(n,s){let i=!1,o=[],u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),o);for(let f=0;f<3;f++){const p=o[f];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[p];i?(s.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):s.append(m)}else throw new z;break;case 1:i?(s.append(String.fromCharCode(p+128)),i=!1):s.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[p];i?(s.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):s.append(m)}else switch(p){case 27:s.append("");break;case 30:i=!0;break;default:throw new z}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[p];i?(s.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):s.append(m),u=0}else throw new z;break;default:throw new z}}}while(n.available()>0)}static decodeAnsiX12Segment(n,s){const i=[];do{if(n.available()===8)return;const o=n.readBits(8);if(o===254)return;this.parseTwoBytes(o,n.readBits(8),i);for(let u=0;u<3;u++){const h=i[u];switch(h){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(h<14)s.append(String.fromCharCode(h+44));else if(h<40)s.append(String.fromCharCode(h+51));else throw new z;break}}}while(n.available()>0)}static parseTwoBytes(n,s,i){let o=(n<<8)+s-1,u=Math.floor(o/1600);i[0]=u,o-=u*1600,u=Math.floor(o/40),i[1]=u,i[2]=o-u*40}static decodeEdifactSegment(n,s){do{if(n.available()<=16)return;for(let i=0;i<4;i++){let o=n.readBits(6);if(o===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}o&32||(o|=64),s.append(String.fromCharCode(o))}}while(n.available()>0)}static decodeBase256Segment(n,s,i){let o=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),o++);let h;if(u===0?h=n.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(n.readBits(8),o++),h<0)throw new z;const f=new Uint8Array(h);for(let p=0;p<h;p++){if(n.available()<8)throw new z;f[p]=this.unrandomize255State(n.readBits(8),o++)}i.push(f);try{s.append(ce.decode(f,de.ISO88591))}catch(p){throw new Yn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(n,s){const i=149*s%255+1,o=n-i;return o>=0?o:o+256}}Tr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Tr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Tr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Tr.TEXT_SHIFT2_SET_CHARS=Tr.C40_SHIFT2_SET_CHARS,Tr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class tg{constructor(){this.rsDecoder=new Ei(Fe.DATA_MATRIX_FIELD_256)}decode(n){const s=new Vo(n),i=s.getVersion(),o=s.readCodewords(),u=Wo.getDataBlocks(o,i);let h=0;for(let m of u)h+=m.getNumDataCodewords();const f=new Uint8Array(h),p=u.length;for(let m=0;m<p;m++){const v=u[m],E=v.getCodewords(),S=v.getNumDataCodewords();this.correctErrors(E,S);for(let _=0;_<S;_++)f[_*p+m]=E[_]}return Tr.decode(f)}correctErrors(n,s){const i=new Int32Array(n);try{this.rsDecoder.decode(i,n.length-s)}catch{throw new D}for(let o=0;o<s;o++)n[o]=i[o]}}class mt{constructor(n){this.image=n,this.rectangleDetector=new lr(this.image)}detect(){const n=this.rectangleDetector.detect();let s=this.detectSolid1(n);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new Y;s=this.shiftToModuleCenter(s);const i=s[0],o=s[1],u=s[2],h=s[3];let f=this.transitionsBetween(i,h)+1,p=this.transitionsBetween(u,h)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let m=mt.sampleGrid(this.image,i,o,u,h,f,p);return new Pa(m,[i,o,u,h])}static shiftPoint(n,s,i){let o=(s.getX()-n.getX())/(i+1),u=(s.getY()-n.getY())/(i+1);return new ye(n.getX()+o,n.getY()+u)}static moveAway(n,s,i){let o=n.getX(),u=n.getY();return o<s?o-=1:o+=1,u<i?u-=1:u+=1,new ye(o,u)}detectSolid1(n){let s=n[0],i=n[1],o=n[3],u=n[2],h=this.transitionsBetween(s,i),f=this.transitionsBetween(i,o),p=this.transitionsBetween(o,u),m=this.transitionsBetween(u,s),v=h,E=[u,s,i,o];return v>f&&(v=f,E[0]=s,E[1]=i,E[2]=o,E[3]=u),v>p&&(v=p,E[0]=i,E[1]=o,E[2]=u,E[3]=s),v>m&&(E[0]=o,E[1]=u,E[2]=s,E[3]=i),E}detectSolid2(n){let s=n[0],i=n[1],o=n[2],u=n[3],h=this.transitionsBetween(s,u),f=mt.shiftPoint(i,o,(h+1)*4),p=mt.shiftPoint(o,i,(h+1)*4),m=this.transitionsBetween(f,s),v=this.transitionsBetween(p,u);return m<v?(n[0]=s,n[1]=i,n[2]=o,n[3]=u):(n[0]=i,n[1]=o,n[2]=u,n[3]=s),n}correctTopRight(n){let s=n[0],i=n[1],o=n[2],u=n[3],h=this.transitionsBetween(s,u),f=this.transitionsBetween(i,u),p=mt.shiftPoint(s,i,(f+1)*4),m=mt.shiftPoint(o,i,(h+1)*4);h=this.transitionsBetween(p,u),f=this.transitionsBetween(m,u);let v=new ye(u.getX()+(o.getX()-i.getX())/(h+1),u.getY()+(o.getY()-i.getY())/(h+1)),E=new ye(u.getX()+(s.getX()-i.getX())/(f+1),u.getY()+(s.getY()-i.getY())/(f+1));if(!this.isValid(v))return this.isValid(E)?E:null;if(!this.isValid(E))return v;let S=this.transitionsBetween(p,v)+this.transitionsBetween(m,v),_=this.transitionsBetween(p,E)+this.transitionsBetween(m,E);return S>_?v:E}shiftToModuleCenter(n){let s=n[0],i=n[1],o=n[2],u=n[3],h=this.transitionsBetween(s,u)+1,f=this.transitionsBetween(o,u)+1,p=mt.shiftPoint(s,i,f*4),m=mt.shiftPoint(o,i,h*4);h=this.transitionsBetween(p,u)+1,f=this.transitionsBetween(m,u)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let v=(s.getX()+i.getX()+o.getX()+u.getX())/4,E=(s.getY()+i.getY()+o.getY()+u.getY())/4;s=mt.moveAway(s,v,E),i=mt.moveAway(i,v,E),o=mt.moveAway(o,v,E),u=mt.moveAway(u,v,E);let S,_;return p=mt.shiftPoint(s,i,f*4),p=mt.shiftPoint(p,u,h*4),S=mt.shiftPoint(i,s,f*4),S=mt.shiftPoint(S,o,h*4),m=mt.shiftPoint(o,u,f*4),m=mt.shiftPoint(m,i,h*4),_=mt.shiftPoint(u,o,f*4),_=mt.shiftPoint(_,s,h*4),[p,S,m,_]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,s,i,o,u,h,f){return Sr.getInstance().sampleGrid(n,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,s.getX(),s.getY(),u.getX(),u.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(n,s){let i=Math.trunc(n.getX()),o=Math.trunc(n.getY()),u=Math.trunc(s.getX()),h=Math.trunc(s.getY()),f=Math.abs(h-o)>Math.abs(u-i);if(f){let F=i;i=o,o=F,F=u,u=h,h=F}let p=Math.abs(u-i),m=Math.abs(h-o),v=-p/2,E=o<h?1:-1,S=i<u?1:-1,_=0,B=this.image.get(f?o:i,f?i:o);for(let F=i,V=o;F!==u;F+=S){let Q=this.image.get(f?V:F,f?F:V);if(Q!==B&&(_++,B=Q),v+=m,v>0){if(V===h)break;V+=E,v-=p}}return _}}class Ir{constructor(){this.decoder=new tg}decode(n,s=null){let i,o;if(s!=null&&s.has(P.PURE_BARCODE)){const m=Ir.extractPureBits(n.getBlackMatrix());i=this.decoder.decode(m),o=Ir.NO_POINTS}else{const m=new mt(n.getBlackMatrix()).detect();i=this.decoder.decode(m.getBits()),o=m.getPoints()}const u=i.getRawBytes(),h=new q(i.getText(),u,8*u.length,o,le.DATA_MATRIX,O.currentTimeMillis()),f=i.getByteSegments();f!=null&&h.putMetadata(Ze.BYTE_SEGMENTS,f);const p=i.getECLevel();return p!=null&&h.putMetadata(Ze.ERROR_CORRECTION_LEVEL,p),h}reset(){}static extractPureBits(n){const s=n.getTopLeftOnBit(),i=n.getBottomRightOnBit();if(s==null||i==null)throw new Y;const o=this.moduleSize(s,n);let u=s[1];const h=i[1];let f=s[0];const m=(i[0]-f+1)/o,v=(h-u+1)/o;if(m<=0||v<=0)throw new Y;const E=o/2;u+=E,f+=E;const S=new ie(m,v);for(let _=0;_<v;_++){const B=u+_*o;for(let F=0;F<m;F++)n.get(f+F*o,B)&&S.set(F,_)}return S}static moduleSize(n,s){const i=s.getWidth();let o=n[0];const u=n[1];for(;o<i&&s.get(o,u);)o++;if(o===i)throw new Y;const h=o-n[0];if(h===0)throw new Y;return h}}Ir.NO_POINTS=[];class ng extends X{constructor(n=500){super(new Ir,n)}}var Bs;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(Bs||(Bs={}));class $e{constructor(n,s,i){this.value=n,this.stringValue=s,this.bits=i,$e.FOR_BITS.set(i,this),$e.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return $e.L;case"M":return $e.M;case"Q":return $e.Q;case"H":return $e.H;default:throw new b(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof $e))return!1;const s=n;return this.value===s.value}static forBits(n){if(n<0||n>=$e.FOR_BITS.size)throw new N;return $e.FOR_BITS.get(n)}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.L=new $e(Bs.L,"L",1),$e.M=new $e(Bs.M,"M",0),$e.Q=new $e(Bs.Q,"Q",3),$e.H=new $e(Bs.H,"H",2);class zt{constructor(n){this.errorCorrectionLevel=$e.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,s){return T.bitCount(n^s)}static decodeFormatInformation(n,s){const i=zt.doDecodeFormatInformation(n,s);return i!==null?i:zt.doDecodeFormatInformation(n^zt.FORMAT_INFO_MASK_QR,s^zt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,s){let i=Number.MAX_SAFE_INTEGER,o=0;for(const u of zt.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===n||h===s)return new zt(u[1]);let f=zt.numBitsDiffering(n,h);f<i&&(o=u[1],i=f),n!==s&&(f=zt.numBitsDiffering(s,h),f<i&&(o=u[1],i=f))}return i<=3?new zt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof zt))return!1;const s=n;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}zt.FORMAT_INFO_MASK_QR=21522,zt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(n,...s){this.ecCodewordsPerBlock=n,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const s=this.ecBlocks;for(const i of s)n+=i.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(n,s){this.count=n,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class be{constructor(n,s,...i){this.versionNumber=n,this.alignmentPatternCenters=s,this.ecBlocks=i;let o=0;const u=i[0].getECCodewordsPerBlock(),h=i[0].getECBlocks();for(const f of h)o+=f.getCount()*(f.getDataCodewords()+u);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new z;try{return this.getVersionForNumber((n-17)/4)}catch{throw new z}}static getVersionForNumber(n){if(n<1||n>40)throw new N;return be.VERSIONS[n-1]}static decodeVersionInformation(n){let s=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<be.VERSION_DECODE_INFO.length;o++){const u=be.VERSION_DECODE_INFO[o];if(u===n)return be.getVersionForNumber(o+7);const h=zt.numBitsDiffering(n,u);h<s&&(i=o+7,s=h)}return s<=3?be.getVersionForNumber(i):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),s=new ie(n);s.setRegion(0,0,9,9),s.setRegion(n-8,0,8,9),s.setRegion(0,n-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const u=this.alignmentPatternCenters[o]-2;for(let h=0;h<i;h++)o===0&&(h===0||h===i-1)||o===i-1&&h===0||s.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return s.setRegion(6,9,1,n-17),s.setRegion(9,6,n-17,1),this.versionNumber>6&&(s.setRegion(n-11,0,3,6),s.setRegion(0,n-11,6,3)),s}toString(){return""+this.versionNumber}}be.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),be.VERSIONS=[new be(1,new Int32Array(0),new W(7,new k(1,19)),new W(10,new k(1,16)),new W(13,new k(1,13)),new W(17,new k(1,9))),new be(2,Int32Array.from([6,18]),new W(10,new k(1,34)),new W(16,new k(1,28)),new W(22,new k(1,22)),new W(28,new k(1,16))),new be(3,Int32Array.from([6,22]),new W(15,new k(1,55)),new W(26,new k(1,44)),new W(18,new k(2,17)),new W(22,new k(2,13))),new be(4,Int32Array.from([6,26]),new W(20,new k(1,80)),new W(18,new k(2,32)),new W(26,new k(2,24)),new W(16,new k(4,9))),new be(5,Int32Array.from([6,30]),new W(26,new k(1,108)),new W(24,new k(2,43)),new W(18,new k(2,15),new k(2,16)),new W(22,new k(2,11),new k(2,12))),new be(6,Int32Array.from([6,34]),new W(18,new k(2,68)),new W(16,new k(4,27)),new W(24,new k(4,19)),new W(28,new k(4,15))),new be(7,Int32Array.from([6,22,38]),new W(20,new k(2,78)),new W(18,new k(4,31)),new W(18,new k(2,14),new k(4,15)),new W(26,new k(4,13),new k(1,14))),new be(8,Int32Array.from([6,24,42]),new W(24,new k(2,97)),new W(22,new k(2,38),new k(2,39)),new W(22,new k(4,18),new k(2,19)),new W(26,new k(4,14),new k(2,15))),new be(9,Int32Array.from([6,26,46]),new W(30,new k(2,116)),new W(22,new k(3,36),new k(2,37)),new W(20,new k(4,16),new k(4,17)),new W(24,new k(4,12),new k(4,13))),new be(10,Int32Array.from([6,28,50]),new W(18,new k(2,68),new k(2,69)),new W(26,new k(4,43),new k(1,44)),new W(24,new k(6,19),new k(2,20)),new W(28,new k(6,15),new k(2,16))),new be(11,Int32Array.from([6,30,54]),new W(20,new k(4,81)),new W(30,new k(1,50),new k(4,51)),new W(28,new k(4,22),new k(4,23)),new W(24,new k(3,12),new k(8,13))),new be(12,Int32Array.from([6,32,58]),new W(24,new k(2,92),new k(2,93)),new W(22,new k(6,36),new k(2,37)),new W(26,new k(4,20),new k(6,21)),new W(28,new k(7,14),new k(4,15))),new be(13,Int32Array.from([6,34,62]),new W(26,new k(4,107)),new W(22,new k(8,37),new k(1,38)),new W(24,new k(8,20),new k(4,21)),new W(22,new k(12,11),new k(4,12))),new be(14,Int32Array.from([6,26,46,66]),new W(30,new k(3,115),new k(1,116)),new W(24,new k(4,40),new k(5,41)),new W(20,new k(11,16),new k(5,17)),new W(24,new k(11,12),new k(5,13))),new be(15,Int32Array.from([6,26,48,70]),new W(22,new k(5,87),new k(1,88)),new W(24,new k(5,41),new k(5,42)),new W(30,new k(5,24),new k(7,25)),new W(24,new k(11,12),new k(7,13))),new be(16,Int32Array.from([6,26,50,74]),new W(24,new k(5,98),new k(1,99)),new W(28,new k(7,45),new k(3,46)),new W(24,new k(15,19),new k(2,20)),new W(30,new k(3,15),new k(13,16))),new be(17,Int32Array.from([6,30,54,78]),new W(28,new k(1,107),new k(5,108)),new W(28,new k(10,46),new k(1,47)),new W(28,new k(1,22),new k(15,23)),new W(28,new k(2,14),new k(17,15))),new be(18,Int32Array.from([6,30,56,82]),new W(30,new k(5,120),new k(1,121)),new W(26,new k(9,43),new k(4,44)),new W(28,new k(17,22),new k(1,23)),new W(28,new k(2,14),new k(19,15))),new be(19,Int32Array.from([6,30,58,86]),new W(28,new k(3,113),new k(4,114)),new W(26,new k(3,44),new k(11,45)),new W(26,new k(17,21),new k(4,22)),new W(26,new k(9,13),new k(16,14))),new be(20,Int32Array.from([6,34,62,90]),new W(28,new k(3,107),new k(5,108)),new W(26,new k(3,41),new k(13,42)),new W(30,new k(15,24),new k(5,25)),new W(28,new k(15,15),new k(10,16))),new be(21,Int32Array.from([6,28,50,72,94]),new W(28,new k(4,116),new k(4,117)),new W(26,new k(17,42)),new W(28,new k(17,22),new k(6,23)),new W(30,new k(19,16),new k(6,17))),new be(22,Int32Array.from([6,26,50,74,98]),new W(28,new k(2,111),new k(7,112)),new W(28,new k(17,46)),new W(30,new k(7,24),new k(16,25)),new W(24,new k(34,13))),new be(23,Int32Array.from([6,30,54,78,102]),new W(30,new k(4,121),new k(5,122)),new W(28,new k(4,47),new k(14,48)),new W(30,new k(11,24),new k(14,25)),new W(30,new k(16,15),new k(14,16))),new be(24,Int32Array.from([6,28,54,80,106]),new W(30,new k(6,117),new k(4,118)),new W(28,new k(6,45),new k(14,46)),new W(30,new k(11,24),new k(16,25)),new W(30,new k(30,16),new k(2,17))),new be(25,Int32Array.from([6,32,58,84,110]),new W(26,new k(8,106),new k(4,107)),new W(28,new k(8,47),new k(13,48)),new W(30,new k(7,24),new k(22,25)),new W(30,new k(22,15),new k(13,16))),new be(26,Int32Array.from([6,30,58,86,114]),new W(28,new k(10,114),new k(2,115)),new W(28,new k(19,46),new k(4,47)),new W(28,new k(28,22),new k(6,23)),new W(30,new k(33,16),new k(4,17))),new be(27,Int32Array.from([6,34,62,90,118]),new W(30,new k(8,122),new k(4,123)),new W(28,new k(22,45),new k(3,46)),new W(30,new k(8,23),new k(26,24)),new W(30,new k(12,15),new k(28,16))),new be(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new k(3,117),new k(10,118)),new W(28,new k(3,45),new k(23,46)),new W(30,new k(4,24),new k(31,25)),new W(30,new k(11,15),new k(31,16))),new be(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new k(7,116),new k(7,117)),new W(28,new k(21,45),new k(7,46)),new W(30,new k(1,23),new k(37,24)),new W(30,new k(19,15),new k(26,16))),new be(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new k(5,115),new k(10,116)),new W(28,new k(19,47),new k(10,48)),new W(30,new k(15,24),new k(25,25)),new W(30,new k(23,15),new k(25,16))),new be(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new k(13,115),new k(3,116)),new W(28,new k(2,46),new k(29,47)),new W(30,new k(42,24),new k(1,25)),new W(30,new k(23,15),new k(28,16))),new be(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new k(17,115)),new W(28,new k(10,46),new k(23,47)),new W(30,new k(10,24),new k(35,25)),new W(30,new k(19,15),new k(35,16))),new be(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new k(17,115),new k(1,116)),new W(28,new k(14,46),new k(21,47)),new W(30,new k(29,24),new k(19,25)),new W(30,new k(11,15),new k(46,16))),new be(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new k(13,115),new k(6,116)),new W(28,new k(14,46),new k(23,47)),new W(30,new k(44,24),new k(7,25)),new W(30,new k(59,16),new k(1,17))),new be(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new k(12,121),new k(7,122)),new W(28,new k(12,47),new k(26,48)),new W(30,new k(39,24),new k(14,25)),new W(30,new k(22,15),new k(41,16))),new be(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new k(6,121),new k(14,122)),new W(28,new k(6,47),new k(34,48)),new W(30,new k(46,24),new k(10,25)),new W(30,new k(2,15),new k(64,16))),new be(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new k(17,122),new k(4,123)),new W(28,new k(29,46),new k(14,47)),new W(30,new k(49,24),new k(10,25)),new W(30,new k(24,15),new k(46,16))),new be(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new k(4,122),new k(18,123)),new W(28,new k(13,46),new k(32,47)),new W(30,new k(48,24),new k(14,25)),new W(30,new k(42,15),new k(32,16))),new be(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new k(20,117),new k(4,118)),new W(28,new k(40,47),new k(7,48)),new W(30,new k(43,24),new k(22,25)),new W(30,new k(10,15),new k(67,16))),new be(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new k(19,118),new k(6,119)),new W(28,new k(18,47),new k(31,48)),new W(30,new k(34,24),new k(34,25)),new W(30,new k(20,15),new k(61,16)))];var It;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class Sn{constructor(n,s){this.value=n,this.isMasked=s}unmaskBitMatrix(n,s){for(let i=0;i<s;i++)for(let o=0;o<s;o++)this.isMasked(i,o)&&n.flip(o,i)}}Sn.values=new Map([[It.DATA_MASK_000,new Sn(It.DATA_MASK_000,(C,n)=>(C+n&1)===0)],[It.DATA_MASK_001,new Sn(It.DATA_MASK_001,(C,n)=>(C&1)===0)],[It.DATA_MASK_010,new Sn(It.DATA_MASK_010,(C,n)=>n%3===0)],[It.DATA_MASK_011,new Sn(It.DATA_MASK_011,(C,n)=>(C+n)%3===0)],[It.DATA_MASK_100,new Sn(It.DATA_MASK_100,(C,n)=>(Math.floor(C/2)+Math.floor(n/3)&1)===0)],[It.DATA_MASK_101,new Sn(It.DATA_MASK_101,(C,n)=>C*n%6===0)],[It.DATA_MASK_110,new Sn(It.DATA_MASK_110,(C,n)=>C*n%6<3)],[It.DATA_MASK_111,new Sn(It.DATA_MASK_111,(C,n)=>(C+n+C*n%3&1)===0)]]);class rg{constructor(n){const s=n.getHeight();if(s<21||(s&3)!==1)throw new z;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const s=this.bitMatrix.getHeight();let i=0;const o=s-7;for(let u=s-1;u>=o;u--)i=this.copyBit(8,u,i);for(let u=s-8;u<s;u++)i=this.copyBit(u,8,i);if(this.parsedFormatInfo=zt.decodeFormatInformation(n,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),s=Math.floor((n-17)/4);if(s<=6)return be.getVersionForNumber(s);let i=0;const o=n-11;for(let h=5;h>=0;h--)for(let f=n-9;f>=o;f--)i=this.copyBit(f,h,i);let u=be.decodeVersionInformation(i);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;i=0;for(let h=5;h>=0;h--)for(let f=n-9;f>=o;f--)i=this.copyBit(h,f,i);if(u=be.decodeVersionInformation(i),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new z}copyBit(n,s,i){return(this.isMirror?this.bitMatrix.get(s,n):this.bitMatrix.get(n,s))?i<<1|1:i<<1}readCodewords(){const n=this.readFormatInformation(),s=this.readVersion(),i=Sn.values.get(n.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const u=s.buildFunctionPattern();let h=!0;const f=new Uint8Array(s.getTotalCodewords());let p=0,m=0,v=0;for(let E=o-1;E>0;E-=2){E===6&&E--;for(let S=0;S<o;S++){const _=h?o-1-S:S;for(let B=0;B<2;B++)u.get(E-B,_)||(v++,m<<=1,this.bitMatrix.get(E-B,_)&&(m|=1),v===8&&(f[p++]=m,v=0,m=0))}h=!h}if(p!==s.getTotalCodewords())throw new z;return f}remask(){if(this.parsedFormatInfo===null)return;const n=Sn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,s)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let s=0,i=n.getWidth();s<i;s++)for(let o=s+1,u=n.getHeight();o<u;o++)n.get(s,o)!==n.get(o,s)&&(n.flip(o,s),n.flip(s,o))}}class Xo{constructor(n,s){this.numDataCodewords=n,this.codewords=s}static getDataBlocks(n,s,i){if(n.length!==s.getTotalCodewords())throw new N;const o=s.getECBlocksForLevel(i);let u=0;const h=o.getECBlocks();for(const B of h)u+=B.getCount();const f=new Array(u);let p=0;for(const B of h)for(let F=0;F<B.getCount();F++){const V=B.getDataCodewords(),Q=o.getECCodewordsPerBlock()+V;f[p++]=new Xo(V,new Uint8Array(Q))}const m=f[0].codewords.length;let v=f.length-1;for(;v>=0&&f[v].codewords.length!==m;)v--;v++;const E=m-o.getECCodewordsPerBlock();let S=0;for(let B=0;B<E;B++)for(let F=0;F<p;F++)f[F].codewords[B]=n[S++];for(let B=v;B<p;B++)f[B].codewords[E]=n[S++];const _=f[0].codewords.length;for(let B=E;B<_;B++)for(let F=0;F<p;F++){const V=F<v?B:B+1;f[F].codewords[V]=n[S++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var An;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(An||(An={}));class Ne{constructor(n,s,i,o){this.value=n,this.stringValue=s,this.characterCountBitsForVersions=i,this.bits=o,Ne.FOR_BITS.set(o,this),Ne.FOR_VALUE.set(n,this)}static forBits(n){const s=Ne.FOR_BITS.get(n);if(s===void 0)throw new N;return s}getCharacterCountBits(n){const s=n.getVersionNumber();let i;return s<=9?i=0:s<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Ne))return!1;const s=n;return this.value===s.value}toString(){return this.stringValue}}Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(An.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(An.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(An.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(An.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(An.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(An.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(An.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(An.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(An.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(An.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class it{static decode(n,s,i,o){const u=new Go(n);let h=new he;const f=new Array;let p=-1,m=-1;try{let v=null,E=!1,S;do{if(u.available()<4)S=Ne.TERMINATOR;else{const _=u.readBits(4);S=Ne.forBits(_)}switch(S){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:E=!0;break;case Ne.STRUCTURED_APPEND:if(u.available()<16)throw new z;p=u.readBits(8),m=u.readBits(8);break;case Ne.ECI:const _=it.parseECIValue(u);if(v=$.getCharacterSetECIByValue(_),v===null)throw new z;break;case Ne.HANZI:const B=u.readBits(4),F=u.readBits(S.getCharacterCountBits(s));B===it.GB2312_SUBSET&&it.decodeHanziSegment(u,h,F);break;default:const V=u.readBits(S.getCharacterCountBits(s));switch(S){case Ne.NUMERIC:it.decodeNumericSegment(u,h,V);break;case Ne.ALPHANUMERIC:it.decodeAlphanumericSegment(u,h,V,E);break;case Ne.BYTE:it.decodeByteSegment(u,h,V,v,f,o);break;case Ne.KANJI:it.decodeKanjiSegment(u,h,V);break;default:throw new z}break}}while(S!==Ne.TERMINATOR)}catch{throw new z}return new Mt(n,h.toString(),f.length===0?null:f,i===null?null:i.toString(),p,m)}static decodeHanziSegment(n,s,i){if(i*13>n.available())throw new z;const o=new Uint8Array(2*i);let u=0;for(;i>0;){const h=n.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,o[u]=f>>8&255,o[u+1]=f&255,u+=2,i--}try{s.append(ce.decode(o,de.GB2312))}catch(h){throw new z(h)}}static decodeKanjiSegment(n,s,i){if(i*13>n.available())throw new z;const o=new Uint8Array(2*i);let u=0;for(;i>0;){const h=n.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,o[u]=f>>8,o[u+1]=f,u+=2,i--}try{s.append(ce.decode(o,de.SHIFT_JIS))}catch(h){throw new z(h)}}static decodeByteSegment(n,s,i,o,u,h){if(8*i>n.available())throw new z;const f=new Uint8Array(i);for(let m=0;m<i;m++)f[m]=n.readBits(8);let p;o===null?p=de.guessEncoding(f,h):p=o.getName();try{s.append(ce.decode(f,p))}catch(m){throw new z(m)}u.push(f)}static toAlphaNumericChar(n){if(n>=it.ALPHANUMERIC_CHARS.length)throw new z;return it.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,s,i,o){const u=s.length();for(;i>1;){if(n.available()<11)throw new z;const h=n.readBits(11);s.append(it.toAlphaNumericChar(Math.floor(h/45))),s.append(it.toAlphaNumericChar(h%45)),i-=2}if(i===1){if(n.available()<6)throw new z;s.append(it.toAlphaNumericChar(n.readBits(6)))}if(o)for(let h=u;h<s.length();h++)s.charAt(h)==="%"&&(h<s.length()-1&&s.charAt(h+1)==="%"?s.deleteCharAt(h+1):s.setCharAt(h,""))}static decodeNumericSegment(n,s,i){for(;i>=3;){if(n.available()<10)throw new z;const o=n.readBits(10);if(o>=1e3)throw new z;s.append(it.toAlphaNumericChar(Math.floor(o/100))),s.append(it.toAlphaNumericChar(Math.floor(o/10)%10)),s.append(it.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(n.available()<7)throw new z;const o=n.readBits(7);if(o>=100)throw new z;s.append(it.toAlphaNumericChar(Math.floor(o/10))),s.append(it.toAlphaNumericChar(o%10))}else if(i===1){if(n.available()<4)throw new z;const o=n.readBits(4);if(o>=10)throw new z;s.append(it.toAlphaNumericChar(o))}}static parseECIValue(n){const s=n.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const i=n.readBits(8);return(s&63)<<8&4294967295|i}if((s&224)===192){const i=n.readBits(16);return(s&31)<<16&4294967295|i}throw new z}}it.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",it.GB2312_SUBSET=1;class p0{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const s=n[0];n[0]=n[2],n[2]=s}}class sg{constructor(){this.rsDecoder=new Ei(Fe.QR_CODE_FIELD_256)}decodeBooleanArray(n,s){return this.decodeBitMatrix(ie.parseFromBooleanArray(n),s)}decodeBitMatrix(n,s){const i=new rg(n);let o=null;try{return this.decodeBitMatrixParser(i,s)}catch(u){o=u}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const u=this.decodeBitMatrixParser(i,s);return u.setOther(new p0(!0)),u}catch(u){throw o!==null?o:u}}decodeBitMatrixParser(n,s){const i=n.readVersion(),o=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),h=Xo.getDataBlocks(u,i,o);let f=0;for(const v of h)f+=v.getNumDataCodewords();const p=new Uint8Array(f);let m=0;for(const v of h){const E=v.getCodewords(),S=v.getNumDataCodewords();this.correctErrors(E,S);for(let _=0;_<S;_++)p[m++]=E[_]}return it.decode(p,i,o,s)}correctErrors(n,s){const i=new Int32Array(n);try{this.rsDecoder.decode(i,n.length-s)}catch{throw new D}for(let o=0;o<s;o++)n[o]=i[o]}}class Yo extends ye{constructor(n,s,i){super(n,s),this.estimatedModuleSize=i}aboutEquals(n,s,i){if(Math.abs(s-this.getY())<=n&&Math.abs(i-this.getX())<=n){const o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(n,s,i){const o=(this.getX()+s)/2,u=(this.getY()+n)/2,h=(this.estimatedModuleSize+i)/2;return new Yo(o,u,h)}}class Va{constructor(n,s,i,o,u,h,f){this.image=n,this.startX=s,this.startY=i,this.width=o,this.height=u,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,s=this.height,i=this.width,o=n+i,u=this.startY+s/2,h=new Int32Array(3),f=this.image;for(let p=0;p<s;p++){const m=u+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));h[0]=0,h[1]=0,h[2]=0;let v=n;for(;v<o&&!f.get(v,m);)v++;let E=0;for(;v<o;){if(f.get(v,m))if(E===1)h[1]++;else if(E===2){if(this.foundPatternCross(h)){const S=this.handlePossibleCenter(h,m,v);if(S!==null)return S}h[0]=h[2],h[1]=1,h[2]=0,E=1}else h[++E]++;else E===1&&E++,h[E]++;v++}if(this.foundPatternCross(h)){const S=this.handlePossibleCenter(h,m,o);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(n,s){return s-n[2]-n[1]/2}foundPatternCross(n){const s=this.moduleSize,i=s/2;for(let o=0;o<3;o++)if(Math.abs(s-n[o])>=i)return!1;return!0}crossCheckVertical(n,s,i,o){const u=this.image,h=u.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=n;for(;p>=0&&u.get(s,p)&&f[1]<=i;)f[1]++,p--;if(p<0||f[1]>i)return NaN;for(;p>=0&&!u.get(s,p)&&f[0]<=i;)f[0]++,p--;if(f[0]>i)return NaN;for(p=n+1;p<h&&u.get(s,p)&&f[1]<=i;)f[1]++,p++;if(p===h||f[1]>i)return NaN;for(;p<h&&!u.get(s,p)&&f[2]<=i;)f[2]++,p++;if(f[2]>i)return NaN;const m=f[0]+f[1]+f[2];return 5*Math.abs(m-o)>=2*o?NaN:this.foundPatternCross(f)?Va.centerFromEnd(f,p):NaN}handlePossibleCenter(n,s,i){const o=n[0]+n[1]+n[2],u=Va.centerFromEnd(n,i),h=this.crossCheckVertical(s,u,2*n[1],o);if(!isNaN(h)){const f=(n[0]+n[1]+n[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(f,h,u))return m.combineEstimate(h,u,f);const p=new Yo(u,h,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Ko extends ye{constructor(n,s,i,o){super(n,s),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,s,i){if(Math.abs(s-this.getY())<=n&&Math.abs(i-this.getX())<=n){const o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(n,s,i){const o=this.count+1,u=(this.count*this.getX()+s)/o,h=(this.count*this.getY()+n)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new Ko(u,h,f,o)}}class ig{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class jt{constructor(n,s){this.image=n,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const s=n!=null&&n.get(P.TRY_HARDER)!==void 0,i=n!=null&&n.get(P.PURE_BARCODE)!==void 0,o=this.image,u=o.getHeight(),h=o.getWidth();let f=Math.floor(3*u/(4*jt.MAX_MODULES));(f<jt.MIN_SKIP||s)&&(f=jt.MIN_SKIP);let p=!1;const m=new Int32Array(5);for(let E=f-1;E<u&&!p;E+=f){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let S=0;for(let _=0;_<h;_++)if(o.get(_,E))(S&1)===1&&S++,m[S]++;else if(S&1)m[S]++;else if(S===4)if(jt.foundPatternCross(m)){if(this.handlePossibleCenter(m,E,_,i)===!0)if(f=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>m[2]&&(E+=F-m[2]-f,_=h-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,S=3;continue}S=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,S=3;else m[++S]++;jt.foundPatternCross(m)&&this.handlePossibleCenter(m,E,h,i)===!0&&(f=m[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return ye.orderBestPatterns(v),new ig(v)}static centerFromEnd(n,s){return s-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let s=0;for(let u=0;u<5;u++){const h=n[u];if(h===0)return!1;s+=h}if(s<7)return!1;const i=s/7,o=i/2;return Math.abs(i-n[0])<o&&Math.abs(i-n[1])<o&&Math.abs(3*i-n[2])<3*o&&Math.abs(i-n[3])<o&&Math.abs(i-n[4])<o}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,s,i,o){const u=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;n>=h&&s>=h&&f.get(s-h,n-h);)u[2]++,h++;if(n<h||s<h)return!1;for(;n>=h&&s>=h&&!f.get(s-h,n-h)&&u[1]<=i;)u[1]++,h++;if(n<h||s<h||u[1]>i)return!1;for(;n>=h&&s>=h&&f.get(s-h,n-h)&&u[0]<=i;)u[0]++,h++;if(u[0]>i)return!1;const p=f.getHeight(),m=f.getWidth();for(h=1;n+h<p&&s+h<m&&f.get(s+h,n+h);)u[2]++,h++;if(n+h>=p||s+h>=m)return!1;for(;n+h<p&&s+h<m&&!f.get(s+h,n+h)&&u[3]<i;)u[3]++,h++;if(n+h>=p||s+h>=m||u[3]>=i)return!1;for(;n+h<p&&s+h<m&&f.get(s+h,n+h)&&u[4]<i;)u[4]++,h++;if(u[4]>=i)return!1;const v=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(v-o)<2*o&&jt.foundPatternCross(u)}crossCheckVertical(n,s,i,o){const u=this.image,h=u.getHeight(),f=this.getCrossCheckStateCount();let p=n;for(;p>=0&&u.get(s,p);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(s,p)&&f[1]<=i;)f[1]++,p--;if(p<0||f[1]>i)return NaN;for(;p>=0&&u.get(s,p)&&f[0]<=i;)f[0]++,p--;if(f[0]>i)return NaN;for(p=n+1;p<h&&u.get(s,p);)f[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(s,p)&&f[3]<i;)f[3]++,p++;if(p===h||f[3]>=i)return NaN;for(;p<h&&u.get(s,p)&&f[4]<i;)f[4]++,p++;if(f[4]>=i)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-o)>=2*o?NaN:jt.foundPatternCross(f)?jt.centerFromEnd(f,p):NaN}crossCheckHorizontal(n,s,i,o){const u=this.image,h=u.getWidth(),f=this.getCrossCheckStateCount();let p=n;for(;p>=0&&u.get(p,s);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!u.get(p,s)&&f[1]<=i;)f[1]++,p--;if(p<0||f[1]>i)return NaN;for(;p>=0&&u.get(p,s)&&f[0]<=i;)f[0]++,p--;if(f[0]>i)return NaN;for(p=n+1;p<h&&u.get(p,s);)f[2]++,p++;if(p===h)return NaN;for(;p<h&&!u.get(p,s)&&f[3]<i;)f[3]++,p++;if(p===h||f[3]>=i)return NaN;for(;p<h&&u.get(p,s)&&f[4]<i;)f[4]++,p++;if(f[4]>=i)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-o)>=o?NaN:jt.foundPatternCross(f)?jt.centerFromEnd(f,p):NaN}handlePossibleCenter(n,s,i,o){const u=n[0]+n[1]+n[2]+n[3]+n[4];let h=jt.centerFromEnd(n,i),f=this.crossCheckVertical(s,Math.floor(h),n[2],u);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),n[2],u),!isNaN(h)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),n[2],u)))){const p=u/7;let m=!1;const v=this.possibleCenters;for(let E=0,S=v.length;E<S;E++){const _=v[E];if(_.aboutEquals(p,f,h)){v[E]=_.combineEstimate(f,h,p),m=!0;break}}if(!m){const E=new Ko(h,f,p);v.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const i of this.possibleCenters)if(i.getCount()>=jt.CENTER_QUORUM)if(s==null)s=i;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-i.getX())-Math.abs(s.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,s=0;const i=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=jt.CENTER_QUORUM&&(n++,s+=h.getEstimatedModuleSize());if(n<3)return!1;const o=s/i;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-o);return u<=.05*s}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Y;const s=this.possibleCenters;let i;if(n>3){let o=0,u=0;for(const p of this.possibleCenters){const m=p.getEstimatedModuleSize();o+=m,u+=m*m}i=o/n;let h=Math.sqrt(u/n-i*i);s.sort((p,m)=>{const v=Math.abs(m.getEstimatedModuleSize()-i),E=Math.abs(p.getEstimatedModuleSize()-i);return v<E?-1:v>E?1:0});const f=Math.max(.2*i,h);for(let p=0;p<s.length&&s.length>3;p++){const m=s[p];Math.abs(m.getEstimatedModuleSize()-i)>f&&(s.splice(p,1),p--)}}if(s.length>3){let o=0;for(const u of s)o+=u.getEstimatedModuleSize();i=o/s.length,s.sort((u,h)=>{if(h.getCount()===u.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-i),p=Math.abs(u.getEstimatedModuleSize()-i);return f<p?1:f>p?-1:0}else return h.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}jt.CENTER_QUORUM=2,jt.MIN_SKIP=3,jt.MAX_MODULES=57;class Ai{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(P.NEED_RESULT_POINT_CALLBACK);const i=new jt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(i)}processFinderPatternInfo(n){const s=n.getTopLeft(),i=n.getTopRight(),o=n.getBottomLeft(),u=this.calculateModuleSize(s,i,o);if(u<1)throw new Y("No pattern found in proccess finder.");const h=Ai.computeDimension(s,i,o,u),f=be.getProvisionalVersionForDimension(h),p=f.getDimensionForVersion()-7;let m=null;if(f.getAlignmentPatternCenters().length>0){const _=i.getX()-s.getX()+o.getX(),B=i.getY()-s.getY()+o.getY(),F=1-3/p,V=Math.floor(s.getX()+F*(_-s.getX())),Q=Math.floor(s.getY()+F*(B-s.getY()));for(let se=4;se<=16;se<<=1)try{m=this.findAlignmentInRegion(u,V,Q,se);break}catch(ae){if(!(ae instanceof Y))throw ae}}const v=Ai.createTransform(s,i,o,m,h),E=Ai.sampleGrid(this.image,v,h);let S;return m===null?S=[o,s,i]:S=[o,s,i,m],new Pa(E,S)}static createTransform(n,s,i,o,u){const h=u-3.5;let f,p,m,v;return o!==null?(f=o.getX(),p=o.getY(),m=h-3,v=m):(f=s.getX()-n.getX()+i.getX(),p=s.getY()-n.getY()+i.getY(),m=h,v=h),Dn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,m,v,3.5,h,n.getX(),n.getY(),s.getX(),s.getY(),f,p,i.getX(),i.getY())}static sampleGrid(n,s,i){return Sr.getInstance().sampleGridWithTransform(n,i,i,s)}static computeDimension(n,s,i,o){const u=Le.round(ye.distance(n,s)/o),h=Le.round(ye.distance(n,i)/o);let f=Math.floor((u+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new Y("Dimensions could be not found.")}return f}calculateModuleSize(n,s,i){return(this.calculateModuleSizeOneWay(n,s)+this.calculateModuleSizeOneWay(n,i))/2}calculateModuleSizeOneWay(n,s){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(s.getX()),Math.floor(s.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(n,s,i,o){let u=this.sizeOfBlackWhiteBlackRun(n,s,i,o),h=1,f=n-(i-n);f<0?(h=n/(n-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let p=Math.floor(s-(o-s)*h);return h=1,p<0?(h=s/(s-p),p=0):p>=this.image.getHeight()&&(h=(this.image.getHeight()-1-s)/(p-s),p=this.image.getHeight()-1),f=Math.floor(n+(f-n)*h),u+=this.sizeOfBlackWhiteBlackRun(n,s,f,p),u-1}sizeOfBlackWhiteBlackRun(n,s,i,o){const u=Math.abs(o-s)>Math.abs(i-n);if(u){let _=n;n=s,s=_,_=i,i=o,o=_}const h=Math.abs(i-n),f=Math.abs(o-s);let p=-h/2;const m=n<i?1:-1,v=s<o?1:-1;let E=0;const S=i+m;for(let _=n,B=s;_!==S;_+=m){const F=u?B:_,V=u?_:B;if(E===1===this.image.get(F,V)){if(E===2)return Le.distance(_,B,n,s);E++}if(p+=f,p>0){if(B===o)break;B+=v,p-=h}}return E===2?Le.distance(i+m,o,n,s):NaN}findAlignmentInRegion(n,s,i,o){const u=Math.floor(o*n),h=Math.max(0,s-u),f=Math.min(this.image.getWidth()-1,s+u);if(f-h<n*3)throw new Y("Alignment top exceeds estimated module size.");const p=Math.max(0,i-u),m=Math.min(this.image.getHeight()-1,i+u);if(m-p<n*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Va(this.image,h,p,f-h,m-p,n,this.resultPointCallback).find()}}class jr{constructor(){this.decoder=new sg}getDecoder(){return this.decoder}decode(n,s){let i,o;if(s!=null&&s.get(P.PURE_BARCODE)!==void 0){const p=jr.extractPureBits(n.getBlackMatrix());i=this.decoder.decodeBitMatrix(p,s),o=jr.NO_POINTS}else{const p=new Ai(n.getBlackMatrix()).detect(s);i=this.decoder.decodeBitMatrix(p.getBits(),s),o=p.getPoints()}i.getOther()instanceof p0&&i.getOther().applyMirroredCorrection(o);const u=new q(i.getText(),i.getRawBytes(),void 0,o,le.QR_CODE,void 0),h=i.getByteSegments();h!==null&&u.putMetadata(Ze.BYTE_SEGMENTS,h);const f=i.getECLevel();return f!==null&&u.putMetadata(Ze.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(u.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),u.putMetadata(Ze.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const s=n.getTopLeftOnBit(),i=n.getBottomRightOnBit();if(s===null||i===null)throw new Y;const o=this.moduleSize(s,n);let u=s[1],h=i[1],f=s[0],p=i[0];if(f>=p||u>=h)throw new Y;if(h-u!==p-f&&(p=f+(h-u),p>=n.getWidth()))throw new Y;const m=Math.round((p-f+1)/o),v=Math.round((h-u+1)/o);if(m<=0||v<=0)throw new Y;if(v!==m)throw new Y;const E=Math.floor(o/2);u+=E,f+=E;const S=f+Math.floor((m-1)*o)-p;if(S>0){if(S>E)throw new Y;f-=S}const _=u+Math.floor((v-1)*o)-h;if(_>0){if(_>E)throw new Y;u-=_}const B=new ie(m,v);for(let F=0;F<v;F++){const V=u+Math.floor(F*o);for(let Q=0;Q<m;Q++)n.get(f+Math.floor(Q*o),V)&&B.set(Q,F)}return B}static moduleSize(n,s){const i=s.getHeight(),o=s.getWidth();let u=n[0],h=n[1],f=!0,p=0;for(;u<o&&h<i;){if(f!==s.get(u,h)){if(++p===5)break;f=!f}u++,h++}if(u===o||h===i)throw new Y;return(u-n[0])/7}}jr.NO_POINTS=new Array;class Se{PDF417Common(){}static getBitCountSum(n){return Le.sum(n)}static toIntArray(n){if(n==null||!n.length)return Se.EMPTY_INT_ARRAY;const s=new Int32Array(n.length);let i=0;for(const o of n)s[i++]=o;return s}static getCodeword(n){const s=I.binarySearch(Se.SYMBOL_TABLE,n&262143);return s<0?-1:(Se.CODEWORD_TABLE[s]-1)%Se.NUMBER_OF_CODEWORDS}}Se.NUMBER_OF_CODEWORDS=929,Se.MAX_CODEWORDS_IN_BARCODE=Se.NUMBER_OF_CODEWORDS-1,Se.MIN_ROWS_IN_BARCODE=3,Se.MAX_ROWS_IN_BARCODE=90,Se.MODULES_IN_CODEWORD=17,Se.MODULES_IN_STOP_PATTERN=18,Se.BARS_IN_MODULE=8,Se.EMPTY_INT_ARRAY=new Int32Array([]),Se.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Se.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ag{constructor(n,s){this.bits=n,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(n,s,i){let o=n.getBlackMatrix(),u=je.detect(i,o);return u.length||(o=o.clone(),o.rotate180(),u=je.detect(i,o)),new ag(o,u)}static detect(n,s){const i=new Array;let o=0,u=0,h=!1;for(;o<s.getHeight();){const f=je.findVertices(s,o,u);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,u=0;for(const p of i)p[1]!=null&&(o=Math.trunc(Math.max(o,p[1].getY()))),p[3]!=null&&(o=Math.max(o,Math.trunc(p[3].getY())));o+=je.ROW_STEP;continue}if(h=!0,i.push(f),!n)break;f[2]!=null?(u=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(u=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(n,s,i){const o=n.getHeight(),u=n.getWidth(),h=new Array(8);return je.copyToResult(h,je.findRowsWithPattern(n,o,u,s,i,je.START_PATTERN),je.INDEXES_START_PATTERN),h[4]!=null&&(i=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY())),je.copyToResult(h,je.findRowsWithPattern(n,o,u,s,i,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),h}static copyToResult(n,s,i){for(let o=0;o<i.length;o++)n[i[o]]=s[o]}static findRowsWithPattern(n,s,i,o,u,h){const f=new Array(4);let p=!1;const m=new Int32Array(h.length);for(;o<s;o+=je.ROW_STEP){let E=je.findGuardPattern(n,u,o,i,!1,h,m);if(E!=null){for(;o>0;){const S=je.findGuardPattern(n,u,--o,i,!1,h,m);if(S!=null)E=S;else{o++;break}}f[0]=new ye(E[0],o),f[1]=new ye(E[1],o),p=!0;break}}let v=o+1;if(p){let E=0,S=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;v<s;v++){const _=je.findGuardPattern(n,S[0],v,i,!1,h,m);if(_!=null&&Math.abs(S[0]-_[0])<je.MAX_PATTERN_DRIFT&&Math.abs(S[1]-_[1])<je.MAX_PATTERN_DRIFT)S=_,E=0;else{if(E>je.SKIPPED_ROW_COUNT_MAX)break;E++}}v-=E+1,f[2]=new ye(S[0],v),f[3]=new ye(S[1],v)}return v-o<je.BARCODE_MIN_HEIGHT&&I.fill(f,null),f}static findGuardPattern(n,s,i,o,u,h,f){I.fillWithin(f,0,f.length,0);let p=s,m=0;for(;n.get(p,i)&&p>0&&m++<je.MAX_PIXEL_DRIFT;)p--;let v=p,E=0,S=h.length;for(let _=u;v<o;v++)if(n.get(v,i)!==_)f[E]++;else{if(E===S-1){if(je.patternMatchVariance(f,h,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([p,v]);p+=f[0]+f[1],O.arraycopy(f,2,f,0,E-1),f[E-1]=0,f[E]=0,E--}else E++;f[E]=1,_=!_}return E===S-1&&je.patternMatchVariance(f,h,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([p,v-1]):null}static patternMatchVariance(n,s,i){let o=n.length,u=0,h=0;for(let m=0;m<o;m++)u+=n[m],h+=s[m];if(u<h)return 1/0;let f=u/h;i*=f;let p=0;for(let m=0;m<o;m++){let v=n[m],E=s[m]*f,S=v>E?v-E:E-v;if(S>i)return 1/0;p+=S}return p/u}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class Ot{constructor(n,s){if(s.length===0)throw new N;this.field=n;let i=s.length;if(i>1&&s[0]===0){let o=1;for(;o<i&&s[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),O.arraycopy(s,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let o=0;for(let u of this.coefficients)o=this.field.add(o,u);return o}let s=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)s=this.field.add(this.field.multiply(n,s),this.coefficients[o]);return s}add(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let s=this.coefficients,i=n.coefficients;if(s.length>i.length){let h=s;s=i,i=h}let o=new Int32Array(i.length),u=i.length-s.length;O.arraycopy(i,0,o,0,u);for(let h=u;h<i.length;h++)o[h]=this.field.add(s[h-u],i[h]);return new Ot(this.field,o)}subtract(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Ot?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Ot(this.field,new Int32Array([0]));let s=this.coefficients,i=s.length,o=n.coefficients,u=o.length,h=new Int32Array(i+u-1);for(let f=0;f<i;f++){let p=s[f];for(let m=0;m<u;m++)h[f+m]=this.field.add(h[f+m],this.field.multiply(p,o[m]))}return new Ot(this.field,h)}negative(){let n=this.coefficients.length,s=new Int32Array(n);for(let i=0;i<n;i++)s[i]=this.field.subtract(0,this.coefficients[i]);return new Ot(this.field,s)}multiplyScalar(n){if(n===0)return new Ot(this.field,new Int32Array([0]));if(n===1)return this;let s=this.coefficients.length,i=new Int32Array(s);for(let o=0;o<s;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new Ot(this.field,i)}multiplyByMonomial(n,s){if(n<0)throw new N;if(s===0)return new Ot(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+n);for(let u=0;u<i;u++)o[u]=this.field.multiply(this.coefficients[u],s);return new Ot(this.field,o)}toString(){let n=new he;for(let s=this.getDegree();s>=0;s--){let i=this.getCoefficient(s);i!==0&&(i<0?(n.append(" - "),i=-i):n.length()>0&&n.append(" + "),(s===0||i!==1)&&n.append(i),s!==0&&(s===1?n.append("x"):(n.append("x^"),n.append(s))))}return n.toString()}}class lg{add(n,s){return(n+s)%this.modulus}subtract(n,s){return(this.modulus+n-s)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new N;return this.logTable[n]}inverse(n){if(n===0)throw new La;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,s){return n===0||s===0?0:this.expTable[(this.logTable[n]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Qo extends lg{constructor(n,s){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let i=1;for(let o=0;o<n;o++)this.expTable[o]=i,i=i*s%n;for(let o=0;o<n-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Ot(this,new Int32Array([0])),this.one=new Ot(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,s){if(n<0)throw new N;if(s===0)return this.zero;let i=new Int32Array(n+1);return i[0]=s,new Ot(this,i)}}Qo.PDF417_GF=new Qo(Se.NUMBER_OF_CODEWORDS,3);class g0{constructor(){this.field=Qo.PDF417_GF}decode(n,s,i){let o=new Ot(this.field,n),u=new Int32Array(s),h=!1;for(let B=s;B>0;B--){let F=o.evaluateAt(this.field.exp(B));u[s-B]=F,F!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(i!=null)for(const B of i){let F=this.field.exp(n.length-1-B),V=new Ot(this.field,new Int32Array([this.field.subtract(0,F),1]));f=f.multiply(V)}let p=new Ot(this.field,u),m=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),p,s),v=m[0],E=m[1],S=this.findErrorLocations(v),_=this.findErrorMagnitudes(E,v,S);for(let B=0;B<S.length;B++){let F=n.length-1-this.field.log(S[B]);if(F<0)throw D.getChecksumInstance();n[F]=this.field.subtract(n[F],_[B])}return S.length}runEuclideanAlgorithm(n,s,i){if(n.getDegree()<s.getDegree()){let S=n;n=s,s=S}let o=n,u=s,h=this.field.getZero(),f=this.field.getOne();for(;u.getDegree()>=Math.round(i/2);){let S=o,_=h;if(o=u,h=f,o.isZero())throw D.getChecksumInstance();u=S;let B=this.field.getZero(),F=o.getCoefficient(o.getDegree()),V=this.field.inverse(F);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){let Q=u.getDegree()-o.getDegree(),se=this.field.multiply(u.getCoefficient(u.getDegree()),V);B=B.add(this.field.buildMonomial(Q,se)),u=u.subtract(o.multiplyByMonomial(Q,se))}f=B.multiply(h).subtract(_).negative()}let p=f.getCoefficient(0);if(p===0)throw D.getChecksumInstance();let m=this.field.inverse(p),v=f.multiply(m),E=u.multiply(m);return[v,E]}findErrorLocations(n){let s=n.getDegree(),i=new Int32Array(s),o=0;for(let u=1;u<this.field.getSize()&&o<s;u++)n.evaluateAt(u)===0&&(i[o]=this.field.inverse(u),o++);if(o!==s)throw D.getChecksumInstance();return i}findErrorMagnitudes(n,s,i){let o=s.getDegree(),u=new Int32Array(o);for(let m=1;m<=o;m++)u[o-m]=this.field.multiply(m,s.getCoefficient(m));let h=new Ot(this.field,u),f=i.length,p=new Int32Array(f);for(let m=0;m<f;m++){let v=this.field.inverse(i[m]),E=this.field.subtract(0,n.evaluateAt(v)),S=this.field.inverse(h.evaluateAt(v));p[m]=this.field.multiply(E,S)}return p}}class cs{constructor(n,s,i,o,u){n instanceof cs?this.constructor_2(n):this.constructor_1(n,s,i,o,u)}constructor_1(n,s,i,o,u){const h=s==null||i==null,f=o==null||u==null;if(h&&f)throw new Y;h?(s=new ye(0,o.getY()),i=new ye(0,u.getY())):f&&(o=new ye(n.getWidth()-1,s.getY()),u=new ye(n.getWidth()-1,i.getY())),this.image=n,this.topLeft=s,this.bottomLeft=i,this.topRight=o,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,s){return n==null?s:s==null?n:new cs(n.image,n.topLeft,n.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(n,s,i){let o=this.topLeft,u=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(n>0){let p=i?this.topLeft:this.topRight,m=Math.trunc(p.getY()-n);m<0&&(m=0);let v=new ye(p.getX(),m);i?o=v:h=v}if(s>0){let p=i?this.bottomLeft:this.bottomRight,m=Math.trunc(p.getY()+s);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let v=new ye(p.getX(),m);i?u=v:f=v}return new cs(this.image,o,u,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class og{constructor(n,s,i,o){this.columnCount=n,this.errorCorrectionLevel=o,this.rowCountUpperPart=s,this.rowCountLowerPart=i,this.rowCount=s+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ti{constructor(){this.buffer=""}static form(n,s){let i=-1;function o(h,f,p,m,v,E){if(h==="%%")return"%";if(s[++i]===void 0)return;h=m?parseInt(m.substr(1)):void 0;let S=v?parseInt(v.substr(1)):void 0,_;switch(E){case"s":_=s[i];break;case"c":_=s[i][0];break;case"f":_=parseFloat(s[i]).toFixed(h);break;case"p":_=parseFloat(s[i]).toPrecision(h);break;case"e":_=parseFloat(s[i]).toExponential(h);break;case"x":_=parseInt(s[i]).toString(S||16);break;case"d":_=parseFloat(parseInt(s[i],S||10).toPrecision(h)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(S);let B=parseInt(p),F=p&&p[0]+""=="0"?"0":" ";for(;_.length<B;)_=f!==void 0?_+F:F+_;return _}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,o)}format(n,...s){this.buffer+=Ti.form(n,s)}toString(){return this.buffer}}class Ii{constructor(n){this.boundingBox=new cs(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let s=this.getCodeword(n);if(s!=null)return s;for(let i=1;i<Ii.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(n)-i;if(o>=0&&(s=this.codewords[o],s!=null)||(o=this.imageRowToCodewordIndex(n)+i,o<this.codewords.length&&(s=this.codewords[o],s!=null)))return s}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,s){this.codewords[this.imageRowToCodewordIndex(n)]=s}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Ti;let s=0;for(const i of this.codewords){if(i==null){n.format("%3d:    |   %n",s++);continue}n.format("%3d: %3d|%3d%n",s++,i.getRowNumber(),i.getValue())}return n.toString()}}Ii.MAX_NEARBY_DISTANCE=5;class ji{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let s=this.values.get(n);s==null&&(s=0),s++,this.values.set(n,s)}getValue(){let n=-1,s=new Array;for(const[i,o]of this.values.entries()){const u={getKey:()=>i,getValue:()=>o};u.getValue()>n?(n=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===n&&s.push(u.getKey())}return Se.toIntArray(s)}getConfidence(n){return this.values.get(n)}}class m0 extends Ii{constructor(n,s){super(n),this._isLeft=s}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,n);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,m=1,v=0;for(let E=h;E<f;E++){if(s[E]==null)continue;let S=s[E],_=S.getRowNumber()-p;if(_===0)v++;else if(_===1)m=Math.max(m,v),v=1,p=S.getRowNumber();else if(_<0||S.getRowNumber()>=n.getRowCount()||_>E)s[E]=null;else{let B;m>2?B=(m-2)*_:B=_;let F=B>=E;for(let V=1;V<=B&&!F;V++)F=s[E-V]!=null;F?s[E]=null:(p=S.getRowNumber(),v=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let s=new Int32Array(n.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=s.length)continue;s[o]++}return s}adjustIncompleteIndicatorColumnRowNumbers(n){let s=this.getBoundingBox(),i=this._isLeft?s.getTopLeft():s.getTopRight(),o=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),p=-1;for(let m=u;m<h;m++){if(f[m]==null)continue;let v=f[m];v.setRowNumberAsRowIndicatorColumn();let E=v.getRowNumber()-p;E===0||(E===1?p=v.getRowNumber():v.getRowNumber()>=n.getRowCount()?f[m]=null:p=v.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),s=new ji,i=new ji,o=new ji,u=new ji;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,m=f.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:i.setValue(p*3+1);break;case 1:u.setValue(p/3),o.setValue(p%3);break;case 2:s.setValue(p+1);break}}if(s.getValue().length===0||i.getValue().length===0||o.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Se.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Se.MAX_ROWS_IN_BARCODE)return null;let h=new og(s.getValue()[0],i.getValue()[0],o.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,h),h}removeIncorrectCodewords(n,s){for(let i=0;i<n.length;i++){let o=n[i];if(n[i]==null)continue;let u=o.getValue()%30,h=o.getRowNumber();if(h>s.getRowCount()){n[i]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(n[i]=null);break;case 2:u+1!==s.getColumnCount()&&(n[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ki{constructor(n,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Se.MAX_CODEWORDS_IN_BARCODE,s;do s=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let i=this.detectionResultColumns[s].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(s,o,i))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++)if(n[i]!=null&&s[i]!=null&&n[i].getRowNumber()===s[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let u=this.detectionResultColumns[o].getCodewords()[i];u!=null&&(u.setRowNumber(n[i].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<s.length;i++){if(s[i]==null)continue;let o=s[i].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[i];f!=null&&(u=ki.adjustRowNumberIfValid(o,u,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,s=this.detectionResultColumns[0].getCodewords();for(let i=0;i<s.length;i++){if(s[i]==null)continue;let o=s[i].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[i];f!=null&&(u=ki.adjustRowNumberIfValid(o,u,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,s,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(n)?(i.setRowNumber(n),s=0):++s),s}adjustRowNumbers(n,s,i){if(!this.detectionResultColumns[n-1])return;let o=i[s],u=this.detectionResultColumns[n-1].getCodewords(),h=u;this.detectionResultColumns[n+1]!=null&&(h=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=u[s],f[3]=h[s],s>0&&(f[0]=i[s-1],f[4]=u[s-1],f[5]=h[s-1]),s>1&&(f[8]=i[s-2],f[10]=u[s-2],f[11]=h[s-2]),s<i.length-1&&(f[1]=i[s+1],f[6]=u[s+1],f[7]=h[s+1]),s<i.length-2&&(f[9]=i[s+2],f[12]=u[s+2],f[13]=h[s+2]);for(let p of f)if(ki.adjustRowNumber(o,p))return}static adjustRowNumber(n,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===n.getBucket()?(n.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,s){this.detectionResultColumns[n]=s}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Ti;for(let i=0;i<n.getCodewords().length;i++){s.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[o].getCodewords()[i];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}class _i{constructor(n,s,i,o){this.rowNumber=_i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(s),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==_i.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}_i.BARCODE_ROW_UNKNOWN=-1;class rn{static initialize(){for(let n=0;n<Se.SYMBOL_TABLE.length;n++){let s=Se.SYMBOL_TABLE[n],i=s&1;for(let o=0;o<Se.BARS_IN_MODULE;o++){let u=0;for(;(s&1)===i;)u+=1,s>>=1;i=s&1,rn.RATIOS_TABLE[n]||(rn.RATIOS_TABLE[n]=new Array(Se.BARS_IN_MODULE)),rn.RATIOS_TABLE[n][Se.BARS_IN_MODULE-o-1]=Math.fround(u/Se.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let s=rn.getDecodedCodewordValue(rn.sampleBitCounts(n));return s!==-1?s:rn.getClosestDecodedValue(n)}static sampleBitCounts(n){let s=Le.sum(n),i=new Int32Array(Se.BARS_IN_MODULE),o=0,u=0;for(let h=0;h<Se.MODULES_IN_CODEWORD;h++){let f=s/(2*Se.MODULES_IN_CODEWORD)+h*s/Se.MODULES_IN_CODEWORD;u+n[o]<=f&&(u+=n[o],o++),i[o]++}return i}static getDecodedCodewordValue(n){let s=rn.getBitValue(n);return Se.getCodeword(s)===-1?-1:s}static getBitValue(n){let s=0;for(let i=0;i<n.length;i++)for(let o=0;o<n[i];o++)s=s<<1|(i%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(n){let s=Le.sum(n),i=new Array(Se.BARS_IN_MODULE);if(s>1)for(let h=0;h<i.length;h++)i[h]=Math.fround(n[h]/s);let o=Ba.MAX_VALUE,u=-1;this.bSymbolTableReady||rn.initialize();for(let h=0;h<rn.RATIOS_TABLE.length;h++){let f=0,p=rn.RATIOS_TABLE[h];for(let m=0;m<Se.BARS_IN_MODULE;m++){let v=Math.fround(p[m]-i[m]);if(f+=Math.fround(v*v),f>=o)break}f<o&&(o=f,u=Se.SYMBOL_TABLE[h])}return u}}rn.bSymbolTableReady=!1,rn.RATIOS_TABLE=new Array(Se.SYMBOL_TABLE.length).map(C=>new Array(Se.BARS_IN_MODULE));class y0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class w0{static parseLong(n,s=void 0){return parseInt(n,s)}}class b0 extends g{}b0.kind="NullPointerException";class cg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,s,i){if(n==null)throw new b0;if(s<0||s>n.length||i<0||s+i>n.length||s+i<0)throw new L;if(i===0)return;for(let o=0;o<i;o++)this.write(n[s+o])}flush(){}close(){}}class ug extends g{}class dg extends cg{constructor(n=32){if(super(),this.count=0,n<0)throw new N("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let i=this.buf.length<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new ug;i=T.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,i)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,s,i){if(s<0||s>n.length||i<0||s+i-n.length>0)throw new L;this.ensureCapacity(this.count+i),O.arraycopy(n,s,this.buf,this.count,i),this.count+=i}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Xe;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Xe||(Xe={}));function v0(){if(typeof window<"u")return window.BigInt||null;if(typeof Oi<"u")return Oi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Wa;function kr(C){if(typeof Wa>"u"&&(Wa=v0()),Wa===null)throw new Error("BigInt is not supported!");return Wa(C)}function hg(){let C=[];C[0]=kr(1);let n=kr(900);C[1]=n;for(let s=2;s<16;s++)C[s]=C[s-1]*n;return C}class K{static decode(n,s){let i=new he(""),o=$.ISO8859_1;i.enableDecoding(o);let u=1,h=n[u++],f=new y0;for(;u<n[0];){switch(h){case K.TEXT_COMPACTION_MODE_LATCH:u=K.textCompaction(n,u,i);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:u=K.byteCompaction(h,n,o,u,i);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:u=K.numericCompaction(n,u,i);break;case K.ECI_CHARSET:$.getCharacterSetECIByValue(n[u++]);break;case K.ECI_GENERAL_PURPOSE:u+=2;break;case K.ECI_USER_DEFINED:u++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=K.decodeMacroBlock(n,u,f);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new z;default:u--,u=K.textCompaction(n,u,i);break}if(u<n.length)h=n[u++];else throw z.getFormatInstance()}if(i.length()===0)throw z.getFormatInstance();let p=new Mt(null,i.toString(),null,s);return p.setOther(f),p}static decodeMacroBlock(n,s,i){if(s+K.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw z.getFormatInstance();let o=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<K.NUMBER_OF_SEQUENCE_CODEWORDS;f++,s++)o[f]=n[s];i.setSegmentIndex(T.parseInt(K.decodeBase900toBase10(o,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new he;s=K.textCompaction(n,s,u),i.setFileId(u.toString());let h=-1;for(n[s]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=s+1);s<n[0];)switch(n[s]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,n[s]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new he;s=K.textCompaction(n,s+1,f),i.setFileName(f.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new he;s=K.textCompaction(n,s+1,p),i.setSender(p.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new he;s=K.textCompaction(n,s+1,m),i.setAddressee(m.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new he;s=K.numericCompaction(n,s+1,v),i.setSegmentCount(T.parseInt(v.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new he;s=K.numericCompaction(n,s+1,E),i.setTimestamp(w0.parseLong(E.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new he;s=K.numericCompaction(n,s+1,S),i.setChecksum(T.parseInt(S.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new he;s=K.numericCompaction(n,s+1,_),i.setFileSize(w0.parseLong(_.toString()));break;default:throw z.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:s++,i.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(h!==-1){let f=s-h;i.isLastSegment()&&f--,i.setOptionalData(I.copyOfRange(n,h,h+f))}return s}static textCompaction(n,s,i){let o=new Int32Array((n[0]-s)*2),u=new Int32Array((n[0]-s)*2),h=0,f=!1;for(;s<n[0]&&!f;){let p=n[s++];if(p<K.TEXT_COMPACTION_MODE_LATCH)o[h]=p/30,o[h+1]=p%30,h+=2;else switch(p){case K.TEXT_COMPACTION_MODE_LATCH:o[h++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,f=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[h]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=n[s++],u[h]=p,h++;break}}return K.decodeTextCompaction(o,u,h,i),s}static decodeTextCompaction(n,s,i,o){let u=Xe.ALPHA,h=Xe.ALPHA,f=0;for(;f<i;){let p=n[f],m="";switch(u){case Xe.ALPHA:if(p<26)m=String.fromCharCode(65+p);else switch(p){case 26:m=" ";break;case K.LL:u=Xe.LOWER;break;case K.ML:u=Xe.MIXED;break;case K.PS:h=u,u=Xe.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Xe.ALPHA;break}break;case Xe.LOWER:if(p<26)m=String.fromCharCode(97+p);else switch(p){case 26:m=" ";break;case K.AS:h=u,u=Xe.ALPHA_SHIFT;break;case K.ML:u=Xe.MIXED;break;case K.PS:h=u,u=Xe.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Xe.ALPHA;break}break;case Xe.MIXED:if(p<K.PL)m=K.MIXED_CHARS[p];else switch(p){case K.PL:u=Xe.PUNCT;break;case 26:m=" ";break;case K.LL:u=Xe.LOWER;break;case K.AL:u=Xe.ALPHA;break;case K.PS:h=u,u=Xe.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Xe.ALPHA;break}break;case Xe.PUNCT:if(p<K.PAL)m=K.PUNCT_CHARS[p];else switch(p){case K.PAL:u=Xe.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Xe.ALPHA;break}break;case Xe.ALPHA_SHIFT:if(u=h,p<26)m=String.fromCharCode(65+p);else switch(p){case 26:m=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:u=Xe.ALPHA;break}break;case Xe.PUNCT_SHIFT:if(u=h,p<K.PAL)m=K.PUNCT_CHARS[p];else switch(p){case K.PAL:u=Xe.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Xe.ALPHA;break}break}m!==""&&o.append(m),f++}}static byteCompaction(n,s,i,o,u){let h=new dg,f=0,p=0,m=!1;switch(n){case K.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),E=s[o++];for(;o<s[0]&&!m;)switch(v[f++]=E,p=900*p+E,E=s[o++],E){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:o--,m=!0;break;default:if(f%5===0&&f>0){for(let S=0;S<6;++S)h.write(Number(kr(p)>>kr(8*(5-S))));p=0,f=0}break}o===s[0]&&E<K.TEXT_COMPACTION_MODE_LATCH&&(v[f++]=E);for(let S=0;S<f;S++)h.write(v[S]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;o<s[0]&&!m;){let S=s[o++];if(S<K.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+S;else switch(S){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:o--,m=!0;break}if(f%5===0&&f>0){for(let _=0;_<6;++_)h.write(Number(kr(p)>>kr(8*(5-_))));p=0,f=0}}break}return u.append(ce.decode(h.toByteArray(),i)),o}static numericCompaction(n,s,i){let o=0,u=!1,h=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;s<n[0]&&!u;){let f=n[s++];if(s===n[0]&&(u=!0),f<K.TEXT_COMPACTION_MODE_LATCH)h[o]=f,o++;else switch(f){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(o%K.MAX_NUMERIC_CODEWORDS===0||f===K.NUMERIC_COMPACTION_MODE_LATCH||u)&&o>0&&(i.append(K.decodeBase900toBase10(h,o)),o=0)}return s}static decodeBase900toBase10(n,s){let i=kr(0);for(let u=0;u<s;u++)i+=K.EXP900[s-u-1]*kr(n[u]);let o=i.toString();if(o.charAt(0)!=="1")throw new z;return o.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=v0()?hg():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ke{constructor(){}static decode(n,s,i,o,u,h,f){let p=new cs(n,s,i,o,u),m=null,v=null,E;for(let B=!0;;B=!1){if(s!=null&&(m=ke.getRowIndicatorColumn(n,p,s,!0,h,f)),o!=null&&(v=ke.getRowIndicatorColumn(n,p,o,!1,h,f)),E=ke.merge(m,v),E==null)throw Y.getNotFoundInstance();let F=E.getBoundingBox();if(B&&F!=null&&(F.getMinY()<p.getMinY()||F.getMaxY()>p.getMaxY()))p=F;else break}E.setBoundingBox(p);let S=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,m),E.setDetectionResultColumn(S,v);let _=m!=null;for(let B=1;B<=S;B++){let F=_?B:S-B;if(E.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===S?V=new m0(p,F===0):V=new Ii(p),E.setDetectionResultColumn(F,V);let Q=-1,se=Q;for(let ae=p.getMinY();ae<=p.getMaxY();ae++){if(Q=ke.getStartColumn(E,F,ae,_),Q<0||Q>p.getMaxX()){if(se===-1)continue;Q=se}let te=ke.detectCodeword(n,p.getMinX(),p.getMaxX(),_,Q,ae,h,f);te!=null&&(V.setCodeword(ae,te),se=Q,h=Math.min(h,te.getWidth()),f=Math.max(f,te.getWidth()))}}return ke.createDecoderResult(E)}static merge(n,s){if(n==null&&s==null)return null;let i=ke.getBarcodeMetadata(n,s);if(i==null)return null;let o=cs.merge(ke.adjustBoundingBox(n),ke.adjustBoundingBox(s));return new ki(i,o)}static adjustBoundingBox(n){if(n==null)return null;let s=n.getRowHeights();if(s==null)return null;let i=ke.getMax(s),o=0;for(let f of s)if(o+=i-f,f>0)break;let u=n.getCodewords();for(let f=0;o>0&&u[f]==null;f++)o--;let h=0;for(let f=s.length-1;f>=0&&(h+=i-s[f],!(s[f]>0));f--);for(let f=u.length-1;h>0&&u[f]==null;f--)h--;return n.getBoundingBox().addMissingRows(o,h,n.isLeft())}static getMax(n){let s=-1;for(let i of n)s=Math.max(s,i);return s}static getBarcodeMetadata(n,s){let i;if(n==null||(i=n.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let o;return s==null||(o=s.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(n,s,i,o,u,h){let f=new m0(s,o);for(let p=0;p<2;p++){let m=p===0?1:-1,v=Math.trunc(Math.trunc(i.getX()));for(let E=Math.trunc(Math.trunc(i.getY()));E<=s.getMaxY()&&E>=s.getMinY();E+=m){let S=ke.detectCodeword(n,0,n.getWidth(),o,v,E,u,h);S!=null&&(f.setCodeword(E,S),o?v=S.getStartX():v=S.getEndX())}}return f}static adjustCodewordCount(n,s){let i=s[0][1],o=i.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ke.getNumberOfECCodeWords(n.getBarcodeECLevel());if(o.length===0){if(u<1||u>Se.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();i.setValue(u)}else o[0]!==u&&i.setValue(u)}static createDecoderResult(n){let s=ke.createBarcodeMatrix(n);ke.adjustCodewordCount(n,s);let i=new Array,o=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],h=new Array;for(let p=0;p<n.getBarcodeRowCount();p++)for(let m=0;m<n.getBarcodeColumnCount();m++){let v=s[p][m+1].getValue(),E=p*n.getBarcodeColumnCount()+m;v.length===0?i.push(E):v.length===1?o[E]=v[0]:(h.push(E),u.push(v))}let f=new Array(u.length);for(let p=0;p<f.length;p++)f[p]=u[p];return ke.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),o,Se.toIntArray(i),Se.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(n,s,i,o,u){let h=new Int32Array(o.length),f=100;for(;f-- >0;){for(let p=0;p<h.length;p++)s[o[p]]=u[p][h[p]];try{return ke.decodeCodewords(s,n,i)}catch(p){if(!(p instanceof D))throw p}if(h.length===0)throw D.getChecksumInstance();for(let p=0;p<h.length;p++)if(h[p]<u[p].length-1){h[p]++;break}else if(h[p]=0,p===h.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(n){let s=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let o=0;o<s.length;o++)for(let u=0;u<s[o].length;u++)s[o][u]=new ji;let i=0;for(let o of n.getDetectionResultColumns()){if(o!=null){for(let u of o.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=s.length)continue;s[h][i].setValue(u.getValue())}}}i++}return s}static isValidBarcodeColumn(n,s){return s>=0&&s<=n.getBarcodeColumnCount()+1}static getStartColumn(n,s,i,o){let u=o?1:-1,h=null;if(ke.isValidBarcodeColumn(n,s-u)&&(h=n.getDetectionResultColumn(s-u).getCodeword(i)),h!=null)return o?h.getEndX():h.getStartX();if(h=n.getDetectionResultColumn(s).getCodewordNearby(i),h!=null)return o?h.getStartX():h.getEndX();if(ke.isValidBarcodeColumn(n,s-u)&&(h=n.getDetectionResultColumn(s-u).getCodewordNearby(i)),h!=null)return o?h.getEndX():h.getStartX();let f=0;for(;ke.isValidBarcodeColumn(n,s-u);){s-=u;for(let p of n.getDetectionResultColumn(s).getCodewords())if(p!=null)return(o?p.getEndX():p.getStartX())+u*f*(p.getEndX()-p.getStartX());f++}return o?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,s,i,o,u,h,f,p){u=ke.adjustCodewordStartColumn(n,s,i,o,u,h);let m=ke.getModuleBitCount(n,s,i,o,u,h);if(m==null)return null;let v,E=Le.sum(m);if(o)v=u+E;else{for(let B=0;B<m.length/2;B++){let F=m[B];m[B]=m[m.length-1-B],m[m.length-1-B]=F}v=u,u=v-E}if(!ke.checkCodewordSkew(E,f,p))return null;let S=rn.getDecodedValue(m),_=Se.getCodeword(S);return _===-1?null:new _i(u,v,ke.getCodewordBucketNumber(S),_)}static getModuleBitCount(n,s,i,o,u,h){let f=u,p=new Int32Array(8),m=0,v=o?1:-1,E=o;for(;(o?f<i:f>=s)&&m<p.length;)n.get(f,h)===E?(p[m]++,f+=v):(m++,E=!E);return m===p.length||f===(o?i:s)&&m===p.length-1?p:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,s,i,o,u,h){let f=u,p=o?-1:1;for(let m=0;m<2;m++){for(;(o?f>=s:f<i)&&o===n.get(f,h);){if(Math.abs(u-f)>ke.CODEWORD_SKEW_SIZE)return u;f+=p}p=-p,o=!o}return f}static checkCodewordSkew(n,s,i){return s-ke.CODEWORD_SKEW_SIZE<=n&&n<=i+ke.CODEWORD_SKEW_SIZE}static decodeCodewords(n,s,i){if(n.length===0)throw z.getFormatInstance();let o=1<<s+1,u=ke.correctErrors(n,i,o);ke.verifyCodewordCount(n,o);let h=K.decode(n,""+s);return h.setErrorsCorrected(u),h.setErasures(i.length),h}static correctErrors(n,s,i){if(s!=null&&s.length>i/2+ke.MAX_ERRORS||i<0||i>ke.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return ke.errorCorrection.decode(n,i,s)}static verifyCodewordCount(n,s){if(n.length<4)throw z.getFormatInstance();let i=n[0];if(i>n.length)throw z.getFormatInstance();if(i===0)if(s<n.length)n[0]=n.length-s;else throw z.getFormatInstance()}static getBitCountForCodeword(n){let s=new Int32Array(8),i=0,o=s.length-1;for(;!((n&1)!==i&&(i=n&1,o--,o<0));)s[o]++,n>>=1;return s}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ke.getCodewordBucketNumber(ke.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let s=new Ti;for(let i=0;i<n.length;i++){s.format("Row %2d: ",i);for(let o=0;o<n[i].length;o++){let u=n[i][o];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}ke.CODEWORD_SKEW_SIZE=2,ke.MAX_ERRORS=3,ke.MAX_EC_CODEWORDS=512,ke.errorCorrection=new g0;class Dt{decode(n,s=null){let i=Dt.decode(n,s,!1);if(i==null||i.length===0||i[0]==null)throw Y.getNotFoundInstance();return i[0]}decodeMultiple(n,s=null){try{return Dt.decode(n,s,!0)}catch(i){throw i instanceof z||i instanceof D?Y.getNotFoundInstance():i}}static decode(n,s,i){const o=new Array,u=je.detectMultiple(n,s,i);for(const h of u.getPoints()){const f=ke.decode(u.getBits(),h[4],h[5],h[6],h[7],Dt.getMinCodewordWidth(h),Dt.getMaxCodewordWidth(h)),p=new q(f.getText(),f.getRawBytes(),void 0,h,le.PDF_417);p.putMetadata(Ze.ERROR_CORRECTION_LEVEL,f.getECLevel());const m=f.getOther();m!=null&&p.putMetadata(Ze.PDF417_EXTRA_METADATA,m),o.push(p)}return o.map(h=>h)}static getMaxWidth(n,s){return n==null||s==null?0:Math.trunc(Math.abs(n.getX()-s.getX()))}static getMinWidth(n,s){return n==null||s==null?T.MAX_VALUE:Math.trunc(Math.abs(n.getX()-s.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Dt.getMaxWidth(n[0],n[4]),Dt.getMaxWidth(n[6],n[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.max(Dt.getMaxWidth(n[1],n[5]),Dt.getMaxWidth(n[7],n[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Dt.getMinWidth(n[0],n[4]),Dt.getMinWidth(n[6],n[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.min(Dt.getMinWidth(n[1],n[5]),Dt.getMinWidth(n[7],n[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ga extends g{}Ga.kind="ReaderException";class N0{constructor(n,s){this.verbose=n===!0,s&&this.setHints(s)}decode(n,s){return s&&this.setHints(s),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const s=!a(n)&&n.get(P.TRY_HARDER)===!0,i=a(n)?null:n.get(P.POSSIBLE_FORMATS),o=new Array;if(!a(i)){const u=i.some(h=>h===le.UPC_A||h===le.UPC_E||h===le.EAN_13||h===le.EAN_8||h===le.CODABAR||h===le.CODE_39||h===le.CODE_93||h===le.CODE_128||h===le.ITF||h===le.RSS_14||h===le.RSS_EXPANDED);u&&!s&&o.push(new Ls(n,this.verbose)),i.includes(le.QR_CODE)&&o.push(new jr),i.includes(le.DATA_MATRIX)&&o.push(new Ir),i.includes(le.AZTEC)&&o.push(new Fa),i.includes(le.PDF_417)&&o.push(new Dt),u&&s&&o.push(new Ls(n,this.verbose))}o.length===0&&(s||o.push(new Ls(n,this.verbose)),o.push(new jr),o.push(new Ir),o.push(new Fa),o.push(new Dt),s&&o.push(new Ls(n,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Ga("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(n,this.hints)}catch(i){if(i instanceof Ga)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class fg extends X{constructor(n=null,s=500){const i=new N0;i.setHints(n),super(i,s)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class xg extends X{constructor(n=500){super(new Dt,n)}}class pg extends X{constructor(n=500){super(new jr,n)}}var Zo;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Zo||(Zo={}));var St=Zo;class qo{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new en(n,Int32Array.from([1])))}buildGenerator(n){const s=this.cachedGenerators;if(n>=s.length){let i=s[s.length-1];const o=this.field;for(let u=s.length;u<=n;u++){const h=i.multiply(new en(o,Int32Array.from([1,o.exp(u-1+o.getGeneratorBase())])));s.push(h),i=h}}return s[n]}encode(n,s){if(s===0)throw new N("No error correction bytes");const i=n.length-s;if(i<=0)throw new N("No data bytes provided");const o=this.buildGenerator(s),u=new Int32Array(i);O.arraycopy(n,0,u,0,i);let h=new en(this.field,u);h=h.multiplyByMonomial(s,1);const p=h.divide(o)[1].getCoefficients(),m=s-p.length;for(let v=0;v<m;v++)n[i+v]=0;O.arraycopy(p,0,n,i+m,p.length)}}class ht{constructor(){}static applyMaskPenaltyRule1(n){return ht.applyMaskPenaltyRule1Internal(n,!0)+ht.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let s=0;const i=n.getArray(),o=n.getWidth(),u=n.getHeight();for(let h=0;h<u-1;h++){const f=i[h];for(let p=0;p<o-1;p++){const m=f[p];m===f[p+1]&&m===i[h+1][p]&&m===i[h+1][p+1]&&s++}}return ht.N2*s}static applyMaskPenaltyRule3(n){let s=0;const i=n.getArray(),o=n.getWidth(),u=n.getHeight();for(let h=0;h<u;h++)for(let f=0;f<o;f++){const p=i[h];f+6<o&&p[f]===1&&p[f+1]===0&&p[f+2]===1&&p[f+3]===1&&p[f+4]===1&&p[f+5]===0&&p[f+6]===1&&(ht.isWhiteHorizontal(p,f-4,f)||ht.isWhiteHorizontal(p,f+7,f+11))&&s++,h+6<u&&i[h][f]===1&&i[h+1][f]===0&&i[h+2][f]===1&&i[h+3][f]===1&&i[h+4][f]===1&&i[h+5][f]===0&&i[h+6][f]===1&&(ht.isWhiteVertical(i,f,h-4,h)||ht.isWhiteVertical(i,f,h+7,h+11))&&s++}return s*ht.N3}static isWhiteHorizontal(n,s,i){s=Math.max(s,0),i=Math.min(i,n.length);for(let o=s;o<i;o++)if(n[o]===1)return!1;return!0}static isWhiteVertical(n,s,i,o){i=Math.max(i,0),o=Math.min(o,n.length);for(let u=i;u<o;u++)if(n[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let s=0;const i=n.getArray(),o=n.getWidth(),u=n.getHeight();for(let p=0;p<u;p++){const m=i[p];for(let v=0;v<o;v++)m[v]===1&&s++}const h=n.getHeight()*n.getWidth();return Math.floor(Math.abs(s*2-h)*10/h)*ht.N4}static getDataMaskBit(n,s,i){let o,u;switch(n){case 0:o=i+s&1;break;case 1:o=i&1;break;case 2:o=s%3;break;case 3:o=(i+s)%3;break;case 4:o=Math.floor(i/2)+Math.floor(s/3)&1;break;case 5:u=i*s,o=(u&1)+u%3;break;case 6:u=i*s,o=(u&1)+u%3&1;break;case 7:u=i*s,o=u%3+(i+s&1)&1;break;default:throw new N("Invalid mask pattern: "+n)}return o===0}static applyMaskPenaltyRule1Internal(n,s){let i=0;const o=s?n.getHeight():n.getWidth(),u=s?n.getWidth():n.getHeight(),h=n.getArray();for(let f=0;f<o;f++){let p=0,m=-1;for(let v=0;v<u;v++){const E=s?h[f][v]:h[v][f];E===m?p++:(p>=5&&(i+=ht.N1+(p-5)),p=1,m=E)}p>=5&&(i+=ht.N1+(p-5))}return i}}ht.N1=3,ht.N2=3,ht.N3=40,ht.N4=10;class Xa{constructor(n,s){this.width=n,this.height=s;const i=new Array(s);for(let o=0;o!==s;o++)i[o]=new Uint8Array(n);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(n,s){return this.bytes[s][n]}getArray(){return this.bytes}setNumber(n,s,i){this.bytes[s][n]=i}setBoolean(n,s,i){this.bytes[s][n]=i?1:0}clear(n){for(const s of this.bytes)I.fill(s,n)}equals(n){if(!(n instanceof Xa))return!1;const s=n;if(this.width!==s.width||this.height!==s.height)return!1;for(let i=0,o=this.height;i<o;++i){const u=this.bytes[i],h=s.bytes[i];for(let f=0,p=this.width;f<p;++f)if(u[f]!==h[f])return!1}return!0}toString(){const n=new he;for(let s=0,i=this.height;s<i;++s){const o=this.bytes[s];for(let u=0,h=this.width;u<h;++u)switch(o[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class us{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new he;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<us.NUM_MASK_PATTERNS}}us.NUM_MASK_PATTERNS=8;class Ke extends g{}Ke.kind="WriterException";class Ee{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,s,i,o,u){Ee.clearMatrix(u),Ee.embedBasicPatterns(i,u),Ee.embedTypeInfo(s,o,u),Ee.maybeEmbedVersionInfo(i,u),Ee.embedDataBits(n,o,u)}static embedBasicPatterns(n,s){Ee.embedPositionDetectionPatternsAndSeparators(s),Ee.embedDarkDotAtLeftBottomCorner(s),Ee.maybeEmbedPositionAdjustmentPatterns(n,s),Ee.embedTimingPatterns(s)}static embedTypeInfo(n,s,i){const o=new U;Ee.makeTypeInfoBits(n,s,o);for(let u=0,h=o.getSize();u<h;++u){const f=o.get(o.getSize()-1-u),p=Ee.TYPE_INFO_COORDINATES[u],m=p[0],v=p[1];if(i.setBoolean(m,v,f),u<8){const E=i.getWidth()-u-1;i.setBoolean(E,8,f)}else{const S=i.getHeight()-7+(u-8);i.setBoolean(8,S,f)}}}static maybeEmbedVersionInfo(n,s){if(n.getVersionNumber()<7)return;const i=new U;Ee.makeVersionInfoBits(n,i);let o=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const f=i.get(o);o--,s.setBoolean(u,s.getHeight()-11+h,f),s.setBoolean(s.getHeight()-11+h,u,f)}}static embedDataBits(n,s,i){let o=0,u=-1,h=i.getWidth()-1,f=i.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<i.getHeight();){for(let p=0;p<2;++p){const m=h-p;if(!Ee.isEmpty(i.get(m,f)))continue;let v;o<n.getSize()?(v=n.get(o),++o):v=!1,s!==255&&ht.getDataMaskBit(s,m,f)&&(v=!v),i.setBoolean(m,f,v)}f+=u}u=-u,f+=u,h-=2}if(o!==n.getSize())throw new Ke("Not all bits consumed: "+o+"/"+n.getSize())}static findMSBSet(n){return 32-T.numberOfLeadingZeros(n)}static calculateBCHCode(n,s){if(s===0)throw new N("0 polynomial");const i=Ee.findMSBSet(s);for(n<<=i-1;Ee.findMSBSet(n)>=i;)n^=s<<Ee.findMSBSet(n)-i;return n}static makeTypeInfoBits(n,s,i){if(!us.isValidMaskPattern(s))throw new Ke("Invalid mask pattern");const o=n.getBits()<<3|s;i.appendBits(o,5);const u=Ee.calculateBCHCode(o,Ee.TYPE_INFO_POLY);i.appendBits(u,10);const h=new U;if(h.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),i.xor(h),i.getSize()!==15)throw new Ke("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(n,s){s.appendBits(n.getVersionNumber(),6);const i=Ee.calculateBCHCode(n.getVersionNumber(),Ee.VERSION_INFO_POLY);if(s.appendBits(i,12),s.getSize()!==18)throw new Ke("should not happen but we got: "+s.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let s=8;s<n.getWidth()-8;++s){const i=(s+1)%2;Ee.isEmpty(n.get(s,6))&&n.setNumber(s,6,i),Ee.isEmpty(n.get(6,s))&&n.setNumber(6,s,i)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ke;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,s,i){for(let o=0;o<8;++o){if(!Ee.isEmpty(i.get(n+o,s)))throw new Ke;i.setNumber(n+o,s,0)}}static embedVerticalSeparationPattern(n,s,i){for(let o=0;o<7;++o){if(!Ee.isEmpty(i.get(n,s+o)))throw new Ke;i.setNumber(n,s+o,0)}}static embedPositionAdjustmentPattern(n,s,i){for(let o=0;o<5;++o){const u=Ee.POSITION_ADJUSTMENT_PATTERN[o];for(let h=0;h<5;++h)i.setNumber(n+h,s+o,u[h])}}static embedPositionDetectionPattern(n,s,i){for(let o=0;o<7;++o){const u=Ee.POSITION_DETECTION_PATTERN[o];for(let h=0;h<7;++h)i.setNumber(n+h,s+o,u[h])}}static embedPositionDetectionPatternsAndSeparators(n){const s=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,n),Ee.embedPositionDetectionPattern(n.getWidth()-s,0,n),Ee.embedPositionDetectionPattern(0,n.getWidth()-s,n);const i=8;Ee.embedHorizontalSeparationPattern(0,i-1,n),Ee.embedHorizontalSeparationPattern(n.getWidth()-i,i-1,n),Ee.embedHorizontalSeparationPattern(0,n.getWidth()-i,n);const o=7;Ee.embedVerticalSeparationPattern(o,0,n),Ee.embedVerticalSeparationPattern(n.getHeight()-o-1,0,n),Ee.embedVerticalSeparationPattern(o,n.getHeight()-o,n)}static maybeEmbedPositionAdjustmentPatterns(n,s){if(n.getVersionNumber()<2)return;const i=n.getVersionNumber()-1,o=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let u=0,h=o.length;u!==h;u++){const f=o[u];if(f>=0)for(let p=0;p!==h;p++){const m=o[p];m>=0&&Ee.isEmpty(s.get(m,f))&&Ee.embedPositionAdjustmentPattern(m-2,f-2,s)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class gg{constructor(n,s){this.dataBytes=n,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class et{constructor(){}static calculateMaskPenalty(n){return ht.applyMaskPenaltyRule1(n)+ht.applyMaskPenaltyRule2(n)+ht.applyMaskPenaltyRule3(n)+ht.applyMaskPenaltyRule4(n)}static encode(n,s,i=null){let o=et.DEFAULT_BYTE_MODE_ENCODING;const u=i!==null&&i.get(St.CHARACTER_SET)!==void 0;u&&(o=i.get(St.CHARACTER_SET).toString());const h=this.chooseMode(n,o),f=new U;if(h===Ne.BYTE&&(u||et.DEFAULT_BYTE_MODE_ENCODING!==o)){const ae=$.getCharacterSetECIByName(o);ae!==void 0&&this.appendECI(ae,f)}this.appendModeInfo(h,f);const p=new U;this.appendBytes(n,h,p,o);let m;if(i!==null&&i.get(St.QR_VERSION)!==void 0){const ae=Number.parseInt(i.get(St.QR_VERSION).toString(),10);m=be.getVersionForNumber(ae);const te=this.calculateBitsNeeded(h,f,p,m);if(!this.willFit(te,m,s))throw new Ke("Data too big for requested version")}else m=this.recommendVersion(s,h,f,p);const v=new U;v.appendBitArray(f);const E=h===Ne.BYTE?p.getSizeInBytes():n.length;this.appendLengthInfo(E,m,h,v),v.appendBitArray(p);const S=m.getECBlocksForLevel(s),_=m.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(_,v);const B=this.interleaveWithECBytes(v,m.getTotalCodewords(),_,S.getNumBlocks()),F=new us;F.setECLevel(s),F.setMode(h),F.setVersion(m);const V=m.getDimensionForVersion(),Q=new Xa(V,V),se=this.chooseMaskPattern(B,s,m,Q);return F.setMaskPattern(se),Ee.buildMatrix(B,s,m,se,Q),F.setMatrix(Q),F}static recommendVersion(n,s,i,o){const u=this.calculateBitsNeeded(s,i,o,be.getVersionForNumber(1)),h=this.chooseVersion(u,n),f=this.calculateBitsNeeded(s,i,o,h);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,s,i,o){return s.getSize()+n.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(n){return n<et.ALPHANUMERIC_TABLE.length?et.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,s=null){if($.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(n))return Ne.KANJI;let i=!1,o=!1;for(let u=0,h=n.length;u<h;++u){const f=n.charAt(u);if(et.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return Ne.BYTE}return o?Ne.ALPHANUMERIC:i?Ne.NUMERIC:Ne.BYTE}static isOnlyDoubleByteKanji(n){let s;try{s=ce.encode(n,$.SJIS)}catch{return!1}const i=s.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const u=s[o]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,s,i,o){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<us.NUM_MASK_PATTERNS;f++){Ee.buildMatrix(n,s,i,f,o);let p=this.calculateMaskPenalty(o);p<u&&(u=p,h=f)}return h}static chooseVersion(n,s){for(let i=1;i<=40;i++){const o=be.getVersionForNumber(i);if(et.willFit(n,o,s))return o}throw new Ke("Data too big")}static willFit(n,s,i){const o=s.getTotalCodewords(),h=s.getECBlocksForLevel(i).getTotalECCodewords(),f=o-h,p=(n+7)/8;return f>=p}static terminateBits(n,s){const i=n*8;if(s.getSize()>i)throw new Ke("data bits cannot fit in the QR Code"+s.getSize()+" > "+i);for(let h=0;h<4&&s.getSize()<i;++h)s.appendBit(!1);const o=s.getSize()&7;if(o>0)for(let h=o;h<8;h++)s.appendBit(!1);const u=n-s.getSizeInBytes();for(let h=0;h<u;++h)s.appendBits(h&1?17:236,8);if(s.getSize()!==i)throw new Ke("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,s,i,o,u,h){if(o>=i)throw new Ke("Block ID too large");const f=n%i,p=i-f,m=Math.floor(n/i),v=m+1,E=Math.floor(s/i),S=E+1,_=m-E,B=v-S;if(_!==B)throw new Ke("EC bytes mismatch");if(i!==p+f)throw new Ke("RS blocks mismatch");if(n!==(E+_)*p+(S+B)*f)throw new Ke("Total bytes mismatch");o<p?(u[0]=E,h[0]=_):(u[0]=S,h[0]=B)}static interleaveWithECBytes(n,s,i,o){if(n.getSizeInBytes()!==i)throw new Ke("Number of bits and data bytes does not match");let u=0,h=0,f=0;const p=new Array;for(let v=0;v<o;++v){const E=new Int32Array(1),S=new Int32Array(1);et.getNumDataBytesAndNumECBytesForBlockID(s,i,o,v,E,S);const _=E[0],B=new Uint8Array(_);n.toBytes(8*u,B,0,_);const F=et.generateECBytes(B,S[0]);p.push(new gg(B,F)),h=Math.max(h,_),f=Math.max(f,F.length),u+=E[0]}if(i!==u)throw new Ke("Data bytes does not match offset");const m=new U;for(let v=0;v<h;++v)for(const E of p){const S=E.getDataBytes();v<S.length&&m.appendBits(S[v],8)}for(let v=0;v<f;++v)for(const E of p){const S=E.getErrorCorrectionBytes();v<S.length&&m.appendBits(S[v],8)}if(s!==m.getSizeInBytes())throw new Ke("Interleaving error: "+s+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(n,s){const i=n.length,o=new Int32Array(i+s);for(let h=0;h<i;h++)o[h]=n[h]&255;new qo(Fe.QR_CODE_FIELD_256).encode(o,s);const u=new Uint8Array(s);for(let h=0;h<s;h++)u[h]=o[i+h];return u}static appendModeInfo(n,s){s.appendBits(n.getBits(),4)}static appendLengthInfo(n,s,i,o){const u=i.getCharacterCountBits(s);if(n>=1<<u)throw new Ke(n+" is bigger than "+((1<<u)-1));o.appendBits(n,u)}static appendBytes(n,s,i,o){switch(s){case Ne.NUMERIC:et.appendNumericBytes(n,i);break;case Ne.ALPHANUMERIC:et.appendAlphanumericBytes(n,i);break;case Ne.BYTE:et.append8BitBytes(n,i,o);break;case Ne.KANJI:et.appendKanjiBytes(n,i);break;default:throw new Ke("Invalid mode: "+s)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const s=et.getDigit(n);return s>=0&&s<=9}static appendNumericBytes(n,s){const i=n.length;let o=0;for(;o<i;){const u=et.getDigit(n.charAt(o));if(o+2<i){const h=et.getDigit(n.charAt(o+1)),f=et.getDigit(n.charAt(o+2));s.appendBits(u*100+h*10+f,10),o+=3}else if(o+1<i){const h=et.getDigit(n.charAt(o+1));s.appendBits(u*10+h,7),o+=2}else s.appendBits(u,4),o++}}static appendAlphanumericBytes(n,s){const i=n.length;let o=0;for(;o<i;){const u=et.getAlphanumericCode(n.charCodeAt(o));if(u===-1)throw new Ke;if(o+1<i){const h=et.getAlphanumericCode(n.charCodeAt(o+1));if(h===-1)throw new Ke;s.appendBits(u*45+h,11),o+=2}else s.appendBits(u,6),o++}}static append8BitBytes(n,s,i){let o;try{o=ce.encode(n,i)}catch(u){throw new Ke(u)}for(let u=0,h=o.length;u!==h;u++){const f=o[u];s.appendBits(f,8)}}static appendKanjiBytes(n,s){let i;try{i=ce.encode(n,$.SJIS)}catch(u){throw new Ke(u)}const o=i.length;for(let u=0;u<o;u+=2){const h=i[u]&255,f=i[u+1]&255,p=h<<8&4294967295|f;let m=-1;if(p>=33088&&p<=40956?m=p-33088:p>=57408&&p<=60351&&(m=p-49472),m===-1)throw new Ke("Invalid byte sequence");const v=(m>>8)*192+(m&255);s.appendBits(v,13)}}static appendECI(n,s){s.appendBits(Ne.ECI.getBits(),4),s.appendBits(n.getValue(),8)}}et.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),et.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class ds{write(n,s,i,o=null){if(n.length===0)throw new N("Found empty contents");if(s<0||i<0)throw new N("Requested dimensions are too small: "+s+"x"+i);let u=$e.L,h=ds.QUIET_ZONE_SIZE;o!==null&&(o.get(St.ERROR_CORRECTION)!==void 0&&(u=$e.fromString(o.get(St.ERROR_CORRECTION).toString())),o.get(St.MARGIN)!==void 0&&(h=Number.parseInt(o.get(St.MARGIN).toString(),10)));const f=et.encode(n,u,o);return this.renderResult(f,s,i,h)}writeToDom(n,s,i,o,u=null){typeof n=="string"&&(n=document.querySelector(n));const h=this.write(s,i,o,u);n&&n.appendChild(h)}renderResult(n,s,i,o){const u=n.getMatrix();if(u===null)throw new Yn;const h=u.getWidth(),f=u.getHeight(),p=h+o*2,m=f+o*2,v=Math.max(s,p),E=Math.max(i,m),S=Math.min(Math.floor(v/p),Math.floor(E/m)),_=Math.floor((v-h*S)/2),B=Math.floor((E-f*S)/2),F=this.createSVGElement(v,E);for(let V=0,Q=B;V<f;V++,Q+=S)for(let se=0,ae=_;se<h;se++,ae+=S)if(u.get(se,V)===1){const te=this.createSvgRectElement(ae,Q,S,S);F.appendChild(te)}return F}createSVGElement(n,s){const i=document.createElementNS(ds.SVG_NS,"svg");return i.setAttributeNS(null,"height",n.toString()),i.setAttributeNS(null,"width",s.toString()),i}createSvgRectElement(n,s,i,o){const u=document.createElementNS(ds.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ds.QUIET_ZONE_SIZE=4,ds.SVG_NS="http://www.w3.org/2000/svg";class Ps{encode(n,s,i,o,u){if(n.length===0)throw new N("Found empty contents");if(s!==le.QR_CODE)throw new N("Can only encode QR_CODE, but got "+s);if(i<0||o<0)throw new N(`Requested dimensions are too small: ${i}x${o}`);let h=$e.L,f=Ps.QUIET_ZONE_SIZE;u!==null&&(u.get(St.ERROR_CORRECTION)!==void 0&&(h=$e.fromString(u.get(St.ERROR_CORRECTION).toString())),u.get(St.MARGIN)!==void 0&&(f=Number.parseInt(u.get(St.MARGIN).toString(),10)));const p=et.encode(n,h,u);return Ps.renderResult(p,i,o,f)}static renderResult(n,s,i,o){const u=n.getMatrix();if(u===null)throw new Yn;const h=u.getWidth(),f=u.getHeight(),p=h+o*2,m=f+o*2,v=Math.max(s,p),E=Math.max(i,m),S=Math.min(Math.floor(v/p),Math.floor(E/m)),_=Math.floor((v-h*S)/2),B=Math.floor((E-f*S)/2),F=new ie(v,E);for(let V=0,Q=B;V<f;V++,Q+=S)for(let se=0,ae=_;se<h;se++,ae+=S)u.get(se,V)===1&&F.setRegion(ae,Q,S,S);return F}}Ps.QUIET_ZONE_SIZE=4;class mg{encode(n,s,i,o,u){let h;switch(s){case le.QR_CODE:h=new Ps;break;default:throw new N("No encoder available for format "+s)}return h.encode(n,s,i,o,u)}}class qn extends G{constructor(n,s,i,o,u,h,f,p){if(super(h,f),this.yuvData=n,this.dataWidth=s,this.dataHeight=i,this.left=o,this.top=u,o+h>s||u+f>i)throw new N("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(h,f)}getRow(n,s){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const i=this.getWidth();(s==null||s.length<i)&&(s=new Uint8ClampedArray(i));const o=(n+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,o,s,0,i),s}getMatrix(){const n=this.getWidth(),s=this.getHeight();if(n===this.dataWidth&&s===this.dataHeight)return this.yuvData;const i=n*s,o=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return O.arraycopy(this.yuvData,u,o,0,i),o;for(let h=0;h<s;h++){const f=h*n;O.arraycopy(this.yuvData,u,o,f,n),u+=this.dataWidth}return o}isCropSupported(){return!0}crop(n,s,i,o){return new qn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+s,i,o,!1)}renderThumbnail(){const n=this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*s),o=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<s;h++){const f=h*n;for(let p=0;p<n;p++){const m=o[u+p*qn.THUMBNAIL_SCALE_FACTOR]&255;i[f+p]=4278190080|m*65793}u+=this.dataWidth*qn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/qn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,s){const i=this.yuvData;for(let o=0,u=this.top*this.dataWidth+this.left;o<s;o++,u+=this.dataWidth){const h=u+n/2;for(let f=u,p=u+n-1;f<h;f++,p--){const m=i[f];i[f]=i[p],i[p]=m}}}invert(){return new ue(this)}}qn.THUMBNAIL_SCALE_FACTOR=2;class $o extends G{constructor(n,s,i,o,u,h,f){if(super(s,i),this.dataWidth=o,this.dataHeight=u,this.left=h,this.top=f,n.BYTES_PER_ELEMENT===4){const p=s*i,m=new Uint8ClampedArray(p);for(let v=0;v<p;v++){const E=n[v],S=E>>16&255,_=E>>7&510,B=E&255;m[v]=(S+_+B)/4&255}this.luminances=m}else this.luminances=n;if(o===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=i),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+i>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(n,s){if(n<0||n>=this.getHeight())throw new N("Requested row is outside the image: "+n);const i=this.getWidth();(s==null||s.length<i)&&(s=new Uint8ClampedArray(i));const o=(n+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,o,s,0,i),s}getMatrix(){const n=this.getWidth(),s=this.getHeight();if(n===this.dataWidth&&s===this.dataHeight)return this.luminances;const i=n*s,o=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return O.arraycopy(this.luminances,u,o,0,i),o;for(let h=0;h<s;h++){const f=h*n;O.arraycopy(this.luminances,u,o,f,n),u+=this.dataWidth}return o}isCropSupported(){return!0}crop(n,s,i,o){return new $o(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+n,this.top+s)}invert(){return new ue(this)}}class C0 extends ${static forName(n){return this.getCharacterSetECIByName(n)}}class Jo{}Jo.ISO_8859_1=$.ISO8859_1;class E0{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class S0{static singletonList(n){return[n]}static min(n,s){return n.sort(s)[0]}}class yg{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Fs extends yg{constructor(n,s,i){super(n),this.value=s,this.bitCount=i}appendTo(n,s){n.appendBits(this.value,this.bitCount)}add(n,s){return new Fs(this,n,s)}addBinaryShift(n,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fs(this,n,s)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+T.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class ec extends Fs{constructor(n,s,i){super(n,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=i}appendTo(n,s){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(s[this.binaryShiftStart+i],8)}addBinaryShift(n,s){return new ec(this,n,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function wg(C,n,s){return new ec(C,n,s)}function Mi(C,n,s){return new Fs(C,n,s)}const bg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],_r=0,Ya=1,Tn=2,A0=3,$n=4,vg=new Fs(null,0,0),tc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ng(C){for(let n of C)I.fill(n,-1);return C[_r][$n]=0,C[Ya][$n]=0,C[Ya][_r]=28,C[A0][$n]=0,C[Tn][$n]=0,C[Tn][_r]=15,C}const T0=Ng(I.createInt32Array(6,6));class Jn{constructor(n,s,i,o){this.token=n,this.mode=s,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,s){let i=this.bitCount,o=this.token;if(n!==this.mode){let h=tc[this.mode][n];o=Mi(o,h&65535,h>>16),i+=h>>16}let u=n===Tn?4:5;return o=Mi(o,s,u),new Jn(o,n,0,i+u)}shiftAndAppend(n,s){let i=this.token,o=this.mode===Tn?4:5;return i=Mi(i,T0[this.mode][n],o),i=Mi(i,s,5),new Jn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(n){let s=this.token,i=this.mode,o=this.bitCount;if(this.mode===$n||this.mode===Tn){let f=tc[i][_r];s=Mi(s,f&65535,f>>16),o+=f>>16,i=_r}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Jn(s,i,this.binaryShiftByteCount+1,o+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(n+1)),h}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=wg(s,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Jn(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let s=this.bitCount+(tc[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?s+=Jn.calculateBinaryShiftCost(n)-Jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(s+=10),s<=n.bitCount}toBitArray(n){let s=[];for(let o=this.endBinaryShift(n.length).token;o!==null;o=o.getPrevious())s.unshift(o);let i=new U;for(const o of s)o.appendTo(i,n);return i}toString(){return de.format("%s bits=%d bytes=%d",bg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Jn.INITIAL_STATE=new Jn(vg,_r,0,0);function Cg(C){const n=de.getCharCode(" "),s=de.getCharCode("."),i=de.getCharCode(",");C[_r][n]=1;const o=de.getCharCode("Z"),u=de.getCharCode("A");for(let S=u;S<=o;S++)C[_r][S]=S-u+2;C[Ya][n]=1;const h=de.getCharCode("z"),f=de.getCharCode("a");for(let S=f;S<=h;S++)C[Ya][S]=S-f+2;C[Tn][n]=1;const p=de.getCharCode("9"),m=de.getCharCode("0");for(let S=m;S<=p;S++)C[Tn][S]=S-m+2;C[Tn][i]=12,C[Tn][s]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<v.length;S++)C[A0][de.getCharCode(v[S])]=S;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<E.length;S++)de.getCharCode(E[S])>0&&(C[$n][de.getCharCode(E[S])]=S);return C}const nc=Cg(I.createInt32Array(5,256));class Ri{constructor(n){this.text=n}encode(){const n=de.getCharCode(" "),s=de.getCharCode(`
`);let i=S0.singletonList(Jn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,f=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case de.getCharCode("\r"):h=f===s?2:0;break;case de.getCharCode("."):h=f===n?3:0;break;case de.getCharCode(","):h=f===n?4:0;break;case de.getCharCode(":"):h=f===n?5:0;break;default:h=0}h>0?(i=Ri.updateStateListForPair(i,u,h),u++):i=this.updateStateListForChar(i,u)}return S0.min(i,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,s){const i=[];for(let o of n)this.updateStateForChar(o,s,i);return Ri.simplifyStates(i)}updateStateForChar(n,s,i){let o=this.text[s]&255,u=nc[n.getMode()][o]>0,h=null;for(let f=0;f<=$n;f++){let p=nc[f][o];if(p>0){if(h==null&&(h=n.endBinaryShift(s)),!u||f===n.getMode()||f===Tn){const m=h.latchAndAppend(f,p);i.push(m)}if(!u&&T0[n.getMode()][f]>=0){const m=h.shiftAndAppend(f,p);i.push(m)}}}if(n.getBinaryShiftByteCount()>0||nc[n.getMode()][o]===0){let f=n.addBinaryShiftChar(s);i.push(f)}}static updateStateListForPair(n,s,i){const o=[];for(let u of n)this.updateStateForPair(u,s,i,o);return this.simplifyStates(o)}static updateStateForPair(n,s,i,o){let u=n.endBinaryShift(s);if(o.push(u.latchAndAppend($n,i)),n.getMode()!==$n&&o.push(u.shiftAndAppend($n,i)),i===3||i===4){let h=u.latchAndAppend(Tn,16-i).latchAndAppend(Tn,1);o.push(h)}if(n.getBinaryShiftByteCount()>0){let h=n.addBinaryShiftChar(s).addBinaryShiftChar(s+1);o.push(h)}}static simplifyStates(n){let s=[];for(const i of n){let o=!0;for(const u of s){if(u.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(u)&&(s=s.filter(h=>h!==u))}o&&s.push(i)}return s}}class Be{constructor(){}static encodeBytes(n){return Be.encode(n,Be.DEFAULT_EC_PERCENT,Be.DEFAULT_AZTEC_LAYERS)}static encode(n,s,i){let o=new Ri(n).encode(),u=T.truncDivision(o.getSize()*s,100)+11,h=o.getSize()+u,f,p,m,v,E;if(i!==Be.DEFAULT_AZTEC_LAYERS){if(f=i<0,p=Math.abs(i),p>(f?Be.MAX_NB_BITS_COMPACT:Be.MAX_NB_BITS))throw new N(de.format("Illegal value %s for layers",i));m=Be.totalBitsInLayer(p,f),v=Be.WORD_SIZE[p];let te=m-m%v;if(E=Be.stuffBits(o,v),E.getSize()+u>te)throw new N("Data to large for user specified layer");if(f&&E.getSize()>v*64)throw new N("Data to large for user specified layer")}else{v=0,E=null;for(let te=0;;te++){if(te>Be.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(f=te<=3,p=f?te+1:te,m=Be.totalBitsInLayer(p,f),h>m)continue;(E==null||v!==Be.WORD_SIZE[p])&&(v=Be.WORD_SIZE[p],E=Be.stuffBits(o,v));let Re=m-m%v;if(!(f&&E.getSize()>v*64)&&E.getSize()+u<=Re)break}}let S=Be.generateCheckWords(E,m,v),_=E.getSize()/v,B=Be.generateModeMessage(f,p,_),F=(f?11:14)+p*4,V=new Int32Array(F),Q;if(f){Q=F;for(let te=0;te<V.length;te++)V[te]=te}else{Q=F+1+2*T.truncDivision(T.truncDivision(F,2)-1,15);let te=T.truncDivision(F,2),Re=T.truncDivision(Q,2);for(let Ie=0;Ie<te;Ie++){let sn=Ie+T.truncDivision(Ie,15);V[te-Ie-1]=Re-sn-1,V[te+Ie]=Re+sn+1}}let se=new ie(Q);for(let te=0,Re=0;te<p;te++){let Ie=(p-te)*4+(f?9:12);for(let sn=0;sn<Ie;sn++){let Bn=sn*2;for(let an=0;an<2;an++)S.get(Re+Bn+an)&&se.set(V[te*2+an],V[te*2+sn]),S.get(Re+Ie*2+Bn+an)&&se.set(V[te*2+sn],V[F-1-te*2-an]),S.get(Re+Ie*4+Bn+an)&&se.set(V[F-1-te*2-an],V[F-1-te*2-sn]),S.get(Re+Ie*6+Bn+an)&&se.set(V[F-1-te*2-sn],V[te*2+an])}Re+=Ie*8}if(Be.drawModeMessage(se,f,Q,B),f)Be.drawBullsEye(se,T.truncDivision(Q,2),5);else{Be.drawBullsEye(se,T.truncDivision(Q,2),7);for(let te=0,Re=0;te<T.truncDivision(F,2)-1;te+=15,Re+=16)for(let Ie=T.truncDivision(Q,2)&1;Ie<Q;Ie+=2)se.set(T.truncDivision(Q,2)-Re,Ie),se.set(T.truncDivision(Q,2)+Re,Ie),se.set(Ie,T.truncDivision(Q,2)-Re),se.set(Ie,T.truncDivision(Q,2)+Re)}let ae=new E0;return ae.setCompact(f),ae.setSize(Q),ae.setLayers(p),ae.setCodeWords(_),ae.setMatrix(se),ae}static drawBullsEye(n,s,i){for(let o=0;o<i;o+=2)for(let u=s-o;u<=s+o;u++)n.set(u,s-o),n.set(u,s+o),n.set(s-o,u),n.set(s+o,u);n.set(s-i,s-i),n.set(s-i+1,s-i),n.set(s-i,s-i+1),n.set(s+i,s-i),n.set(s+i,s-i+1),n.set(s+i,s+i-1)}static generateModeMessage(n,s,i){let o=new U;return n?(o.appendBits(s-1,2),o.appendBits(i-1,6),o=Be.generateCheckWords(o,28,4)):(o.appendBits(s-1,5),o.appendBits(i-1,11),o=Be.generateCheckWords(o,40,4)),o}static drawModeMessage(n,s,i,o){let u=T.truncDivision(i,2);if(s)for(let h=0;h<7;h++){let f=u-3+h;o.get(h)&&n.set(f,u-5),o.get(h+7)&&n.set(u+5,f),o.get(20-h)&&n.set(f,u+5),o.get(27-h)&&n.set(u-5,f)}else for(let h=0;h<10;h++){let f=u-5+h+T.truncDivision(h,5);o.get(h)&&n.set(f,u-7),o.get(h+10)&&n.set(u+7,f),o.get(29-h)&&n.set(f,u+7),o.get(39-h)&&n.set(u-7,f)}}static generateCheckWords(n,s,i){let o=n.getSize()/i,u=new qo(Be.getGF(i)),h=T.truncDivision(s,i),f=Be.bitsToWords(n,i,h);u.encode(f,h-o);let p=s%i,m=new U;m.appendBits(0,p);for(const v of Array.from(f))m.appendBits(v,i);return m}static bitsToWords(n,s,i){let o=new Int32Array(i),u,h;for(u=0,h=n.getSize()/s;u<h;u++){let f=0;for(let p=0;p<s;p++)f|=n.get(u*s+p)?1<<s-p-1:0;o[u]=f}return o}static getGF(n){switch(n){case 4:return Fe.AZTEC_PARAM;case 6:return Fe.AZTEC_DATA_6;case 8:return Fe.AZTEC_DATA_8;case 10:return Fe.AZTEC_DATA_10;case 12:return Fe.AZTEC_DATA_12;default:throw new N("Unsupported word size "+n)}}static stuffBits(n,s){let i=new U,o=n.getSize(),u=(1<<s)-2;for(let h=0;h<o;h+=s){let f=0;for(let p=0;p<s;p++)(h+p>=o||n.get(h+p))&&(f|=1<<s-1-p);(f&u)===u?(i.appendBits(f&u,s),h--):f&u?i.appendBits(f,s):(i.appendBits(f|1,s),h--)}return i}static totalBitsInLayer(n,s){return((s?88:112)+16*n)*n}}Be.DEFAULT_EC_PERCENT=33,Be.DEFAULT_AZTEC_LAYERS=0,Be.MAX_NB_BITS=32,Be.MAX_NB_BITS_COMPACT=4,Be.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ka{encode(n,s,i,o){return this.encodeWithHints(n,s,i,o,null)}encodeWithHints(n,s,i,o,u){let h=Jo.ISO_8859_1,f=Be.DEFAULT_EC_PERCENT,p=Be.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(St.CHARACTER_SET)&&(h=C0.forName(u.get(St.CHARACTER_SET).toString())),u.has(St.ERROR_CORRECTION)&&(f=T.parseInt(u.get(St.ERROR_CORRECTION).toString())),u.has(St.AZTEC_LAYERS)&&(p=T.parseInt(u.get(St.AZTEC_LAYERS).toString()))),Ka.encodeLayers(n,s,i,o,h,f,p)}static encodeLayers(n,s,i,o,u,h,f){if(s!==le.AZTEC)throw new N("Can only encode AZTEC, but got "+s);let p=Be.encode(de.getBytes(n,u),h,f);return Ka.renderResult(p,i,o)}static renderResult(n,s,i){let o=n.getMatrix();if(o==null)throw new Yn;let u=o.getWidth(),h=o.getHeight(),f=Math.max(s,u),p=Math.max(i,h),m=Math.min(f/u,p/h),v=(f-u*m)/2,E=(p-h*m)/2,S=new ie(f,p);for(let _=0,B=E;_<h;_++,B+=m)for(let F=0,V=v;F<u;F++,V+=m)o.get(F,_)&&S.setRegion(V,B,m,m);return S}}r.AbstractExpandedDecoder=zo,r.ArgumentException=b,r.ArithmeticException=La,r.AztecCode=E0,r.AztecCodeReader=Fa,r.AztecCodeWriter=Ka,r.AztecDecoder=qe,r.AztecDetector=u0,r.AztecDetectorResult=o0,r.AztecEncoder=Be,r.AztecHighLevelEncoder=Ri,r.AztecPoint=Yt,r.BarcodeFormat=le,r.Binarizer=R,r.BinaryBitmap=A,r.BitArray=U,r.BitMatrix=ie,r.BitSource=Go,r.BrowserAztecCodeReader=Qp,r.BrowserBarcodeReader=eg,r.BrowserCodeReader=X,r.BrowserDatamatrixCodeReader=ng,r.BrowserMultiFormatReader=fg,r.BrowserPDF417Reader=xg,r.BrowserQRCodeReader=pg,r.BrowserQRCodeSvgWriter=ds,r.CharacterSetECI=$,r.ChecksumException=D,r.Code128Reader=oe,r.Code39Reader=Ct,r.DataMatrixDecodedBitStreamParser=Tr,r.DataMatrixReader=Ir,r.DecodeHintType=P,r.DecoderResult=Mt,r.DefaultGridSampler=c0,r.DetectorResult=Pa,r.EAN13Reader=as,r.EncodeHintType=St,r.Exception=g,r.FormatException=z,r.GenericGF=Fe,r.GenericGFPoly=en,r.GlobalHistogramBinarizer=Ce,r.GridSampler=Bo,r.GridSamplerInstance=Sr,r.HTMLCanvasElementLuminanceSource=me,r.HybridBinarizer=ne,r.ITFReader=Ye,r.IllegalArgumentException=N,r.IllegalStateException=Yn,r.InvertedLuminanceSource=ue,r.LuminanceSource=G,r.MathUtils=Le,r.MultiFormatOneDReader=Ls,r.MultiFormatReader=N0,r.MultiFormatWriter=mg,r.NotFoundException=Y,r.OneDReader=vt,r.PDF417DecodedBitStreamParser=K,r.PDF417DecoderErrorCorrection=g0,r.PDF417Reader=Dt,r.PDF417ResultMetadata=y0,r.PerspectiveTransform=Dn,r.PlanarYUVLuminanceSource=qn,r.QRCodeByteMatrix=Xa,r.QRCodeDataMask=Sn,r.QRCodeDecodedBitStreamParser=it,r.QRCodeDecoderErrorCorrectionLevel=$e,r.QRCodeDecoderFormatInformation=zt,r.QRCodeEncoder=et,r.QRCodeEncoderQRCode=us,r.QRCodeMaskUtil=ht,r.QRCodeMatrixUtil=Ee,r.QRCodeMode=Ne,r.QRCodeReader=jr,r.QRCodeVersion=be,r.QRCodeWriter=Ps,r.RGBLuminanceSource=$o,r.RSS14Reader=dt,r.RSSExpandedReader=ee,r.ReaderException=Ga,r.ReedSolomonDecoder=Ei,r.ReedSolomonEncoder=qo,r.ReedSolomonException=Ms,r.Result=q,r.ResultMetadataType=Ze,r.ResultPoint=ye,r.StringUtils=de,r.UnsupportedOperationException=ge,r.VideoInputDevice=Te,r.WhiteRectangleDetector=lr,r.WriterException=Ke,r.ZXingArrays=I,r.ZXingCharset=C0,r.ZXingInteger=T,r.ZXingStandardCharsets=Jo,r.ZXingStringBuilder=he,r.ZXingStringEncoding=ce,r.ZXingSystem=O,r.createAbstractExpandedDecoder=x0,Object.defineProperty(r,"__esModule",{value:!0})})})(Ku,Ku.exports);var at=Ku.exports;const S3=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var yf=function(){function e(t,r,a){if(this.formatMap=new Map([[xe.QR_CODE,at.BarcodeFormat.QR_CODE],[xe.AZTEC,at.BarcodeFormat.AZTEC],[xe.CODABAR,at.BarcodeFormat.CODABAR],[xe.CODE_39,at.BarcodeFormat.CODE_39],[xe.CODE_93,at.BarcodeFormat.CODE_93],[xe.CODE_128,at.BarcodeFormat.CODE_128],[xe.DATA_MATRIX,at.BarcodeFormat.DATA_MATRIX],[xe.MAXICODE,at.BarcodeFormat.MAXICODE],[xe.ITF,at.BarcodeFormat.ITF],[xe.EAN_13,at.BarcodeFormat.EAN_13],[xe.EAN_8,at.BarcodeFormat.EAN_8],[xe.PDF_417,at.BarcodeFormat.PDF_417],[xe.RSS_14,at.BarcodeFormat.RSS_14],[xe.RSS_EXPANDED,at.BarcodeFormat.RSS_EXPANDED],[xe.UPC_A,at.BarcodeFormat.UPC_A],[xe.UPC_E,at.BarcodeFormat.UPC_E],[xe.UPC_EAN_EXTENSION,at.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!S3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=a;var c=this.createZXingFormats(t),d=new Map;d.set(at.DecodeHintType.POSSIBLE_FORMATS,c),d.set(at.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(a,c){try{a(r.decode(t))}catch(d){c(d)}})},e.prototype.decode=function(t){var r=new at.MultiFormatReader(this.verbose,this.hints),a=new at.HTMLCanvasElementLuminanceSource(t),c=new at.BinaryBitmap(new at.HybridBinarizer(a)),d=r.decode(c);return{text:d.text,format:Rp.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,c){t.set(r,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],a=0,c=t;a<c.length;a++){var d=c[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),A3=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},T3=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},wf=function(){function e(t,r,a){if(this.formatMap=new Map([[xe.QR_CODE,"qr_code"],[xe.AZTEC,"aztec"],[xe.CODABAR,"codabar"],[xe.CODE_39,"code_39"],[xe.CODE_93,"code_93"],[xe.CODE_128,"code_128"],[xe.DATA_MATRIX,"data_matrix"],[xe.ITF,"itf"],[xe.EAN_13,"ean_13"],[xe.EAN_8,"ean_8"],[xe.PDF_417,"pdf417"],[xe.UPC_A,"upc_a"],[xe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=a;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return A3(this,void 0,void 0,function(){var r,a;return T3(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=c.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(r),[2,{text:a.rawValue,format:Rp.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,a=0,c=0,d=t;c<d.length;c++){var x=d[c],y=x.boundingBox.width*x.boundingBox.height;y>a&&(a=y,r=x)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],a=0,c=t;a<c.length;a++){var d=c[a];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,c){t.set(r,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),bf=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},vf=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},I3=function(){function e(t,r,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,r&&wf.isSupported()?(this.primaryDecoder=new wf(t,a,c),this.secondaryDecoder=new yf(t,a,c)):this.primaryDecoder=new yf(t,a,c)}return e.prototype.decodeAsync=function(t){return bf(this,void 0,void 0,function(){var r;return vf(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return bf(this,void 0,void 0,function(){var r,a;return vf(this,function(c){switch(c.label){case 0:r=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,a=this.executionResults;r<a.length;r++){var c=a[r];t+=c}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),s0=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),lo=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},oo=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Bp=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),j3=function(e){s0(t,e);function t(r,a){return e.call(this,r,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var a={};a[this.name]=r;var c={advanced:[a]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),a=r[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Bp),k3=function(e){s0(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(j3),_3=function(e){s0(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Bp),M3=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new k3(this.track)},e.prototype.torchFeature=function(){return new _3(this.track)},e}(),R3=function(){function e(t,r,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var a=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,c),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,a,c){return lo(this,void 0,void 0,function(){var d,x;return oo(this,function(y){switch(y.label){case 0:return d=new e(t,r,c),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:y.sent(),y.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,a=function(){setTimeout(t,200),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return lo(this,void 0,void 0,function(){return oo(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,a){var c=t.mediaStream.getVideoTracks(),d=c.length,x=0;t.mediaStream.getVideoTracks().forEach(function(y){t.mediaStream.removeTrack(y),y.stop(),++x,x>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new M3(this.getFirstTrackOrFail())},e}(),O3=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,a){return lo(this,void 0,void 0,function(){return oo(this,function(c){return[2,R3.create(t,this.mediaStream,r,a)]})})},e.create=function(t){return lo(this,void 0,void 0,function(){var r,a;return oo(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),Nf=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},Cf=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},D3=function(){function e(){}return e.failIfNotSupported=function(){return Nf(this,void 0,void 0,function(){return Cf(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Nf(this,void 0,void 0,function(){return Cf(this,function(r){return[2,O3.create(t)]})})},e}(),L3=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},B3=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},P3=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ti.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ti.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return L3(this,void 0,void 0,function(){var t,r,a,c,d,x,y;return B3(this,function(w){switch(w.label){case 0:return t=function(g){for(var b=g.getVideoTracks(),N=0,A=b;N<A.length;N++){var D=A[N];D.enabled=!1,D.stop(),g.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=w.sent(),c=[],d=0,x=a;d<x.length;d++)y=x[d],y.kind==="videoinput"&&c.push({id:y.deviceId,label:y.label});return t(r),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var a=function(d){for(var x=[],y=0,w=d;y<w.length;y++){var g=w[y];g.kind==="video"&&x.push({id:g.id,label:g.label})}t(x)},c=MediaStreamTrack;c.getSources(a)})},e}(),ft;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ft||(ft={}));var F3=function(){function e(){this.state=ft.NOT_STARTED,this.onGoingTransactionNewState=ft.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ft.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ft.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ft.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ft.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ft.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ft.UNKNOWN:throw"Transition from unknown is not allowed";case ft.NOT_STARTED:this.failIfNewStateIs(t,[ft.PAUSED]);break;case ft.SCANNING:break;case ft.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var a=0,c=r;a<c.length;a++){var d=c[a];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),U3=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ft.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ft.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ft.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ft.PAUSED},e}(),z3=function(){function e(){}return e.create=function(){return new U3(new F3)},e}(),H3=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),pn=function(e){H3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(zn),V3=function(){function e(t,r){this.logger=r,this.fps=pn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=pn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Lp.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!nr(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Ef=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof r=="boolean"?this.verbose=r===!0:r&&(a=r,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Dp(this.verbose),this.qrcode=new I3(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=z3.create()}return e.prototype.start=function(t,r,a,c){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var y=V3.create(r,this.logger);this.clearElement();var w=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=w,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:pn.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var N=this,A=this.stateManagerProxy.startTransition(ft.SCANNING);return new Promise(function(D,R){var O=g?y.videoConstraints:N.createVideoConstraints(t);if(!O){A.cancel(),R("videoConstraints should be defined");return}var L={};(!g||y.aspectRatio)&&(L.aspectRatio=y.aspectRatio);var j={onRenderSurfaceReady:function(I,T){N.setupUi(I,T,y),N.isScanning=!0,N.foreverScan(y,a,x)}};D3.failIfNotSupported().then(function(I){I.create(O).then(function(T){return T.render(d.element,L,j).then(function(U){N.renderedCamera=U,A.execute(),D(null)}).catch(function(U){A.cancel(),R(U)})}).catch(function(T){A.cancel(),R(ti.errorGettingUserMedia(T))})}).catch(function(I){A.cancel(),R(ti.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ft.PAUSED),this.showPausedState(),(nr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ft.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ft.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var d=document.getElementById(pn.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),r.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,r){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(nr(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var x=new Image;x.onload=function(){var y=x.width,w=x.height,g=document.getElementById(a.elementId),b=g.clientWidth?g.clientWidth:pn.DEFAULT_WIDTH,N=Math.max(g.clientHeight?g.clientHeight:w,pn.FILE_SCAN_MIN_HEIGHT),A=a.computeCanvasDrawConfig(y,w,b,N);if(r){var D=a.createCanvasElement(b,N,"qr-canvas-visible");D.style.display="inline-block",g.appendChild(D);var R=D.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=b,R.canvas.height=N,R.drawImage(x,0,0,y,w,A.x,A.y,A.width,A.height)}var O=pn.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(x.width,A.width),j=Math.max(x.height,A.height),I=L+2*O,T=j+2*O,U=a.createCanvasElement(I,T);g.appendChild(U);var H=U.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=I,H.canvas.height=T,H.drawImage(x,0,0,y,w,O,O,L,j);try{a.qrcode.decodeRobustlyAsync(U).then(function(P){c(gf.createFromQrcodeResult(P))}).catch(d)}catch(P){d("QR code parse error, error = ".concat(P))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return P3.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Lp.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[xe.QR_CODE,xe.AZTEC,xe.CODABAR,xe.CODE_39,xe.CODE_93,xe.CODE_128,xe.DATA_MATRIX,xe.MAXICODE,xe.ITF,xe.EAN_13,xe.EAN_8,xe.PDF_417,xe.RSS_14,xe.RSS_EXPANDED,xe.UPC_A,xe.UPC_E,xe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=t.formatsToSupport;c<d.length;c++){var x=d[c];C3(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(nr(t))return!0;if(!nr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(nr(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return nr(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(t,r,d),y=function(g){if(g<pn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pn.MIN_QR_BOX_SIZE,"px.")},w=function(g){return g>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};y(x.width),y(x.height),x.width=w(x.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,r)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(t,r,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,a);var c=nr(a.qrbox)?{width:t,height:r}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,r,c);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=r,y={x:0,y:0,width:t,height:r},w=x?this.getShadedRegionBounds(t,r,d):y,g=this.createCanvasElement(w.width,w.height),b={willReadFrequently:!0},N=g.getContext("2d",b);N.canvas.width=w.width,N.canvas.height=w.height,this.element.append(g),x&&this.possiblyInsertShadingElement(this.element,t,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=N,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=ti.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,gf.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=ti.codeParseError(c);return r(d,Op.createFrom(d)),!1})},e.prototype.foreverScan=function(t,r,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,y=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*x,g=this.qrRegion.height*y,b=this.qrRegion.x*x,N=this.qrRegion.y*y;this.context.drawImage(d,b,N,w,g,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,r,a)},c.getTimeoutFps(t.fps))};this.scanContext(r,a).then(function(D){!D&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(r,a).finally(function(){A()})):A()}).catch(function(D){c.logger.logError("Error happend while scanning context",D),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",x=function(R){if(R in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},y=Object.keys(t);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var w=Object.keys(t)[0];if(w!==r&&w!==a)throw"Only '".concat(r,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(w===r){var g=t.facingMode;if(typeof g=="string"){if(x(g))return{facingMode:g}}else if(typeof g=="object")if(d in g){if(x(g["".concat(d)]))return{facingMode:{exact:g["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var b=typeof g;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var N=t.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(d in N)return{deviceId:{exact:N["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var A=typeof N;throw"Invalid type of 'deviceId' = ".concat(A)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(t,r,a,c){if(t<=a&&r<=c){var d=(a-t)/2,x=(c-r)/2;return{x:d,y:x,width:t,height:r}}else{var y=t,w=r;return t>a&&(r=a/t*r,t=a),r>c&&(t=c/r*t,r=c),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(w)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?pn.BORDER_SHADER_MATCH_COLOR:pn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,a){var c=t,d=r,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=nr(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(t,r,a){if(a.width>t||a.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(r-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,r,a,c){if(!(r-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(r-c.width)/2,y=(a-c.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(pn.SHADED_REGION_ELEMENT_ID),r-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var w=5,g=40;this.insertShaderBorders(d,g,w,-w,null,0,!0),this.insertShaderBorders(d,g,w,-w,null,0,!1),this.insertShaderBorders(d,g,w,null,-w,0,!0),this.insertShaderBorders(d,g,w,null,-w,0,!1),this.insertShaderBorders(d,w,g+w,-w,null,-w,!0),this.insertShaderBorders(d,w,g+w,null,-w,-w,!0),this.insertShaderBorders(d,w,g+w,-w,null,-w,!1),this.insertShaderBorders(d,w,g+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,r,a,c,d,x,y){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=pn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(r,"px"),w.style.height="".concat(a,"px"),c!==null&&(w.style.top="".concat(c,"px")),d!==null&&(w.style.bottom="".concat(d,"px")),y?w.style.left="".concat(x,"px"):w.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),i0="data:image/svg+xml;base64,",W3=i0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",G3=i0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Sf=i0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",X3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Af=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Y3=function(){function e(){this.data=Af.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Af.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),K3=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=mf.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var d=document.createElement("a");d.innerText=mf.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Q3=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Sf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return r.onHoverIn()},this.infoIcon.onmouseout=function(a){return r.onHoverOut()},this.infoIcon.onclick=function(a){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=X3,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Sf,this.infoIcon.style.opacity="0.6")},e}(),Z3=function(){function e(){var t=this;this.infoDiv=new K3,this.infoIcon=new Q3(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),q3=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},$3=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Tf=function(){function e(){}return e.hasPermissions=function(){return q3(this,void 0,void 0,function(){var t,r,a,c;return $3(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=d.sent(),r=0,a=t;r<a.length;r++)if(c=a[r],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),Rr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var a=r[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===Jr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Jr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return zn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=zn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var a=0,c=t;a<c.length;a++){var d=c[a];if(!zn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return t},e}(),yn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),xr=function(){function e(){}return e.createElement=function(t,r){var a=document.createElement(t);return a.id=r,a.classList.add(yn.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),Pp=function(e,t,r,a){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function y(b){try{g(a.next(b))}catch(N){x(N)}}function w(b){try{g(a.throw(b))}catch(N){x(N)}}function g(b){b.done?d(b.value):c(b.value).then(y,w)}g((a=a.apply(e,t||[])).next())})},Fp=function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function y(g){return function(b){return w([g,b])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,g[0]&&(r=0)),r;)try{if(a=1,c&&(d=g[0]&2?c.return:g[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,g[1])).done)return d;switch(c=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,c=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){r.label=g[1];break}if(g[0]===6&&r.label<d[1]){r.label=d[1],d=g;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(g);break}d[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],c=0}finally{a=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},If=function(){function e(t,r,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Pp(this,void 0,void 0,function(){var t,r;return Fp(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=a.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Ve.torchOffButton():Ve.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var a=t?Ve.torchOnFailedMessage():Ve.torchOffFailedMessage();r&&(a+="; Error = "+r),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),J3=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=xr.createElement("button",yn.TORCH_BUTTON_ID),this.torchController=new If(t,this,r)}return e.prototype.render=function(t,r){var a=this;this.torchButton.innerText=Ve.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var c=this;this.torchButton.addEventListener("click",function(d){return Pp(a,void 0,void 0,function(){return Fp(this,function(x){switch(x.label){case 0:return[4,c.torchController.flipState()];case 1:return x.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(yn.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(yn.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(yn.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(yn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new If(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ve.torchOnButton(),this.torchController.reset()},e.create=function(t,r,a,c){var d=new e(r,c);return d.render(t,a),d},e}(),ev=function(){function e(t,r,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=xr.createElement("button",yn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=xr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var w=y.target;if(!(w.files&&w.files.length===0)){var g=w.files,b=g[0],N=b.name;d.setImageNameToButton(N),a(b)}}});var x=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(x),this.fileBasedScanRegion.addEventListener("dragenter",function(y){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var w=y.dataTransfer;if(w){var g=w.files;if(!g||g.length===0)return;for(var b=!1,N=0;N<g.length;++N){var A=g.item(N);if(A){var D=/image.*/;if(A.type.match(D)){b=!0;var R=A.name;d.setImageNameToButton(R),a(A),x.innerText=Ve.dragAndDropMessage();break}}}b||(x.innerText=Ve.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ve.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var a=t.substring(0,8),c=t.length,d=t.substring(c-8,c);t="".concat(a,"....").concat(d)}var x=Ve.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=x},e.prototype.setInitialValueToButton=function(){var t=Ve.fileSelectionChooseImage()+" - "+Ve.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,a){var c=new e(t,r,a);return c},e}(),tv=function(){function e(t){this.selectElement=xr.createElement("select",yn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)r.style.display="none";else{var c=Ve.selectCamera();r.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var d=1,x=0,y=this.cameras;x<y.length;x++){var w=y[x],g=w.id,b=w.label==null?g:w.label;(!b||b==="")&&(b=[Ve.anonymousCameraPrefix(),d++].join(" "));var N=document.createElement("option");N.value=g,N.innerText=b,this.options.push(N),this.selectElement.appendChild(N)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,a=this.options;r<a.length;r++){var c=a[r];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var a=new e(r);return a.render(t),a},e}(),nv=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xr.createElement("input",yn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=Ve.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ve.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,a,c){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var a=new e;return a.render(t,r),a},e}(),gn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(gn||(gn={}));function rv(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function sv(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Up=function(){function e(t,r,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Rr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Dp(this.verbose),this.persistedDataManager=new Y3,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,x){if(t)t(d,x);else{if(a.lastMatchFound===d)return;a.lastMatchFound=d,a.setHeaderMessage(Ve.lastMatch(d),gn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,x){r&&r(d,x)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new Ef(this.getScanRegionId(),sv(this.config,this.verbose))},e.prototype.pause=function(t){(nr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(d){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),r(),a()}).catch(function(d){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",d),c(d)}):(t.html5Qrcode.clear(),r(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=zn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!zn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=zn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=zn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:zn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:zn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:zn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),a=this.getScanRegionId();r.id=a,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Rr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),d=this.getDashboardId();c.id=d,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var a=new Z3;a.renderInto(r);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",r.appendChild(c)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(Ve.cameraPermissionRequesting());var d=function(){a||c.createPermissionButton(t,r)};Ef.getCameras().then(function(x){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),x&&x.length>0?(t.removeChild(r),c.renderCameraSelection(x)):(c.setHeaderMessage(Ve.noCameraFound(),gn.STATUS_WARNING),d())}).catch(function(x){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:d(),c.setHeaderMessage(x,gn.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var a=this,c=xr.createElement("button",this.getCameraPermissionButtonId());c.innerText=Ve.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(t,r,c)}),r.appendChild(c)},e.prototype.createPermissionsUi=function(t,r){var a=this;if(Rr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Tf.hasPermissions().then(function(c){c?a.createCameraListUi(t,r):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Rr.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Rr.isFileScanType(this.currentScanType),a=this,c=function(d){if(!a.html5Qrcode)throw"html5Qrcode not defined";Rr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(Ve.loadingImage()),a.html5Qrcode.scanFileV2(d,!0).then(function(x){a.resetHeaderMessage(),a.qrCodeSuccessCallback(x.decodedText,x)}).catch(function(x){a.setHeaderMessage(x,gn.STATUS_WARNING),a.qrCodeErrorCallback(x,Op.createFrom(x))}))};this.fileSelectionUi=ev.create(t,r,c)},e.prototype.renderCameraSelection=function(t){var r=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var d=nv.create(c,!1),x=function(O){var L=O.zoomFeature();if(L.isSupported()){d.setOnCameraZoomValueChangeCallback(function(I){L.apply(I)});var j=1;r.config.defaultZoomValueIfSupported&&(j=r.config.defaultZoomValueIfSupported),j=E3(j,L.min(),L.max()),d.setValues(L.min(),L.max(),j,L.step()),d.show()}},y=tv.create(c,t),w=document.createElement("span"),g=xr.createElement("button",yn.CAMERA_START_BUTTON_ID);g.innerText=Ve.scanButtonStartScanningText(),w.appendChild(g);var b=xr.createElement("button",yn.CAMERA_STOP_BUTTON_ID);b.innerText=Ve.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,w.appendChild(b);var N,A=function(O){if(!O.torchFeature().isSupported()){N&&N.hide();return}N?N.updateTorchCapability(O.torchFeature()):N=J3.create(w,O.torchFeature(),{display:"none",marginLeft:"5px"},function(L){a.setHeaderMessage(L,gn.STATUS_WARNING)}),N.show()};c.appendChild(w);var D=function(O){O||(g.style.display="none"),g.innerText=Ve.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,O&&(g.style.display="inline-block")};if(g.addEventListener("click",function(O){g.innerText=Ve.scanButtonScanningStarting(),y.disable(),g.disabled=!0,g.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var L=y.getValue();a.persistedDataManager.setLastUsedCameraId(L),a.html5Qrcode.start(L,rv(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(j){b.disabled=!1,b.style.display="inline-block",D(!1);var I=a.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&A(I),r.config.showZoomSliderIfSupported===!0&&x(I)}).catch(function(j){a.showHideScanTypeSwapLink(!0),y.enable(),D(!0),a.setHeaderMessage(j,gn.STATUS_WARNING)})}),y.hasSingleItem()&&g.click(),b.addEventListener("click",function(O){if(!a.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,a.html5Qrcode.stop().then(function(L){r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),y.enable(),g.disabled=!1,b.style.display="none",g.style.display="inline-block",N&&(N.reset(),N.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(L){b.disabled=!1,a.setHeaderMessage(L,gn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var R=a.persistedDataManager.getLastUsedCameraId();y.hasValue(R)?(y.setValue(R),g.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Ve.textIfCameraScanSelected(),a=Ve.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var x=xr.createElement("span",this.getDashboardSectionSwapLinkId());x.style.textDecoration="underline",x.style.cursor="pointer",x.innerText=Rr.isCameraScanType(this.currentScanType)?r:a,x.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Rr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),x.innerText=a,t.currentScanType=Jr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),x.innerText=r,t.currentScanType=Jr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),d.appendChild(x),c.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Tf.hasPermissions().then(function(a){if(a){var c=document.getElementById(r.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(a){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=gn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",r){case gn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case gn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case gn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=W3,this.cameraScanImage.alt=Ve.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=G3,this.fileScanImage.alt=Ve.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return yn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return yn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function iv({user:e,onSearch:t,onScan:r,cartCount:a,onToggleCart:c}){const[d,x]=M.useState(""),[y,w]=M.useState(!1),g=N=>{const A=N.target.value;if(x(A),A.length<=1){t&&t(A);return}const D=setTimeout(()=>{t&&t(A)},300);return()=>clearTimeout(D)},b=()=>{try{const N=new(window.AudioContext||window.webkitAudioContext),A=N.createOscillator(),D=N.createGain();A.connect(D),D.connect(N.destination),A.type="sine",A.frequency.setValueAtTime(880,N.currentTime),D.gain.setValueAtTime(0,N.currentTime),D.gain.linearRampToValueAtTime(.5,N.currentTime+.01),D.gain.linearRampToValueAtTime(0,N.currentTime+.2),A.start(N.currentTime),A.stop(N.currentTime+.22)}catch(N){console.log("Audio failed",N)}};return M.useEffect(()=>{let N=null;return y&&(N=new Up("reader-pos",{fps:10,qrbox:{width:250,height:150},aspectRatio:1}),N.render(A=>{b(),w(!1),N.clear(),r&&r(A)},A=>{})),()=>{N&&N.clear().catch(A=>console.log(A))}},[y,r]),l.jsxs("header",{className:"flex-shrink-0 bg-white border-b border-slate-100 px-4 md:px-6 py-4 flex flex-col gap-4 z-20",children:[l.jsxs("div",{className:"flex md:hidden items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>window.history.back(),className:"p-2 -ml-2 text-slate-600",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),l.jsx("h1",{className:"font-bold text-lg text-slate-800",children:"Bn hng"})]}),l.jsxs("button",{className:"relative p-2",onClick:c,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("span",{className:"absolute top-1 right-1 bg-red-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center",children:a||0})]})]}),l.jsx("div",{className:"w-full flex items-center gap-3",children:l.jsxs("div",{className:"relative w-full flex-grow",children:[l.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-slate-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{id:"searchInput",autoFocus:!0,className:"w-full bg-slate-100 border-none rounded-xl py-2.5 pl-10 pr-12 focus:ring-2 focus:ring-primary text-sm font-semibold text-slate-900 placeholder:text-slate-500 transition-all hover:bg-slate-50 shadow-inner focus:outline-none",placeholder:"Tm sn phm / F2",type:"text",autoComplete:"off",value:d,onChange:g}),l.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[l.jsx("span",{className:"text-[10px] bg-white border border-slate-200 rounded px-1.5 py-0.5 text-slate-400 font-bold hidden md:inline-block",children:"F2"}),l.jsx("button",{type:"button",onClick:()=>w(!y),className:`p-1.5 rounded-lg transition-all ${y?"bg-primary text-white shadow-md":"text-slate-400 hover:bg-white hover:text-primary"}`,children:l.jsx(Tp,{size:18})})]})]})}),y&&l.jsxs("div",{className:"relative bg-slate-900 rounded-2xl overflow-hidden border-2 border-primary shadow-xl animate-fade-in",children:[l.jsx("div",{id:"reader-pos",className:"w-full"}),l.jsx("button",{onClick:()=>w(!1),className:"absolute top-3 right-3 p-2 bg-red-500 text-white rounded-full shadow-lg z-10 hover:bg-red-600 transition-transform active:scale-90",children:l.jsx(mr,{size:20})}),l.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:l.jsx("span",{className:"bg-black/60 text-white px-4 py-1.5 rounded-full text-xs font-bold backdrop-blur-sm border border-white/20",children:"a m vch vo khung hnh"})})]})]})}function av({isOpen:e,onClose:t}){const{user:r}=Ci(),{cart:a,clearCart:c,setCustomer:d}=t0(),[x,y]=M.useState("CASH"),[w,g]=M.useState(""),[b,N]=M.useState(!1),[A,D]=M.useState(null),[R,O]=M.useState(""),[L,j]=M.useState([]),[I,T]=M.useState(!1),[U,H]=M.useState(!0),[P,z]=M.useState(!1),[J,$]=M.useState({paperSize:"80mm",autoPrint:!0,showLogo:!0,showCashierName:!0,showCustomerName:!0,showOrderBarcode:!0,printCopies:1});M.useEffect(()=>{if(e){ge();const ne=localStorage.getItem("printerConfig");if(ne){const G=JSON.parse(ne);$(G),H(G.autoPrint)}}},[e]);const ge=async()=>{try{const ne=await We.getStore();D(ne)}catch(ne){console.error("Failed to fetch store info",ne)}};M.useEffect(()=>{if(R.length>=2){const ne=setTimeout(async()=>{T(!0);try{const G=await We.searchCustomers(R);j(G.data||[])}catch(G){console.error(G)}finally{T(!1)}},500);return()=>clearTimeout(ne)}else j([])},[R]);const[ce,de]=M.useState(0),he=parseFloat(w)-(a.totalAmount-ce),ie=()=>{var X;const ne=document.createElement("iframe");ne.style.position="absolute",ne.style.width="0px",ne.style.height="0px",ne.style.border="none",document.body.appendChild(ne);const G=`
            <div class="receipt">
                <div class="header">
                    ${J.showLogo&&(A!=null&&A.logoUrl)?`<img src="${A.logoUrl}" style="max-height: 50px; margin-bottom: 5px;" />`:""}
                    <div class="store-name">${(A==null?void 0:A.name)||"CA HNG TP HA"}</div>
                    <div class="info">${(A==null?void 0:A.address)||"ang cp nht a ch"}</div>
                    <div class="info">Hotline: ${(A==null?void 0:A.phone)||"..."}</div>
                </div>
                <div>
                    <div class="info">Ngy: ${new Date().toLocaleString("vi-VN")}</div>
                    <div class="info">M n: #${Date.now().toString().slice(-6)}</div>
                    ${J.showCashierName?`<div class="info">Thu ngn: ${(r==null?void 0:r.username)||"Admin"}</div>`:""}
                    ${J.showCustomerName?`<div class="info">Khch: ${((X=a.customer)==null?void 0:X.name)||"Khch l"}</div>`:""}
                </div>
                <table style="margin-top: 5px;">
                    <thead>
                        <tr>
                            <th>Mt hng</th>
                            <th class="qty">SL</th>
                            <th class="price">Thnh tin</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${a.items.map(q=>`
                            <tr>
                                <td>${q.name}</td>
                                <td class="qty">${q.quantity}</td>
                                <td class="price">${Math.round(q.price*q.quantity).toLocaleString()}</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
                <div class="total-row">
                    <div style="display:flex; justify-content:space-between"><span>Tng tin hng:</span><span>${a.totalAmount.toLocaleString()}</span></div>
                    ${ce>0?`<div style="display:flex; justify-content:space-between; font-weight:normal"><span>Gim gi:</span><span>-${ce.toLocaleString()}</span></div>`:""}
                    <div style="display:flex; justify-content:space-between; font-size:14px; margin-top:3px"><span>THANH TON:</span><span>${Math.round(a.totalAmount-ce).toLocaleString()}</span></div>
                    <div style="display:flex; justify-content:space-between; font-weight:normal; margin-top:2px"><span>Khch a:</span><span>${parseFloat(w)?parseFloat(w).toLocaleString():"0"}</span></div>
                    <div style="display:flex; justify-content:space-between; font-weight:normal"><span>Tin tha:</span><span>${he>0?he.toLocaleString():"0"}</span></div>
                </div>
                ${J.showOrderBarcode?`<div class="barcode">
                        <img src="https://bwipjs-api.metafloor.com/?bcid=code128&text=${Date.now().toString().slice(-6)}&scale=2&height=5&incltext" alt="Barcode" />
                    </div>`:""}
                <div class="footer">
                    ${A!=null&&A.footerText?A.footerText.replace(/\n/g,"<br/>"):"Cm n qu khch v hn gp li!"}
                </div>
            </div>
        `,ue=J.printCopies||1;let me="";for(let q=0;q<ue;q++)me+=G,q<ue-1&&(me+='<div style="page-break-after: always; height: 1px; border-bottom: 1px dashed transparent; margin-bottom: 10px;"></div>');const Te=`
            <html>
                <head>
                    <title>In ha n</title>
                    <style>
                        body { font-family: 'Courier New', Courier, monospace; width: ${J.paperSize==="80mm"?"72mm":"52mm"}; margin: 0; padding: 5px; color: #000; font-size: 11px; }
                        .header { text-align: center; border-bottom: 1px dashed #000; padding-bottom: 5px; margin-bottom: 5px; }
                        .store-name { font-size: 14px; font-weight: bold; margin: 0; text-transform: uppercase; }
                        .info { margin: 2px 0; }
                        table { width: 100%; font-size: 11px; border-collapse: collapse; }
                        th { text-align: left; border-bottom: 1px solid #000; padding: 2px 0; }
                        td { padding: 2px 0; vertical-align: top; }
                        .qty { width: 20px; text-align: center; }
                        .price { text-align: right; }
                        .total-row { border-top: 1px dashed #000; margin-top: 5px; padding-top: 5px; font-weight: bold; }
                        .footer { text-align: center; margin-top: 10px; border-top: 1px dashed #000; padding-top: 5px; font-style: italic; font-size: 10px; }
                        .barcode { text-align: center; margin-top: 10px; }
                        .barcode img { max-width: 100%; height: 40px; }
                        .receipt { margin-bottom: 10px; }
                        @media print {
                            .receipt { page-break-inside: avoid; }
                        }
                    </style>
                </head>
                <body>
                    ${me}
                </body>
            </html>
        `,ve=ne.contentWindow.document;ve.open(),ve.write(Te),ve.close(),ne.contentWindow.focus(),setTimeout(()=>{try{ne.contentWindow.print()}catch(q){console.error("Printing failed",q)}finally{setTimeout(()=>{document.body.removeChild(ne)},1e3)}},500)},Y=async()=>{var ne;if(x==="DEBT"&&!a.customer){alert("Vui lng chn khch hng  ghi n");return}N(!0);try{await We.createOrder({items:a.items.map(G=>({id:G.id,quantity:G.quantity,price:G.price})),totalAmount:a.totalAmount-ce,paymentMethod:x,customerId:((ne=a.customer)==null?void 0:ne.id)||null,note:x==="BANK_TRANSFER"?"Thanh ton chuyn khon VietQR":""}),U&&ie(),z(!0),setTimeout(()=>{c(),z(!1),t()},1500)}catch(G){alert("Li: "+G.message)}finally{N(!1)}},Ce=()=>{if(!(A!=null&&A.bankName)||!(A!=null&&A.bankAccountNumber))return null;const ne=A.bankName,G=A.bankAccountNumber,ue="qr_only",me=Math.round(a.totalAmount-ce),Te=encodeURIComponent(`Thanh toan don hang ${Date.now().toString().slice(-6)}`),ve=encodeURIComponent(A.bankAccountName||"");return`https://img.vietqr.io/image/${ne}-${G}-${ue}.png?amount=${me}&addInfo=${Te}&accountName=${ve}`};return e?P?l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl p-12 flex flex-col items-center justify-center animate-in zoom-in duration-300 shadow-2xl border border-slate-100",children:[l.jsx("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center mb-6 animate-bounce",children:l.jsx(oi,{size:48,className:"text-emerald-600"})}),l.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"THANH TON THNH CNG!"}),l.jsx("p",{className:"text-slate-500 font-bold text-lg",children:"ang in ha n..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-fade-in-up",children:[l.jsxs("div",{className:"flex-1 p-6 md:p-8 space-y-6 overflow-y-auto max-h-[90vh]",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h2",{className:"text-2xl font-black text-slate-800 uppercase",children:"Thanh ton"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors md:hidden",children:l.jsx(mr,{size:24})})]}),l.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 relative overflow-hidden",children:[l.jsx("span",{className:"text-blue-600 font-bold text-sm uppercase tracking-wider",children:"Tng cng"}),l.jsxs("div",{className:"text-4xl font-black text-slate-900 mt-1",children:[Number(a.totalAmount-ce).toLocaleString(),""]}),l.jsx("div",{className:"absolute top-0 right-0 h-full w-24 bg-blue-600/5 rotate-12 -mr-8"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase tracking-wide",children:"Phng thc thanh ton"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("button",{onClick:()=>y("CASH"),className:`flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all gap-2 ${x==="CASH"?"border-primary bg-blue-50 text-primary shadow-lg scale-105":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[l.jsx(Kb,{size:28}),l.jsx("span",{className:"font-bold text-sm",children:"Tin mt"})]}),l.jsxs("button",{onClick:()=>y("BANK_TRANSFER"),className:`flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all gap-2 ${x==="BANK_TRANSFER"?"border-primary bg-blue-50 text-primary shadow-lg scale-105":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[l.jsx(n0,{size:28}),l.jsx("span",{className:"font-bold text-sm text-center",children:"Chuyn khon"})]}),l.jsxs("button",{onClick:()=>y("DEBT"),className:`flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all gap-2 ${x==="DEBT"?"border-red-500 bg-red-50 text-red-600 shadow-lg scale-105":"border-slate-100 bg-white text-slate-400 hover:border-slate-200"}`,children:[l.jsx(gr,{size:28}),l.jsx("span",{className:"font-bold text-sm",children:"Ghi n"})]})]})]}),x==="CASH"&&l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Khch tr"}),l.jsx("input",{autoFocus:!0,type:"number",className:"w-full mt-2 bg-slate-100 border-none rounded-2xl py-5 px-6 text-3xl font-black text-slate-900 focus:ring-4 focus:ring-primary/20 focus:bg-white transition-all shadow-inner",placeholder:"0",value:w,onChange:ne=>g(ne.target.value)})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-emerald-50 rounded-2xl border border-emerald-100 mt-8",children:[l.jsx("span",{className:"text-emerald-600 font-bold uppercase text-xs",children:"Tin tha"}),l.jsx("span",{className:`text-2xl font-black ${he>=0?"text-emerald-700":"text-slate-400"}`,children:he>=0?Number(he).toLocaleString()+"":"0"})]})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[[2e4,5e4,1e5,2e5,5e5].map(ne=>l.jsxs("button",{onClick:()=>g(ne.toString()),className:"px-3 py-1.5 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-xs font-bold transition-colors",children:["+",Number(ne/1e3).toLocaleString(),"k"]},ne)),l.jsx("button",{onClick:()=>g((a.totalAmount-ce).toString()),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-bold",children:" TIN"})]})]}),x==="BANK_TRANSFER"&&l.jsx("div",{className:"space-y-4 animate-fade-in flex flex-col items-center",children:Ce()?l.jsxs("div",{className:"bg-white p-4 rounded-3xl border shadow-sm flex flex-col items-center gap-4 w-full",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"font-black text-slate-800",children:A.bankAccountName}),l.jsxs("div",{className:"text-sm text-slate-500",children:[A.bankName," - ",A.bankAccountNumber]})]}),l.jsx("div",{className:"relative p-2 bg-white border-4 border-slate-50 rounded-2xl",children:l.jsx("img",{src:Ce(),alt:"VietQR",className:"w-48 h-48 md:w-64 md:h-64 object-contain"})})]}):l.jsx("div",{className:"bg-amber-50 p-6 rounded-2xl border border-amber-100 text-amber-700 text-center",children:l.jsx("p",{className:"font-bold",children:"Cha thit lp Ngn hng"})})})]}),l.jsxs("div",{className:"w-full md:w-96 bg-slate-50 p-6 md:p-8 border-l border-slate-100 flex flex-col justify-between",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"hidden md:flex justify-between items-center",children:[l.jsx("h3",{className:"font-black text-slate-400 uppercase tracking-widest text-xs",children:"Ca hng"}),l.jsx("button",{onClick:t,className:"p-1 hover:text-red-500 transition-colors",children:l.jsx(mr,{size:20})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase tracking-wide",children:"Khch hng"}),a.customer?l.jsxs("div",{className:"bg-white p-4 rounded-2xl border shadow-sm flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-slate-800",children:a.customer.name}),l.jsx("div",{className:"text-xs text-slate-500",children:a.customer.phone})]}),l.jsx("button",{onClick:()=>d(null),className:"p-1.5 text-slate-300 hover:text-red-500",children:l.jsx(mr,{size:16})})]}):l.jsxs("div",{className:"relative",children:[l.jsx(Oo,{className:"absolute left-3 top-3 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"Tm khch hng...",className:"w-full pl-10 pr-4 py-3 bg-white border-none rounded-2xl shadow-sm text-sm",value:R,onChange:ne=>O(ne.target.value)}),L.length>0&&l.jsx("div",{className:"absolute top-12 left-0 right-0 bg-white rounded-2xl shadow-xl border z-50 max-h-48 overflow-y-auto",children:L.map(ne=>l.jsxs("button",{onClick:()=>{d(ne),O(""),j([])},className:"w-full text-left p-3 hover:bg-blue-50 border-b last:border-none",children:[l.jsx("span",{className:"font-bold text-slate-800 text-sm block",children:ne.name}),l.jsx("span",{className:"text-xs text-slate-500",children:ne.phone})]},ne.id))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase tracking-wide",children:"KM / Chit khu"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",placeholder:"0",value:ce,onChange:ne=>de(parseFloat(ne.target.value)||0),className:"flex-1 px-4 py-2 bg-white border-none rounded-xl shadow-sm text-sm font-bold text-emerald-600"}),l.jsx("div",{className:"flex gap-1",children:[5,10,15].map(ne=>l.jsxs("button",{onClick:()=>de(Math.round(a.totalAmount*ne/100)),className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-[10px] font-bold rounded-lg border border-emerald-200",children:[ne,"%"]},ne))})]})]}),l.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Tm tnh:"}),l.jsxs("span",{className:"font-bold",children:[a.totalAmount.toLocaleString(),""]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Gim gi:"}),l.jsxs("span",{className:"font-bold text-red-500",children:["-",ce.toLocaleString(),""]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-black pt-2 border-t border-slate-200",children:[l.jsx("span",{children:"PHI THU:"}),l.jsxs("span",{className:"text-primary",children:[(a.totalAmount-ce).toLocaleString(),""]})]})]})]}),l.jsx("div",{className:"flex flex-col gap-3 mt-8",children:l.jsx("button",{onClick:Y,disabled:b,className:`w-full py-5 rounded-2xl font-black text-xl shadow-xl transition-all flex items-center justify-center gap-3 
                                ${b?"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none":"bg-primary hover:bg-blue-700 text-white shadow-blue-200 active:scale-95"}`,children:b?"X L...":"XC NHN"})})]})]})}):null}function lv(){const{user:e}=Ci(),{cart:t,addToCart:r}=t0(),[a,c]=M.useState([]),[d,x]=M.useState(!0),[y,w]=M.useState(!1),[g,b]=M.useState(!1);M.useEffect(()=>{N();let O="",L=Date.now();const j=I=>{if(I.target.tagName==="INPUT"||I.target.tagName==="TEXTAREA")return;const T=Date.now();T-L>100&&(O=""),L=T,I.key==="Enter"?O.length>2&&(D(O),O=""):I.key.length===1&&(O+=I.key)};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[]);const N=async O=>{x(!0);try{const L=await We.getProducts({search:O});c(L.data||[])}catch(L){console.error(L)}finally{x(!1)}},A=O=>{N(O)},D=async O=>{try{console.log("Scanner capture:",O);const L=await We.getProductByBarcode(O);L&&L.data?r(L.data):console.warn("Barcode not found:",O)}catch(L){console.error("Scan error:",L)}},R=()=>w(!y);return l.jsxs("div",{className:"bg-slate-50 text-slate-900 font-display min-h-screen flex flex-col md:flex-row overflow-hidden font-sans",children:[l.jsxs("div",{className:"flex-grow flex flex-col h-screen overflow-hidden relative",children:[l.jsx(iv,{user:e,onSearch:A,onScan:D,cartCount:t.items.length,onToggleCart:R}),l.jsxs("div",{className:"flex-grow flex overflow-hidden relative",children:[l.jsx("main",{className:"flex-1 flex flex-col h-full bg-slate-50 relative",children:d?l.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:l.jsxs("svg",{className:"animate-spin h-8 w-8 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):l.jsx(v3,{products:a,onAddToCart:r})}),y&&l.jsx("div",{className:"md:hidden fixed inset-0 bg-black/20 backdrop-blur-sm z-30 transition-opacity duration-300",onClick:()=>w(!1)}),l.jsx("div",{className:`fixed md:static inset-y-0 right-0 z-40 h-full transition-transform duration-300 transform ${y?"translate-x-0":"translate-x-full md:translate-x-0"}`,children:l.jsx(N3,{isOpen:y,onClose:()=>w(!1),onCheckout:()=>{console.log("Checkout clicked"),b(!0)}})})]}),!y&&t.items.length>0&&l.jsx("div",{className:"md:hidden fixed bottom-24 left-4 right-4 z-30 transition-transform duration-300",children:l.jsxs("button",{onClick:R,className:"w-full bg-slate-900 text-white p-4 rounded-xl shadow-xl flex justify-between items-center active:scale-95 transition-transform",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-white/20 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:t.items.length}),l.jsx("span",{className:"font-bold text-sm",children:"Xem gi hng"})]}),l.jsxs("span",{className:"font-bold text-lg",children:[Number(t.totalAmount).toLocaleString(),""]})]})})]}),l.jsx(av,{isOpen:g,onClose:()=>b(!1)})]})}const zp=()=>{const[e,t]=M.useState(null),[r,a]=M.useState(!1);M.useEffect(()=>{c()},[]);const c=async()=>{try{const w=await We.getLatestAnnouncement();w&&w.isActive&&localStorage.getItem("dimissed_announcement_id")!==w.id.toString()&&(t(w),a(!0))}catch(w){console.error("Li ly thng bo:",w)}},d=()=>{e&&localStorage.setItem("dimissed_announcement_id",e.id.toString()),a(!1)};if(!r||!e)return null;const x={info:{bg:"linear-gradient(135deg, #1e3a8a, #3b82f6)",accent:"#60a5fa",icon:"campaign"},warning:{bg:"linear-gradient(135deg, #92400e, #f59e0b)",accent:"#fbbf24",icon:"warning"},danger:{bg:"linear-gradient(135deg, #991b1b, #ef4444)",accent:"#f87171",icon:"error"}},y=x[e.type]||x.info;return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px",backdropFilter:"blur(4px)",animation:"fadeIn 0.3s ease-out"},children:[l.jsxs("div",{style:{background:y.bg,width:"100%",maxWidth:"500px",borderRadius:"24px",padding:"32px",color:"white",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",border:`1px solid ${y.accent}44`,animation:"scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[l.jsx("button",{onClick:()=>a(!1),style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255,255,255,0.1)",border:"none",color:"white",width:"32px",height:"32px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{className:"material-icons",style:{fontSize:"18px"},children:"close"})}),l.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[l.jsx("div",{style:{width:"64px",height:"64px",background:"rgba(255,255,255,0.2)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:`0 0 20px ${y.accent}66`},children:l.jsx("span",{className:"material-icons",style:{fontSize:"32px"},children:y.icon})}),l.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:800,margin:0,letterSpacing:"-0.025em"},children:e.title})]}),l.jsx("div",{style:{background:"rgba(0,0,0,0.1)",padding:"20px",borderRadius:"16px",marginBottom:"32px",lineHeight:"1.6",fontSize:"1rem",textAlign:"center"},children:e.content}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[l.jsx("button",{onClick:()=>a(!1),style:{background:"white",color:y.bg.includes("#1e3a8a")?"#1e3a8a":y.bg.includes("#92400e")?"#92400e":"#991b1b",border:"none",padding:"14px",borderRadius:"14px",fontSize:"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"transform 0.2s"},children:" hiu"}),l.jsx("button",{onClick:d,style:{background:"transparent",color:"rgba(255,255,255,0.8)",border:"1px solid rgba(255,255,255,0.2)",padding:"12px",borderRadius:"14px",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer"},children:" hiu v khng hin th li"})]})]}),l.jsx("style",{children:`
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    @keyframes scaleIn {
                        from { transform: scale(0.9); opacity: 0; }
                        to { transform: scale(1); opacity: 1; }
                    }
                `})]})};function ov({isOpen:e,onClose:t}){var U;const[r,a]=M.useState([]),[c,d]=M.useState(!0),[x,y]=M.useState("list"),[w,g]=M.useState(null),[b,N]=M.useState({subject:"",content:"",priority:"medium"}),[A,D]=M.useState(""),[R,O]=M.useState(!1);M.useEffect(()=>{e&&L()},[e]);const L=async()=>{d(!0);try{const H=await We.getMyTickets();a(H)}catch(H){console.error(H)}finally{d(!1)}},j=async H=>{try{const P=await We.getTicketDetail(H);g(P),y("chat")}catch(P){console.error(P)}},I=async H=>{H.preventDefault(),O(!0);try{await We.createTicket(b),N({subject:"",content:"",priority:"medium"}),y("list"),L()}catch(P){alert("Li: "+P.message)}finally{O(!1)}},T=async H=>{if(H.preventDefault(),!(!A.trim()||!w))try{await We.addTicketMessage(w.id,A),D(""),j(w.id)}catch(P){console.error(P)}};return e?l.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.6)",backdropFilter:"blur(8px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:l.jsxs("div",{style:{background:"white",borderRadius:"24px",width:"100%",maxWidth:"600px",height:"600px",display:"flex",flexDirection:"column",overflow:"hidden",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},children:[l.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #f1f5f9",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[x!=="list"&&l.jsx("button",{onClick:()=>y("list"),style:{background:"none",border:"none",cursor:"pointer",padding:0},children:l.jsx("span",{className:"material-icons",style:{color:"#64748b"},children:"arrow_back"})}),l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:800},children:x==="list"?"H Tr K Thut":x==="create"?"Gi Yu Cu Mi":w==null?void 0:w.subject})]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:0},children:l.jsx("span",{className:"material-icons",style:{color:"#64748b"},children:"close"})})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:x==="list"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>y("create"),style:{width:"100%",padding:"16px",background:"#0f172a",color:"white",borderRadius:"16px",border:"none",fontWeight:700,marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l.jsx("span",{className:"material-icons",children:"add_circle"}),"To yu cu mi"]}),c?l.jsx("div",{style:{textAlign:"center",color:"#64748b",padding:"40px"},children:"ang ti..."}):r.length===0?l.jsx("div",{style:{textAlign:"center",color:"#94a3b8",padding:"40px"},children:"Bn cha c yu cu no"}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:r.map(H=>l.jsxs("div",{onClick:()=>j(H.id),style:{padding:"16px",borderRadius:"16px",border:"1px solid #e2e8f0",cursor:"pointer"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[l.jsx("span",{style:{fontSize:"0.7rem",fontWeight:800,textTransform:"uppercase",color:H.status==="open"?"#3b82f6":H.status==="pending"?"#f59e0b":"#10b981"},children:H.status==="open"?" Mi":H.status==="pending"?" ang ch":"  x l"}),l.jsx("span",{style:{fontSize:"0.7rem",color:"#94a3b8"},children:new Date(H.updatedAt).toLocaleDateString()})]}),l.jsx("div",{style:{fontWeight:700,fontSize:"0.95rem"},children:H.subject})]},H.id))})]}):x==="create"?l.jsxs("form",{onSubmit:I,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:800,textTransform:"uppercase",color:"#64748b",marginBottom:"8px"},children:"Tiu "}),l.jsx("input",{required:!0,style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #e2e8f0",outline:"none"},value:b.subject,onChange:H=>N({...b,subject:H.target.value}),placeholder:"V d: Li in ha n, Cn thm tnh nng..."})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:800,textTransform:"uppercase",color:"#64748b",marginBottom:"8px"},children:"Mc  u tin"}),l.jsxs("select",{style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #e2e8f0",outline:"none"},value:b.priority,onChange:H=>N({...b,priority:H.target.value}),children:[l.jsx("option",{value:"low",children:"Thp"}),l.jsx("option",{value:"medium",children:"Bnh thng"}),l.jsx("option",{value:"high",children:"Cao / Gp"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:800,textTransform:"uppercase",color:"#64748b",marginBottom:"8px"},children:"Ni dung chi tit"}),l.jsx("textarea",{required:!0,rows:"5",style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #e2e8f0",outline:"none",resize:"none"},value:b.content,onChange:H=>N({...b,content:H.target.value}),placeholder:"M t chi tit vn  bn ang gp phi..."})]}),l.jsx("button",{type:"submit",disabled:R,style:{width:"100%",padding:"16px",background:"#3b82f6",color:"white",borderRadius:"16px",border:"none",fontWeight:700,marginTop:"12px"},children:R?"ang gi...":"Gi yu cu"})]}):l.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[l.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"12px"},children:(U=w==null?void 0:w.messages)==null?void 0:U.map(H=>l.jsxs("div",{style:{maxWidth:"85%",alignSelf:H.senderRole==="admin"?"flex-start":"flex-end",background:H.senderRole==="admin"?"#f1f5f9":"#3b82f6",color:H.senderRole==="admin"?"#0f172a":"white",padding:"12px 16px",borderRadius:"16px",fontSize:"0.9rem"},children:[l.jsx("div",{style:{fontSize:"0.65rem",opacity:.7,marginBottom:"4px",fontWeight:700},children:H.senderName}),H.content]},H.id))}),l.jsxs("form",{onSubmit:T,style:{display:"flex",gap:"8px",marginTop:"20px",padding:"12px",background:"#f8fafc",borderRadius:"16px"},children:[l.jsx("input",{style:{flex:1,border:"none",background:"transparent",outline:"none",padding:"4px"},placeholder:"Nhp tin nhn...",value:A,onChange:H=>D(H.target.value)}),l.jsx("button",{type:"submit",disabled:!A.trim(),style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"12px",padding:"8px 12px"},children:l.jsx("span",{className:"material-icons",style:{fontSize:"18px"},children:"send"})})]})]})})]})}):null}const fl=({title:e,value:t,color:r,icon:a,subtext:c})=>l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${r[0]} ${r[1]}`,children:l.jsx("span",{className:"material-icons",children:a})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-500 font-medium",children:e}),l.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:t})]})]}),c&&l.jsx("p",{className:"text-xs text-slate-400",children:c})]});function cv(){var I;const[e,t]=M.useState("7days"),[r,a]=M.useState(null),[c,d]=M.useState(!0),[x,y]=M.useState(!1),[w,g]=M.useState({hotline:"0975.4214.439",zalo:"https://zalo.me",help_url:"#"});M.useEffect(()=>{N(),b()},[e]);const b=async()=>{try{const T=await We.getSystemSettings();T&&T.support_info&&g(T.support_info)}catch(T){console.error("Fetch settings error:",T)}},N=async()=>{d(!0);try{const T=await We.getDashboard(e);T&&a(T)}catch(T){console.error(T)}finally{d(!1)}},A=T=>T===0?l.jsx("span",{className:"text-slate-300 font-normal",children:"0"}):new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T).replace("",""),D=[{value:"today",label:"Hm nay"},{value:"yesterday",label:"Hm qua"},{value:"7days",label:"7 ngy qua"},{value:"thisMonth",label:"Thng ny"},{value:"lastMonth",label:"Thng trc"}];if(c&&!r)return l.jsx("div",{className:"p-8 text-center text-slate-400",children:"ang ti thng k..."});const R=r||{overview:{revenue:0,totalOrders:0,profit:0,debtAdded:0},chart:[],lowStockCount:0},{overview:O,chart:L,lowStockCount:j}=R;return l.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-slate-50",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Tng Quan Ca Hng"}),l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:e,onChange:T=>t(T.target.value),className:"appearance-none bg-white border border-slate-200 text-slate-700 py-2 pl-4 pr-10 rounded-xl font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm cursor-pointer hover:bg-slate-50 transition-colors",children:D.map(T=>l.jsx("option",{value:T.value,children:T.label},T.value))}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-slate-500",children:l.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(fl,{title:"Doanh thu",value:A(O.revenue),color:["bg-blue-100","text-blue-600"],icon:"payments",subtext:"Tng doanh thu bn hng"}),l.jsx(fl,{title:"S n hng",value:O.totalOrders,color:["bg-indigo-100","text-indigo-600"],icon:"shopping_bag",subtext:"n hng hon thnh"}),l.jsx(fl,{title:"Li nhun (c tnh)",value:A(O.profit),color:["bg-emerald-100","text-emerald-600"],icon:"trending_up",subtext:l.jsx("span",{className:"font-bold text-slate-500",children:"Da trn gi vn"})}),l.jsx(fl,{title:"N mi pht sinh",value:A(O.debtAdded),color:["bg-orange-100","text-orange-600"],icon:"book",subtext:"Khch n thm"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm min-h-[400px]",children:[l.jsxs("h3",{className:"font-bold text-lg text-slate-800 mb-6 flex justify-between",children:["Biu  doanh thu",l.jsx("span",{className:"text-sm font-normal text-slate-400 bg-slate-100 px-3 py-1 rounded-lg",children:(I=D.find(T=>T.value===e))==null?void 0:I.label})]}),L&&L.length>0?l.jsxs("div",{className:"h-64 flex items-end justify-between gap-2 md:gap-4 mt-8 pb-2 border-b border-slate-100 relative",children:[l.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none opacity-20 z-0",children:[...Array(5)].map((T,U)=>l.jsx("div",{className:"w-full h-px bg-slate-400 dashed"},U))}),L.map((T,U)=>{const H=Math.max(...L.map(J=>Number(J.revenue)))||1,P=Number(T.revenue),z=P/H*100;return l.jsxs("div",{className:"flex flex-col items-center flex-1 group relative h-full justify-end z-10 hover:bg-slate-50/50 rounded-lg transition-colors pb-6",children:[P>0?l.jsx("div",{className:"w-full max-w-[40px] bg-blue-500 rounded-t-md hover:bg-blue-600 transition-all duration-300 relative shadow-sm",style:{height:`${Math.max(z,2)}%`},children:l.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-[10px] font-bold px-2 py-1 rounded shadow-lg whitespace-nowrap z-50 pointer-events-none",children:A(T.revenue)})}):l.jsx("div",{className:"h-1 w-full max-w-[20px] bg-slate-200 rounded-full mb-1"}),l.jsx("div",{className:"absolute bottom-0 text-[10px] text-slate-400 font-bold w-full text-center group-hover:text-slate-800 transition-colors",children:T.date.split("/")[0]})]},U)})]}):l.jsx("div",{className:"h-64 flex items-center justify-center text-slate-400",children:"Cha c d liu biu "})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 text-slate-800",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg text-red-600",children:l.jsx("span",{className:"material-icons text-xl",children:"warning"})}),l.jsx("h3",{className:"font-bold text-lg",children:"Cnh Bo Kho"})]}),l.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 text-center py-8",children:j>0?l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold text-red-600 mb-1",children:j}),l.jsx("p",{className:"text-slate-500 text-sm",children:"sn phm sp ht hng"})]}):l.jsxs("div",{children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"material-icons",children:"check"})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"Kho hng n nh"}),l.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Khng c sn phm di nh mc"})]})}),j>0&&l.jsx("button",{onClick:()=>window.location.href="/inventory",className:"w-full mt-4 py-3 bg-white border border-red-200 text-red-600 rounded-xl hover:bg-red-50 font-bold transition-colors shadow-sm",children:"Kim tra ngay"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm overflow-hidden relative group",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full blur-[40px] -mr-10 -mt-10 opacity-60 z-0"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6 text-slate-800",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:l.jsx("span",{className:"material-icons text-xl",children:"support_agent"})}),l.jsx("h3",{className:"font-bold text-lg",children:"H Tr & Lin H"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 hover:border-blue-200 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("span",{className:"material-icons text-blue-500 text-sm",children:"phone_iphone"}),l.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Tng i h tr"})]}),l.jsx("p",{className:"text-lg font-black text-slate-900",children:w.hotline})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("a",{href:w.zalo,target:"_blank",rel:"noreferrer",className:"flex flex-col items-center justify-center p-4 bg-white border border-slate-100 rounded-2xl hover:shadow-md hover:-translate-y-1 transition-all group",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center mb-2 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:l.jsx("span",{className:"material-icons text-xl",children:"chat"})}),l.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Zalo OA"})]}),l.jsxs("a",{href:w.help_url,target:"_blank",rel:"noreferrer",className:"flex flex-col items-center justify-center p-4 bg-white border border-slate-100 rounded-2xl hover:shadow-md hover:-translate-y-1 transition-all group",children:[l.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-full flex items-center justify-center mb-2 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:l.jsx("span",{className:"material-icons text-xl",children:"help_outline"})}),l.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Hng dn"})]})]}),l.jsx("button",{onClick:()=>y(!0),className:"w-100 p-4 bg-slate-900 text-white rounded-2xl font-black text-sm hover:bg-slate-800 transition-colors shadow-lg shadow-slate-200",children:"Gi yu cu h tr ngay"})]})]})]})]})]}),l.jsx(zp,{}),l.jsx(ov,{isOpen:x,onClose:()=>y(!1)})]})}const a0=()=>{const[e,t]=M.useState(null),[r,a]=M.useState(!0);M.useEffect(()=>{(async()=>{try{const N=await We.getStore();t(N)}catch(N){console.error("Failed to fetch quota info",N)}finally{a(!1)}})()},[]);const c=(e==null?void 0:e.subscriptionPlan)||{name:"Free",maxProducts:100,maxUsers:2,features:[]},d=c.name.toLowerCase(),x=(e==null?void 0:e.usage)||{products:0,invoices:0,users:0},y=Array.isArray(c.features)?c.features:[];return{storeInfo:e,loading:r,tier:d,hasFeature:b=>{if(b==="pro_feature")return d!=="free"&&d!=="dng th";const N=y.map(R=>R.toLowerCase()),D={reports:["bo co","chuyn su","doanh thu"],inventory_advanced:["tt c tnh nng","qun l kho","danh mc"],refunds:["tr hng","hon tin"],logs:["nht k","ton b h thng"]}[b]||[b];return N.some(R=>D.some(O=>R.includes(O.toLowerCase())))},checkLimit:b=>{const A={products:c.maxProducts,users:c.maxUsers}[b],D=x[b];return A===-1?{ok:!0}:{ok:D<A,current:D,limit:A,percentage:Math.round(D/A*100)}},isPro:d!=="free"&&d!=="dng th"}};function uv(){const[e,t]=M.useState([]),[r,a]=M.useState([]),[c,d]=M.useState([]),[x,y]=M.useState(!0),[w,g]=M.useState(!1),[b,N]=M.useState(!1),[A,D]=M.useState(null),[R,O]=M.useState(!1),{checkLimit:L}=a0(),[j,I]=M.useState(!0),[T,U]=M.useState(!1),[H,P]=M.useState({name:"",barcode:"",price:"",priceIn:"",currentStock:"",minStockThreshold:"5",categoryId:"",brandId:"",unit:"Ci",imageUrl:""});M.useEffect(()=>{$()},[]);const z=()=>{try{const X=new(window.AudioContext||window.webkitAudioContext),q=X.createOscillator(),_e=X.createGain();q.connect(_e),_e.connect(X.destination),q.type="sine",q.frequency.setValueAtTime(880,X.currentTime),_e.gain.setValueAtTime(0,X.currentTime),_e.gain.linearRampToValueAtTime(.5,X.currentTime+.01),_e.gain.linearRampToValueAtTime(0,X.currentTime+.2),q.start(X.currentTime),q.stop(X.currentTime+.22)}catch(X){console.log("Audio failed",X)}};M.useEffect(()=>{let X=null;return R&&(X=new Up("reader",{fps:10,qrbox:{width:250,height:150},aspectRatio:1}),X.render(async q=>{z(),O(!1),X.clear(),J(q)},q=>{})),()=>{X&&X.clear().catch(q=>console.log(q))}},[R]);const J=async X=>{const q=e.find(_e=>_e.barcode===X);if(q&&window.confirm(`Sn phm "${q.name}"  tn ti. Chnh sa sn phm ny?`)){ce(q);return}P(_e=>({..._e,barcode:X}));try{const le=await(await fetch(`https://world.openfoodfacts.org/api/v0/product/${X}.json`)).json();if(le.status===1&&le.product){const gt=le.product;P(Ze=>({...Ze,name:gt.product_name_vi||gt.product_name||Ze.name,imageUrl:gt.image_url||Ze.imageUrl,unit:gt.serving_quantity_unit||Ze.unit}))}}catch{}},$=async()=>{y(!0);try{const[X,q,_e]=await Promise.all([We.getProducts({limit:100}),Oe.get("/management/categories"),Oe.get("/management/brands")]);t(X.data||[]),a(q||[]),d(_e||[])}catch(X){console.error(X)}finally{y(!1)}},ge=async X=>{if(window.confirm("Xc nhn xa b sn phm ny khi h thng?"))try{await We.deleteProduct(X),$()}catch(q){alert("Li xa: "+q.message)}},ce=X=>{D(X),P({name:X.name,barcode:X.barcode||"",price:X.price,priceIn:X.priceIn||0,currentStock:X.currentStock,minStockThreshold:X.minStockThreshold||5,categoryId:X.categoryId||"",brandId:X.brandId||"",unit:X.unit||"Ci",imageUrl:X.imageUrl||""}),g(!0)},de=()=>{const{ok:X,current:q,limit:_e}=L("products");if(!X){N(!0);return}D(null),P({name:"",barcode:"",price:"",priceIn:"",currentStock:"",minStockThreshold:"5",categoryId:"",brandId:"",unit:"Ci",imageUrl:""}),g(!0)},he=async X=>{X.preventDefault();try{const q={...H};if(q.categoryId){const _e=r.find(le=>le.id==q.categoryId);_e&&(q.category=_e.name)}A?await We.updateProduct(A.id,q):await We.createProduct(q),g(!1),$()}catch(q){alert("Li: "+q.message)}},[ie,Y]=M.useState("list"),[Ce,ne]=M.useState({}),[G,ue]=M.useState({productId:"",quantity:"",priceIn:""});M.useEffect(()=>{$()},[]);const me=async()=>{try{const X=Object.entries(Ce).map(([q,_e])=>{const le=e.find(gt=>gt.id==q);return le?We.updateProduct(q,{...le,currentStock:_e}):null}).filter(Boolean);await Promise.all(X),alert("Cp nht kim kho thnh cng!"),ne({}),$()}catch(X){alert("Li: "+X.message)}},Te=async X=>{X.preventDefault();try{const q=e.find(le=>le.id==G.productId);if(!q)return;const _e=Number(q.currentStock)+Number(G.quantity);await We.updateProduct(G.productId,{...q,currentStock:_e,priceIn:G.priceIn||q.priceIn}),alert(` nhp thm ${G.quantity} ${q.unit} vo kho.`),ue({productId:"",quantity:"",priceIn:""}),$()}catch(q){alert("Li: "+q.message)}},ve=()=>{U(!0)};return l.jsxs("div",{className:"p-6 lg:p-10 min-h-screen bg-[#f8fafc] flex flex-col gap-10 animate-fade-in font-sans",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-end lg:items-center gap-6",children:[l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"bg-slate-900 p-4 rounded-2xl shadow-lg ring-4 ring-slate-100",children:l.jsx(Ea,{className:"text-white",size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight leading-none",children:"Qun L Kho"}),l.jsx("p",{className:"text-slate-400 text-[10px] font-bold mt-2 tracking-[0.2em] uppercase opacity-70",children:"Sn phm & Tn kho thc t"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto",children:[l.jsxs("nav",{className:"flex bg-slate-200/50 p-1.5 rounded-2xl w-full sm:w-auto border border-slate-200",children:[l.jsx("button",{onClick:()=>Y("list"),className:`flex-1 sm:flex-none px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-wider transition-all ${ie==="list"?"bg-white text-slate-900 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:"Danh sch"}),l.jsx("button",{onClick:()=>Y("in"),className:`flex-1 sm:flex-none px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-wider transition-all ${ie==="in"?"bg-white text-slate-900 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:"Nhp l"}),l.jsx("button",{onClick:()=>Y("audit"),className:`flex-1 sm:flex-none px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-wider transition-all ${ie==="audit"?"bg-white text-slate-900 shadow-md ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700"}`,children:"Kim kho"})]}),l.jsxs("button",{onClick:de,className:"w-full sm:w-auto bg-slate-900 hover:bg-slate-800 text-white px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-[0_10px_20px_-5px_rgba(0,0,0,0.1)] flex items-center justify-center gap-3 active:scale-95 transition-all",children:[l.jsx(Ro,{size:16,strokeWidth:3})," Thm Mi"]})]})]}),ie==="list"&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(xl,{icon:l.jsx(Ap,{}),label:"Gi tr vn u t",value:e.reduce((X,q)=>X+Number(q.priceIn||0)*Number(q.currentStock),0)}),l.jsx(xl,{icon:l.jsx(m3,{}),label:"Gi tr hng bn",value:e.reduce((X,q)=>X+Number(q.price)*Number(q.currentStock),0)}),l.jsx(xl,{icon:l.jsx(cf,{}),label:"Mt hng cn nhp",value:e.filter(X=>X.currentStock<=(X.minStockThreshold||5)).length,isAlert:!0}),l.jsx(xl,{icon:l.jsx(i3,{}),label:"Tng tn kho",value:e.reduce((X,q)=>X+Number(q.currentStock),0),isStatus:!0})]}),l.jsxs("div",{className:"bg-white rounded-[1.5rem] border border-slate-200 shadow-sm overflow-hidden flex flex-col min-h-[600px]",children:[ie==="list"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-6 border-b border-slate-200 flex flex-col items-center justify-between gap-6 bg-slate-50/50",children:l.jsxs("div",{className:"relative w-full flex items-center gap-4",children:[l.jsx(Oo,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{placeholder:"Tm tn sn phm, m SKU, m vch...",className:"w-full pl-12 pr-6 py-4 bg-white border border-slate-200 rounded-2xl text-sm font-semibold text-slate-700 focus:border-slate-900 focus:ring-4 focus:ring-slate-100 outline-none transition-all"}),l.jsxs("button",{onClick:ve,className:`hidden md:flex items-center gap-3 px-5 py-4 border rounded-2xl whitespace-nowrap shadow-sm transition-all active:scale-95 ${j?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-500"}`,children:[l.jsx("div",{className:`w-2.5 h-2.5 rounded-full ring-4 ${j?"bg-emerald-500 ring-emerald-100 animate-pulse":"bg-slate-400 ring-slate-200"}`}),l.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.1em]",children:["Auto Deduct: ",j?"ON":"OFF"]}),l.jsx(sa,{size:14,className:j?"text-emerald-400":"text-slate-400"})]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-center w-20",children:"nh"}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-left",children:"Sn phm"}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-left",children:"Danh mc"}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Gi vn"}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Gi bn"}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Tn kho"}),l.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-500 uppercase tracking-widest text-center",children:"Tc v"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:x?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-32 text-center text-slate-400 font-bold uppercase text-[10px] tracking-widest animate-pulse",children:"ang ti d liu..."})}):e.map(X=>{var q;return l.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("div",{className:`w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center overflow-hidden mx-auto shadow-sm ${X.imageUrl?"bg-white":"bg-slate-100"}`,children:X.imageUrl?l.jsx("img",{src:X.imageUrl,alt:X.name,className:"w-full h-full object-cover"}):l.jsx(Ea,{size:18,className:"text-slate-300"})})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-slate-900 text-sm",children:X.name}),l.jsx("span",{className:"text-[10px] font-mono font-bold text-slate-400 mt-0.5 uppercase tracking-wide bg-slate-100 px-1.5 py-0.5 rounded w-fit",children:X.barcode||"NO-CODE"})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"inline-flex px-2.5 py-1 bg-slate-100 text-slate-500 rounded-md text-[10px] font-bold uppercase tracking-wider border border-slate-200",children:((q=X.categoryRel)==null?void 0:q.name)||X.category||"Chung"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsx("span",{className:"font-medium text-slate-400 tabular-nums text-xs",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(X.priceIn||0)})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsx("span",{className:"font-black text-slate-900 tabular-nums text-sm",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(X.price)})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[11px] font-bold border ${X.currentStock<=0?"bg-rose-50 text-rose-600 border-rose-100 ring-2 ring-rose-50":X.currentStock<=10?"bg-orange-50 text-orange-600 border-orange-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:[X.currentStock," ",X.unit||"ci",X.currentStock<=10&&l.jsx(cf,{size:12,strokeWidth:2.5})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>ce(X),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Chnh sa",children:l.jsx(u3,{size:16})}),l.jsx("button",{onClick:()=>ge(X.id),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all",title:"Xa",children:l.jsx(_p,{size:16})})]})})]},X.id)})})]})})]}),ie==="in"&&l.jsxs("div",{className:"p-16 max-w-2xl mx-auto w-full animate-fade-in",children:[l.jsxs("header",{className:"mb-12 border-l-4 border-slate-900 pl-6",children:[l.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"K khai Nhp Kho"}),l.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Ghi nhn chng t nhp hng thc t"})]}),l.jsxs("form",{onSubmit:Te,className:"space-y-10",children:[l.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:"Mt hng nhp kho"}),l.jsxs("select",{required:!0,value:G.productId,onChange:X=>ue({...G,productId:X.target.value}),className:"w-full px-5 py-4 bg-white border border-slate-200 rounded-xl focus:border-slate-900 outline-none transition-all font-bold text-slate-800 appearance-none cursor-pointer shadow-sm",children:[l.jsx("option",{value:"",children:" Chn sn phm trong danh sch "}),e.map(X=>l.jsxs("option",{value:X.id,children:[X.name," (S d kho: ",X.currentStock,")"]},X.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:"S lng mi (+)"}),l.jsx("input",{required:!0,type:"number",value:G.quantity,onChange:X=>ue({...G,quantity:X.target.value}),className:"w-full px-5 py-4 bg-white border border-slate-200 rounded-xl focus:border-slate-900 focus:ring-4 focus:ring-slate-100 outline-none transition-all font-black text-2xl tabular-nums shadow-sm",placeholder:"0"})]}),l.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4",children:"Gi vn nhp ()"}),l.jsx("input",{type:"number",value:G.priceIn,onChange:X=>ue({...G,priceIn:X.target.value}),className:"w-full px-5 py-4 bg-white border border-slate-200 rounded-xl focus:border-slate-900 focus:ring-4 focus:ring-slate-100 outline-none transition-all font-black text-2xl tabular-nums shadow-sm",placeholder:"Gi nguyn"})]})]}),l.jsx("button",{type:"submit",className:"w-full py-5 bg-slate-900 text-white font-black text-[11px] uppercase tracking-[0.2em] rounded-2xl hover:bg-slate-800 transition-all shadow-xl active:scale-[0.98]",children:"Xc nhn & Cp nht kho hng"})]})]}),ie==="audit"&&l.jsxs("div",{className:"flex flex-col h-[700px] animate-fade-in",children:[l.jsxs("div",{className:"p-8 border-b border-slate-200 flex justify-between items-center bg-slate-50/50",children:[l.jsxs("div",{className:"border-l-4 border-slate-900 pl-6",children:[l.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"i sot kho Quy"}),l.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Cn bng s liu My v Thc T"})]}),l.jsxs("button",{onClick:me,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center gap-3 shadow-lg",children:[l.jsx(oi,{size:16})," Lu kt qu i sot"]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-[#fafbfc] border-b border-slate-200 sticky top-0 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-10 py-5 text-[9px] font-black text-slate-500 uppercase tracking-widest border-r border-slate-100",children:"Sn phm"}),l.jsx("th",{className:"px-10 py-5 text-[9px] font-black text-slate-500 uppercase tracking-widest border-r border-slate-100",children:"Trn H thng"}),l.jsx("th",{className:"px-10 py-5 text-[9px] font-black text-slate-500 uppercase tracking-widest border-r border-slate-100",children:"m thc t"}),l.jsx("th",{className:"px-10 py-5 text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Chnh lch"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map((X,q)=>{const le=(Ce[X.id]!==void 0?Ce[X.id]:X.currentStock)-X.currentStock;return l.jsxs("tr",{className:`${q%2===0?"bg-white":"bg-slate-50/30"}`,children:[l.jsx("td",{className:"px-10 py-6 font-black text-slate-700 uppercase text-[11px] border-r border-slate-50",children:X.name}),l.jsxs("td",{className:"px-10 py-6 font-bold text-slate-400 text-xs tabular-nums border-r border-slate-50",children:[X.currentStock," ",X.unit]}),l.jsx("td",{className:"px-10 py-6 border-r border-slate-50",children:l.jsx("input",{type:"number",value:Ce[X.id]||"",onChange:gt=>ne({...Ce,[X.id]:gt.target.value===""?void 0:Number(gt.target.value)}),placeholder:X.currentStock,className:"w-32 px-4 py-3 border border-slate-200 rounded-xl font-black text-slate-900 text-center focus:border-slate-900 outline-none transition-all bg-white shadow-inner"})}),l.jsx("td",{className:"px-10 py-6",children:l.jsx("div",{className:`inline-flex px-4 py-1.5 rounded-lg font-black text-[10px] shadow-sm ${le===0?"bg-slate-100 text-slate-400":"bg-slate-900 text-white"}`,children:le>0?`+${le}`:le})})]},X.id)})})]})})]})]}),w&&l.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-6 animate-fade-in",children:l.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[l.jsxs("header",{className:"px-10 py-8 border-b border-slate-100 flex justify-between items-center bg-[#fafbfc]",children:[l.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:A?"Cp nht hng ha":"Khai bo hng mi"}),l.jsx("button",{onClick:()=>g(!1),className:"p-2 text-slate-400 hover:text-slate-900 transition-all",children:l.jsx(mr,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10",children:[R&&l.jsxs("div",{className:"p-4 bg-slate-900 rounded-3xl overflow-hidden relative shadow-inner border border-slate-800",children:[l.jsx("div",{id:"reader"}),l.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 bg-white/10 hover:bg-white/20 text-white p-2 rounded-xl backdrop-blur-md",children:l.jsx(mr,{size:20})})]}),l.jsxs("form",{id:"productForm",onSubmit:he,className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Tn hng ha *"}),l.jsx("input",{required:!0,type:"text",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-slate-900 outline-none transition-all font-bold text-lg text-slate-900",value:H.name,onChange:X=>P({...H,name:X.target.value}),placeholder:"VD: Sa c C gi H Lan"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Phn loi (Nhm hng)"}),l.jsxs("select",{className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-slate-900 outline-none transition-all font-bold text-slate-700 cursor-pointer shadow-sm",value:H.categoryId,onChange:X=>P({...H,categoryId:X.target.value}),children:[l.jsx("option",{value:"",children:" Cha phn loi "}),r.map(X=>l.jsx("option",{value:X.id,children:X.name},X.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"M vch (Barcode)"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-slate-900 outline-none transition-all font-black text-slate-600",value:H.barcode,onChange:X=>P({...H,barcode:X.target.value}),placeholder:"Scan..."}),l.jsx("button",{type:"button",onClick:()=>O(!R),className:"absolute right-3 top-3 p-2 bg-white border border-slate-100 rounded-xl text-slate-400 hover:text-slate-900 shadow-sm transition-all",children:l.jsx(Tp,{size:20})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"n v"}),l.jsx("input",{type:"text",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-slate-900 outline-none transition-all font-bold",value:H.unit,onChange:X=>P({...H,unit:X.target.value}),placeholder:"Ci, Hp, KG..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Gi bn nim yt *"}),l.jsx("input",{required:!0,type:"number",className:"w-full px-6 py-4 bg-slate-900 text-white rounded-2xl focus:ring-4 focus:ring-slate-100 outline-none transition-all font-black text-xl tabular-nums shadow-sm",value:H.price,onChange:X=>P({...H,price:X.target.value}),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Gi vn"}),l.jsx("input",{type:"number",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-slate-900 outline-none transition-all font-black text-xl tabular-nums shadow-sm",value:H.priceIn,onChange:X=>P({...H,priceIn:X.target.value}),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"S d u k"}),l.jsx("input",{required:!0,type:"number",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-slate-900 outline-none transition-all font-black text-xl shadow-sm text-slate-700",value:H.currentStock,onChange:X=>P({...H,currentStock:X.target.value}),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Cnh bo di"}),l.jsx("input",{type:"number",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:bg-white focus:border-rose-500 transition-all font-black text-xl text-rose-500 shadow-sm",value:H.minStockThreshold,onChange:X=>P({...H,minStockThreshold:X.target.value}),placeholder:"5"})]})]})]}),l.jsxs("footer",{className:"px-10 py-8 border-t border-slate-100 flex justify-end gap-4 bg-[#fafbfc]",children:[l.jsx("button",{onClick:()=>g(!1),className:"px-8 py-4 bg-white text-slate-400 font-bold text-[11px] uppercase tracking-widest rounded-xl hover:text-slate-600 border border-slate-100",children:"ng"}),l.jsx("button",{type:"submit",form:"productForm",className:"px-10 py-4 bg-slate-900 text-white font-black text-[11px] uppercase tracking-widest rounded-xl shadow-lg hover:bg-slate-800 transition-all",children:"Lu d liu"})]})]})}),b&&l.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in duration-300 border border-white/20",children:[l.jsxs("div",{className:"relative h-48 bg-slate-900 flex flex-col items-center justify-center text-center p-8 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-blue-600/20 blur-[100px] rounded-full -translate-x-1/2 -translate-y-1/2 animate-pulse"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-emerald-600/20 blur-[100px] rounded-full translate-x-1/2 translate-y-1/2 animate-pulse transition-delay-1000"}),l.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-3xl flex items-center justify-center mb-4 backdrop-blur-sm border border-white/10",children:l.jsx(n3,{size:40,className:"text-amber-400 rotate-12"})}),l.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:"VT QU GII HN GI"}),l.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mt-2",children:"Dnh cho khch hng VIP"})]}),l.jsxs("div",{className:"p-10 text-center",children:[l.jsxs("p",{className:"text-slate-600 text-lg font-medium leading-relaxed",children:["Bn  s dng ht ",l.jsx("span",{className:"font-black text-slate-900",children:L("products").limit})," sn phm cho php trong gi ",l.jsx("span",{className:"text-blue-600 font-bold uppercase tracking-tighter",children:"BASIC"}),"."]}),l.jsxs("p",{className:"text-slate-400 text-sm mt-4",children:[" thm hng nghn sn phm mi v m kha cc tnh nng bo co chuyn su, hy nng cp ln gi ",l.jsx("span",{className:"text-slate-900 font-bold",children:"PRO"})," ngay hm nay."]}),l.jsxs("div",{className:"mt-10 flex flex-col gap-4",children:[l.jsxs("button",{onClick:()=>navigate("/settings"),className:"w-full bg-slate-900 hover:bg-slate-800 text-white py-5 rounded-2xl font-black text-sm uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-3",children:[l.jsx(Xb,{size:20})," Nng Cp Ngay"]}),l.jsx("button",{onClick:()=>N(!1),className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-500 py-4 rounded-xl font-bold text-xs uppercase tracking-widest transition-all",children:" sau"})]})]})]})})]})}const xl=({icon:e,label:t,value:r,isAlert:a,isStatus:c})=>l.jsxs("div",{className:"p-7 rounded-3xl border border-slate-100 bg-white hover:border-slate-200 transition-all shadow-sm flex flex-col justify-between h-40 group relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-slate-50 rounded-full -mr-12 -mt-12 transition-transform duration-700 group-hover:scale-[3]"}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-500 font-bold group-hover:text-slate-900 transition-colors",children:t}),l.jsx("div",{className:"p-2.5 rounded-xl transition-all duration-500 group-hover:rotate-6 bg-slate-50 text-slate-300 group-hover:text-slate-900",children:e})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5 z-10",children:[l.jsx("div",{className:`text-3xl font-black tracking-tighter leading-none ${a?"text-rose-600":"text-slate-900"}`,children:typeof r=="number"?r.toLocaleString():r}),!a&&!c&&l.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-widest ml-1",children:""}),c&&l.jsx("div",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase text-emerald-600 ml-2 bg-emerald-50 px-2 py-1 rounded-lg",children:"Active"})]})]});function dv(){const[e,t]=M.useState([]),[r,a]=M.useState(!0),[c,d]=M.useState(null);M.useEffect(()=>{x()},[]);const x=async()=>{a(!0);try{const b=await We.getOrders({limit:50});t(b.data||[])}catch(b){console.error(b)}finally{a(!1)}},y=b=>Number(b).toLocaleString("vi-VN",{style:"currency",currency:"VND"}),w=b=>new Date(b).toLocaleString("vi-VN"),g=({order:b,onClose:N})=>{var A,D,R;return b?l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-fade-in-up",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-primary/10 p-2 rounded-xl",children:l.jsx(Dc,{className:"text-primary",size:24})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Chi tit ha n"}),l.jsx("p",{className:"text-xs text-slate-500 font-bold",children:b.code})]})]}),l.jsx("button",{onClick:N,className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:l.jsx(mr,{size:20})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:[l.jsx(df,{size:12})," Thi gian"]}),l.jsx("div",{className:"text-sm font-bold text-slate-700",children:w(b.createdAt)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:[l.jsx(n0,{size:12})," Thanh ton"]}),l.jsx("div",{children:l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase ${b.paymentMethod==="DEBT"?"bg-orange-100 text-orange-700":b.paymentMethod==="BANK_TRANSFER"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:b.paymentMethod==="DEBT"?"Ghi n":b.paymentMethod==="BANK_TRANSFER"?"Chuyn khon":"Tin mt"})})]}),l.jsxs("div",{className:"col-span-2 space-y-1 bg-slate-50 p-4 rounded-2xl border border-dashed",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:[l.jsx(gr,{size:12})," Khch hng"]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-bold text-slate-800",children:((A=b.customer)==null?void 0:A.name)||"Khch l"}),l.jsx("span",{className:"text-xs text-slate-500",children:((D=b.customer)==null?void 0:D.phone)||""})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-[10px] font-black uppercase tracking-widest px-1",children:[l.jsx(Zb,{size:12})," Danh sch sn phm"]}),l.jsx("div",{className:"border rounded-2xl overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left",children:"Sn phm"}),l.jsx("th",{className:"px-4 py-3 text-center",children:"SL"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"n gi"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Thnh tin"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:(R=b.items)==null?void 0:R.map((O,L)=>{var j,I;return l.jsxs("tr",{children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-bold text-slate-800",children:((j=O.product)==null?void 0:j.name)||"Sn phm  xa"}),l.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:(I=O.product)==null?void 0:I.barcode})]}),l.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-600",children:O.quantity}),l.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:y(O.price)}),l.jsx("td",{className:"px-4 py-3 text-right font-bold text-slate-800",children:y(O.price*O.quantity)})]},L)})})]})})]})]}),l.jsx("div",{className:"p-6 bg-slate-900 text-white",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:"Tng cng thanh ton"}),l.jsx("span",{className:"text-2xl font-black text-white",children:y(b.totalAmount)})]})})]})}):null};return l.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-slate-50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-sm border",children:l.jsx(Dc,{className:"text-primary",size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Lch s n hng"}),l.jsx("p",{className:"text-slate-500 text-xs font-bold",children:"Qun l v xem li li cc ha n  xut."})]})]}),l.jsx("button",{onClick:x,className:"p-2 hover:bg-white rounded-xl transition-all border border-transparent hover:border-slate-200 active:scale-95",children:l.jsx(df,{className:"text-slate-400",size:20})})]}),l.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-50/50 text-slate-400 uppercase font-black text-[10px] tracking-widest",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-5",children:"M n"}),l.jsx("th",{className:"px-6 py-5",children:"Khch hng"}),l.jsx("th",{className:"px-6 py-5",children:"Thi gian"}),l.jsx("th",{className:"px-6 py-5 text-center",children:"PTTT"}),l.jsx("th",{className:"px-6 py-5 text-right",children:"Tng tin"}),l.jsx("th",{className:"px-6 py-5 text-center",children:"Thao tc"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin"}),l.jsx("span",{className:"text-slate-400 font-bold text-xs",children:"ang ti d liu..."})]})})}):e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-300",children:[l.jsx(Dc,{size:48,strokeWidth:1}),l.jsx("span",{className:"font-bold",children:"Cha c n hng no c ghi nhn"})]})})}):e.map(b=>{var N;return l.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:l.jsx("div",{className:"bg-slate-100 px-2 py-1 rounded-lg inline-block group-hover:bg-white transition-colors",children:b.code})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-7 h-7 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-white transition-colors",children:l.jsx(gr,{size:14})}),l.jsx("span",{className:"font-bold text-slate-700",children:((N=b.customer)==null?void 0:N.name)||"Khch l"})]})}),l.jsx("td",{className:"px-6 py-4 text-slate-500 font-medium whitespace-nowrap",children:w(b.createdAt)}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-tight ${b.paymentMethod==="DEBT"?"bg-orange-100 text-orange-700":b.paymentMethod==="BANK_TRANSFER"?"bg-blue-100 text-blue-700":"bg-emerald-100 text-emerald-700"}`,children:b.paymentMethod==="DEBT"?"Ghi n":b.paymentMethod==="BANK_TRANSFER"?"Chuyn khon":"Tin mt"})}),l.jsx("td",{className:"px-6 py-4 text-right font-black text-slate-900 border-r-4 border-transparent group-hover:border-primary transition-all",children:y(b.totalAmount)}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("button",{onClick:()=>d(b),className:"bg-white border border-slate-200 px-4 py-1.5 rounded-xl text-primary font-black text-[10px] uppercase shadow-sm hover:bg-primary hover:text-white hover:border-primary transition-all active:scale-95",children:"Xem"})})]},b.id)})})]})})}),l.jsx(g,{order:c,onClose:()=>d(null)})]})}function hv(){const[e,t]=M.useState([]),[r,a]=M.useState(!0),[c,d]=M.useState("");M.useEffect(()=>{x()},[c]);const x=async()=>{a(!0);try{const g=await We.getDebtors({search:c});t(g.data||[])}catch(g){console.error(g)}finally{a(!1)}},y=async g=>{alert("Tnh nng thanh ton n s c cp nht trong bn ti!")},w=g=>Number(g).toLocaleString("vi-VN",{style:"currency",currency:"VND"});return l.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-slate-50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"S N Khch Hng"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Qun l cng n khch hng."})]}),l.jsxs("div",{className:"relative w-64",children:[l.jsx("input",{type:"text",placeholder:"Tm tn hoc ST...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:g=>d(g.target.value)}),l.jsx("span",{className:"material-icons absolute left-3 top-2.5 text-slate-400 text-sm",children:"search"})]})]}),l.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase font-bold text-xs",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4",children:"Tn khch hng"}),l.jsx("th",{className:"px-6 py-4",children:"S in thoi"}),l.jsx("th",{className:"px-6 py-4 text-right",children:"Tng n"}),l.jsx("th",{className:"px-6 py-4 text-center",children:"Hnh ng"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-400",children:"ang ti..."})}):e.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-400",children:"Khng c khch n no"})}):e.map(g=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",children:g.name}),l.jsx("td",{className:"px-6 py-4 text-slate-600 font-mono",children:g.phone}),l.jsx("td",{className:"px-6 py-4 text-right font-bold text-red-600 text-base",children:w(g.debtTotal)}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("button",{onClick:()=>y(g.id),className:"px-4 py-1.5 bg-blue-50 text-blue-600 rounded-lg font-bold hover:bg-blue-100 transition-colors text-xs uppercase",children:"Tr n"})})]},g.id))})]})})})]})}function fv({isOpen:e,onClose:t,reportData:r,onSuccess:a}){const[c,d]=M.useState(!1),[x,y]=M.useState("confirm"),[w,g]=M.useState(""),[b,N]=M.useState(null),A=async()=>{d(!0),y("processing"),g("");try{const D=await We.signReport(r);N({owner:D.signerName||"NGUYEN VAN A",time:new Date().toLocaleString("vi-VN"),serial:D.certSerial||"5404-2024-1234-5678"}),y("success"),a(D)}catch(D){console.error(D),g(D.message||"Li kt ni n Viettel CA. Vui lng th li."),y("error")}finally{d(!1)}};return e?l.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[110] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300",children:[l.jsxs("div",{className:"bg-slate-50 p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[l.jsx(dr,{className:"text-blue-600"})," Xc thc Danh tnh"]}),l.jsx("button",{onClick:t,disabled:c,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400 hover:text-red-500",children:l.jsx(mr,{size:20})})]}),l.jsxs("div",{className:"p-8",children:[x==="confirm"&&l.jsxs("div",{className:"space-y-6 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-blue-100",children:l.jsx(dr,{size:40,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-2",children:"K s & Xc thc Bo co"}),l.jsxs("p",{className:"text-slate-500 text-sm leading-relaxed",children:["H thng s kt ni n ",l.jsx("b",{children:"Viettel CA (Remote Signing)"}),"  k s ln bo co ny. Hnh ng ny xc nhn tnh php l v tnh ton vn ca d liu."]})]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100 text-left",children:[l.jsx("p",{className:"text-xs font-bold text-amber-700 uppercase mb-1",children:"Lu :"}),l.jsx("p",{className:"text-xs text-amber-600",children:"Bn cn c quyn ch s hu hoc k ton trng mi c th thc hin thao tc ny."})]}),l.jsx("button",{onClick:A,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-black shadow-lg shadow-blue-200 active:scale-95 transition-all flex items-center justify-center gap-2",children:"K s ngay"})]}),x==="processing"&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-100 rounded-full animate-ping opacity-75"}),l.jsx("div",{className:"relative bg-white p-4 rounded-full border-4 border-blue-100 shadow-xl",children:l.jsx(l3,{size:40,className:"text-blue-600 animate-spin"})})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"font-bold text-slate-800",children:"ang thc hin k s..."}),l.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"ang kt ni Viettel HSM..."})]})]}),x==="success"&&b&&l.jsxs("div",{className:"text-center space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[l.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-2 border-4 border-emerald-100 animate-bounce",children:l.jsx(oi,{size:48,className:"text-emerald-500"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-emerald-700 text-xl",children:" xc thc Chnh ch!"}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Bo co  c k s thnh cng."})]}),l.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 text-left space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-500",children:"Ngi k:"}),l.jsx("span",{className:"font-bold text-slate-800",children:b.owner})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-500",children:"Thi gian:"}),l.jsx("span",{className:"font-bold text-slate-800",children:b.time})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-500",children:"S serial:"}),l.jsx("span",{className:"font-mono text-xs font-bold text-slate-600",children:b.serial})]})]}),l.jsx("button",{onClick:t,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold shadow-lg shadow-emerald-200 active:scale-95 transition-all",children:"Hon tt"})]}),x==="error"&&l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-red-100",children:l.jsx(mr,{size:40,className:"text-red-500"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-red-600 text-lg",children:"K s tht bi"}),l.jsx("p",{className:"text-slate-500 text-sm mt-2",children:w})]}),l.jsx("button",{onClick:()=>y("confirm"),className:"w-full py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-bold transition-all",children:"Th li"})]})]})]})}):null}function xv(){var Ce,ne;const{isPro:e,loading:t}=a0(),[r,a]=M.useState(null),[c,d]=M.useState(!0),[x,y]=M.useState("tax"),[w,g]=M.useState("01_cnkd"),[b,N]=M.useState("s1"),[A,D]=M.useState(!1),[R,O]=M.useState(new Date().getMonth()+1),[L,j]=M.useState(new Date().getFullYear()),[I,T]=M.useState(!1),[U,H]=M.useState(!1),[P,z]=M.useState(null),J=[{id:"s1",code:"S1-HKD",name:"S doanh thu",icon:l.jsx(Xu,{size:22}),color:"blue"},{id:"s2",code:"S2-HKD",name:"S vt t, hng ha",icon:l.jsx(Hu,{size:22}),color:"amber"},{id:"s3",code:"S3-HKD",name:"S chi ph SXKD",icon:l.jsx($b,{size:22}),color:"rose"},{id:"s4",code:"S4-HKD",name:"S thanh ton thu",icon:l.jsx(dr,{size:22}),color:"emerald"},{id:"s5",code:"S5-HKD",name:"S thanh ton lng",icon:l.jsx(qb,{size:22}),color:"indigo"},{id:"s6",code:"S6-HKD",name:"S qu tin mt",icon:l.jsx(Ml,{size:22}),color:"orange"},{id:"s7",code:"S7-HKD",name:"S tin gi ngn hng",icon:l.jsx(ff,{size:22}),color:"cyan"}];if(M.useEffect(()=>{!t&&e&&$()},[R,L,x,b,t,e]),t)return l.jsx("div",{className:"p-10 text-center animate-pulse text-slate-400 font-bold",children:"ang kim tra quyn truy cp..."});if(!e)return l.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-md w-full bg-white p-12 rounded-[3rem] shadow-xl text-center border border-slate-100 animate-in fade-in zoom-in duration-500",children:[l.jsx("div",{className:"w-24 h-24 bg-amber-50 rounded-3xl flex items-center justify-center mx-auto mb-8 rotate-3 shadow-inner",children:l.jsx(Lock,{size:48,className:"text-amber-500"})}),l.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight mb-4",children:"TNH NNG GII HN"}),l.jsxs("p",{className:"text-slate-500 leading-relaxed mb-10 font-medium",children:["Bo co thu v S sch k ton (TT88) ch dnh cho khch hng s dng gi ",l.jsx("span",{className:"text-blue-600 font-bold uppercase",children:"PRO"})," hoc ",l.jsx("span",{className:"text-emerald-600 font-bold uppercase",children:"ENTERPRISE"}),"."]}),l.jsxs("button",{onClick:()=>window.location.href="/settings",className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-black py-5 rounded-2xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-3",children:[l.jsx(Crown,{size:20,className:"text-amber-400"})," NNG CP NGAY"]}),l.jsx("button",{onClick:()=>window.history.back(),className:"mt-6 text-slate-400 font-bold text-xs uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Quay li"})]})});const $=async()=>{d(!0);try{const G=await We.getReport({month:R,year:L,type:x,book:b});a(G)}catch(G){console.error(G)}finally{d(!1)}},ge=G=>Number(G||0).toLocaleString("vi-VN")+" ";if(c)return l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-slate-50/50 backdrop-blur-xl",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-100 border-t-blue-600 rounded-full animate-spin"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(d3,{className:"text-blue-600/50",size:24})})]}),l.jsx("p",{className:"mt-6 text-slate-500 font-black uppercase tracking-[0.3em] text-[10px] animate-pulse",children:"ang ng b d liu Thng t 88..."})]});if(!r)return l.jsx("div",{className:"p-20 text-center text-rose-500 font-bold bg-white rounded-3xl m-8 shadow-2xl",children:"Khng c d liu cho k ny"});const{summary:ce,invoices:de,bookData:he}=r,ie=()=>{if(!he||he.length===0){alert("Khng c d liu  xut!");return}let G=[],ue=[];switch(b){case"s1":G=["Ngy","K hiu","S H","M CQT","Ni dung","Doanh thu","Gim tr","DT Thun","Trng thi T-VAN"],ue=he.map(q=>[q.date,q.invoiceSymbol,q.id,q.taxCode,q.desc,q.revenue,q.returnAmount,q.revenue-(q.returnAmount||0),q.tvanStatus==="SENT"?" gi":"Ch gi"]);break;case"s2":G=["Ngy","Chng t","Din gii","VT","Nhp","Xut","Tn","Cnh bo"],ue=he.map(q=>[q.date,q.code,q.name,q.unit,q.in,q.out,q.stock,!q.hasInvoice&&q.in>0?"Thiu H":""]);break;case"s3":G=["Ngy","S CT","Ni dung chi ph","S tin"],ue=he.map(q=>[q.date,q.doc,q.desc,q.out]);break;case"s4":G=["Ngy np","Chng t","Loi thu","S tin  np"],ue=he.map(q=>[q.date,q.doc,q.desc,q.amount]);break;case"s5":G=["Thi gian","Nhn vin","Chc v","Lng CB","Thng","Thc lnh"],ue=he.map(q=>[q.date,q.name,q.role,q.salary,q.bonus,q.total]);break;case"s6":case"s7":G=["Thi gian","S Phiu","Ni dung","Thu","Chi"],ue=he.map(q=>[q.date,q.doc,q.desc,q.in,q.out]);break;default:return}const me=[G.join(","),...ue.map(q=>q.map(_e=>`"${String(_e??"").replace(/"/g,'""')}"`).join(","))].join(`
`),Te=new Blob(["\uFEFF"+me],{type:"text/csv;charset=utf-8;"}),ve=URL.createObjectURL(Te),X=document.createElement("a");X.href=ve,X.setAttribute("download",`${b.toUpperCase()}_BaoCao_T${R}_${L}.csv`),document.body.appendChild(X),X.click(),document.body.removeChild(X)},Y=()=>{var gt,Ze;const G=((gt=r==null?void 0:r.store)==null?void 0:gt.taxCode)||"8888888888",ue=((Ze=r==null?void 0:r.store)==null?void 0:Ze.name)||"Ca Hng Tp Ha",me=`Thng ${R}/${L}`,Te=new Date().toISOString();let ve="";he.forEach((Mt,is)=>{ve+=`
                    <BangKe>
                        <STT>${is+1}</STT>
                        <MauSo>${Mt.invoiceSymbol||"1C22TYY"}</MauSo>
                        <KyHieu>${Mt.invoiceSymbol?Mt.invoiceSymbol.substring(1):"C22TYY"}</KyHieu>
                        <SoHoaDon>${Mt.id}</SoHoaDon>
                        <NgayPhatHanh>${Mt.date}</NgayPhatHanh>
                        <TenNguoiMua>${Mt.buyer||"Khch l"}</TenNguoiMua>
                        <MaSoThueNguoiMua></MaSoThueNguoiMua>
                        <MatHang>${Mt.desc}</MatHang>
                        <DoanhThu>${Mt.revenue}</DoanhThu>
                        <ThueGTGT>${Mt.vat}</ThueGTGT>
                        <ThueTNCN>${Mt.pit}</ThueTNCN>
                        <GhiChu>${Mt.tvanStatus==="SENT"?" gi CQT":"Cha gi"}</GhiChu>
                    </BangKe>`});const X=`<?xml version="1.0" encoding="UTF-8"?>
<HSoThueDTu xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <HSoKhaiThue>
        <TTinChung>
            <PhienBan>2.0.0</PhienBan>
            <MaSoThue>${G}</MaSoThue>
            <TenNguoiNopThue>${ue}</TenNguoiNopThue>
            <KyTinhThue>${me}</KyTinhThue>
            <LoaiToKhai>C</LoaiToKhai>
            <NgayLap>${Te}</NgayLap>
            <NguoiKy>${P?P.signerName:"Nguyn Vn A"}</NguoiKy>
        </TTinChung>
        <CTietHKhai>
            <TenBieuMau>Bng k chi tit doanh thu bn hng ha, dch v</TenBieuMau>
            <MaBieuMau>01-1/HKD</MaBieuMau>
            <DuLieuBangKe>
                ${ve}
            </DuLieuBangKe>
            <TongCong>
                <TongDoanhThu>${ce.total_revenue}</TongDoanhThu>
                <TongThueGTGT>${ce.vat_amount}</TongThueGTGT>
                <TongThueTNCN>${ce.pit_amount}</TongThueTNCN>
            </TongCong>
        </CTietHKhai>
        ${P?`
        <Signature>
            <SignedInfo>Bo co  c k in t bi ${P.signerName}</SignedInfo>
            <SignatureValue>${P.signatureValue}</SignatureValue>
            <KeyInfo>${P.certSerial}</KeyInfo>
        </Signature>`:""}
    </HSoKhaiThue>
</HSoThueDTu>`,q=new Blob([X],{type:"text/xml"}),_e=URL.createObjectURL(q),le=document.createElement("a");le.href=_e,le.download=`${P?"SIGNED_":""}S1_BanHang_${G}_T${R}_${L}.xml`,document.body.appendChild(le),le.click(),document.body.removeChild(le)};return l.jsxs("div",{className:"min-h-full bg-[#f8fafc] p-4 lg:p-8 overflow-y-auto hide-scrollbar",children:[l.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-8 animate-fade-in-up",children:[l.jsxs("header",{className:"relative overflow-hidden bg-white rounded-[2.5rem] border border-slate-200/60 shadow-2xl shadow-slate-200/40 p-8 lg:p-10",children:[l.jsx("div",{className:"absolute top-0 right-0 w-[40%] h-full bg-gradient-to-l from-blue-50/50 to-transparent -mr-20"}),l.jsxs("div",{className:"relative flex flex-col xl:flex-row justify-between items-start xl:items-center gap-10",children:[l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-blue-50 text-blue-600 rounded-full text-[15px] font-black uppercase tracking-widest border border-blue-100",children:[l.jsx(dr,{size:14})," H thng k ton Thng t 88/2021/TT-BTC"]}),l.jsxs("h1",{className:"text-4xl font-black text-slate-900 tracking-tight leading-tight",children:["Bo Co ",l.jsx("span",{className:"text-blue-600",children:"&"})," Thu"]}),l.jsx("p",{className:"text-slate-500 text-sm font-medium max-w-lg",children:"T ng chun ha d liu t ha n in t, cung cp y  07 loi s sch v t khai thu c nhn kinh doanh."})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-6 w-full xl:w-auto",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1.5 rounded-2xl border border-slate-200 shadow-inner",children:[l.jsx("div",{className:"flex items-center px-4 gap-2 text-slate-400",children:l.jsx(ao,{size:18})}),l.jsx("select",{value:R,onChange:G=>O(G.target.value),className:"bg-white border-none rounded-xl text-sm font-black text-slate-700 focus:ring-2 focus:ring-blue-500 shadow-sm px-4 py-2.5 outline-none cursor-pointer",children:Array.from({length:12},(G,ue)=>ue+1).map(G=>l.jsxs("option",{value:G,children:["Thng ",G]},G))}),l.jsxs("select",{value:L,onChange:G=>j(G.target.value),className:"bg-white border-none rounded-xl text-sm font-black text-slate-700 focus:ring-2 focus:ring-blue-500 shadow-sm px-4 py-2.5 outline-none cursor-pointer",children:[l.jsx("option",{value:"2025",children:"2025"}),l.jsx("option",{value:"2026",children:"2026"})]})]}),l.jsxs("div",{className:"bg-white p-1.5 rounded-[1.25rem] flex shadow-xl border border-slate-200 relative",children:[l.jsx("div",{className:"absolute -top-3 -right-3 z-10",children:l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"bg-blue-600 text-white p-1.5 rounded-full shadow-lg shadow-blue-200 animate-bounce cursor-help",children:l.jsx(s3,{size:14})}),l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 p-3 bg-slate-800 text-white text-xs rounded-xl shadow-xl opacity-0 group-hover:opacity-100 transition-all z-50 pointer-events-none",children:[l.jsx("p",{className:"font-bold mb-1",children:"Ch  xem:"}),l.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-[10px] text-slate-300",children:[l.jsxs("li",{children:[l.jsx("b",{children:"Thu:"})," Xem t khai mu, ngha v thu phi np."]}),l.jsxs("li",{children:[l.jsx("b",{children:"S Sch:"})," Xem chi tit 7 loi s k ton (S1-S7)."]})]})]})]})}),l.jsxs("button",{onClick:()=>y("tax"),className:`px-6 py-3 rounded-xl transition-all duration-300 flex items-center gap-2 text-xs font-black uppercase tracking-widest ${x==="tax"?"bg-slate-900 text-white shadow-lg shadow-slate-500/30":"text-slate-400 hover:bg-slate-50"}`,children:[l.jsx(Ml,{size:16})," Bo co Thu"]}),l.jsxs("button",{onClick:()=>y("accounting"),className:`px-6 py-3 rounded-xl transition-all duration-300 flex items-center gap-2 text-xs font-black uppercase tracking-widest ${x==="accounting"?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"text-slate-400 hover:bg-slate-50"}`,children:[l.jsx(ff,{size:16})," S Sch (S1-S7)"]})]})]})]})]}),l.jsx(pv,{summary:ce}),x==="tax"?l.jsxs("div",{className:"grid grid-cols-12 gap-8 items-start",children:[l.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:[l.jsx(Lc,{title:"Doanh thu tnh thu",value:ce.total_revenue,color:"slate",icon:l.jsx(Xu,{})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Lc,{title:"Thu GTGT (1%)",value:ce.vat_amount,color:"amber",icon:l.jsx(dr,{size:18}),compact:!0,tooltip:"Thu Gi tr gia tng: 1% trn doanh thu chu thu"}),l.jsx(Lc,{title:"Thu TNCN (0.5%)",value:ce.pit_amount,color:"orange",icon:l.jsx(dr,{size:18}),compact:!0,tooltip:"Thu Thu nhp c nhn: 0.5% trn doanh thu chu thu"})]}),l.jsxs("div",{className:"bg-blue-600 p-8 rounded-[2rem] text-white shadow-2xl shadow-blue-200 flex flex-col justify-between relative overflow-hidden group",children:[l.jsx("div",{className:"absolute -right-10 -bottom-10 opacity-10 group-hover:scale-110 transition-transform duration-700",children:l.jsx(Ml,{size:200})}),l.jsxs("div",{className:"relative space-y-4",children:[l.jsx("p",{className:"text-blue-100 text-[15px] font-black uppercase tracking-[0.2em]",children:"Tng ngha v thu k ny"}),l.jsxs("div",{className:"flex items-end gap-2 group relative cursor-help",children:[l.jsx("h2",{className:"text-4xl font-black",children:Number(ce.total_tax).toLocaleString()}),l.jsx("span",{className:"text-lg font-bold mb-1",children:""}),l.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 bg-slate-800 text-white text-[10px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none text-center",children:"Tng s tin thu (GTGT + TNCN) bn cn np trong k ny."})]}),l.jsxs("div",{className:"pt-6 flex gap-3",children:[l.jsx("button",{className:"flex-1 bg-white text-blue-600 font-black py-3 rounded-xl text-[10px] uppercase shadow-xl hover:bg-blue-50 active:scale-95 transition-all",children:"Xut XML (HTKK)"}),l.jsx("button",{className:"bg-blue-500 text-white p-3 rounded-xl hover:bg-blue-400 transition-all",children:l.jsx(Gu,{size:16})})]})]})]})]}),l.jsx("div",{className:"col-span-12 lg:col-span-8",children:l.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden shadow-slate-200/30",children:[l.jsxs("div",{className:"bg-slate-50/50 p-2 flex gap-2 border-b border-slate-100",children:[l.jsx(Bc,{active:w==="01_cnkd",onClick:()=>g("01_cnkd"),label:"T khai 01/CNKD"}),l.jsx(Bc,{active:w==="01_2_bk",onClick:()=>g("01_2_bk"),label:"Bng k 01-2/BK"}),l.jsx(Bc,{active:w==="reduction",onClick:()=>g("reduction"),label:"Gim thu"})]}),l.jsxs("div",{className:"p-10 lg:p-14",children:[w==="01_cnkd"&&l.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[l.jsxs("header",{className:"text-center space-y-4",children:[l.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight leading-tight",children:"T khai thu i vi c nhn kinh doanh"}),l.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"(Thng t 40/2021/TT-BTC)"}),l.jsxs("div",{className:"inline-block px-10 py-3 bg-slate-900 text-white text-[11px] font-black uppercase tracking-[0.2em] rounded-2xl shadow-xl",children:["K tnh thu: ",R," / ",L]})]}),l.jsxs("div",{className:"space-y-10",children:[l.jsx("section",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 italic font-medium text-slate-600 text-sm",children:"D liu di y c t ng trch xut t lch s giao dch ha n v cu hnh ca hng. Vui lng kim tra k trc khi np ln h thng ca Tng cc Thu."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(pl,{label:"M s thu",value:"0102030405-999"}),l.jsx(pl,{label:"Tn ngi np",value:"Nh thuc - Tp ha POS PRO"}),l.jsx(pl,{label:"a ch",value:"S 123, ng Lng, H Ni"}),l.jsx(pl,{label:"M ngnh",value:"Retail_4700"})]}),l.jsxs("div",{className:"border border-slate-100 rounded-[2rem] overflow-hidden shadow-xl shadow-slate-100/50 bg-white",children:[l.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex justify-between items-center cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>D(!A),children:[l.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[A?l.jsx(Vu,{size:14}):l.jsx(Wu,{size:14}),A?"Thu gn chi tit":"Xem chi tit t khai"]}),A?l.jsx(t3,{size:16,className:"text-slate-400"}):l.jsx(e3,{size:16,className:"text-slate-400"})]}),A&&l.jsxs("table",{className:"w-full text-sm animate-fade-in",children:[l.jsx("thead",{className:"bg-slate-900 text-white text-[9px] font-black uppercase tracking-[0.2em]",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-6 text-left",children:"Ch tiu kinh doanh"}),l.jsx("th",{className:"p-6 text-right",children:"Doanh thu"}),l.jsx("th",{className:"p-6 text-right",children:"Tin thu"})]})}),l.jsxs("tbody",{className:"divide-y divide-slate-50",children:[l.jsx(Pc,{label:"Phn phi hng ha",amount:ce.total_revenue,tax:ce.total_tax}),l.jsx(Pc,{label:"Dch v, Xy dng",amount:0,tax:0}),l.jsx(Pc,{label:"Sn xut, Vn ti",amount:0,tax:0})]})]}),l.jsxs("div",{className:"bg-slate-900 text-white border-t border-slate-800 p-6 flex justify-between items-center",children:[l.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:"Tng ngha v ti chnh"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-black text-xl",children:ge(ce.total_tax)}),l.jsxs("div",{className:"text-[10px] opacity-60 font-bold",children:["Doanh thu: ",ge(ce.total_revenue)]})]})]})]})]})]}),w==="01_2_bk"&&l.jsx(Cv,{icon:l.jsx(Hu,{size:60}),title:"Bng k 01-2/BK-HDKD",desc:"Tnh nng ny t ng tng hp cc ha n mua vo. Hin ti bn cha c d liu nh cung cp trong k ny."}),w==="reduction"&&l.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 p-12 rounded-[3rem] text-center shadow-xl shadow-emerald-100/30",children:[l.jsx("div",{className:"bg-white w-20 h-20 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-lg shadow-emerald-200/50",children:l.jsx(dr,{className:"text-emerald-500",size:40})}),l.jsx("h3",{className:"text-emerald-900 font-extrabold text-2xl uppercase tracking-tight",children:"K khai Gim Thu"}),l.jsx("p",{className:"text-emerald-700/60 font-medium text-xs uppercase tracking-widest mt-3",children:"ang p dng Ngh quyt 101/2023/QH15 (Gim 2% GTGT)"}),l.jsxs("div",{className:"mt-12 pt-10 border-t border-emerald-200/50 flex flex-col items-center",children:[l.jsx("p",{className:"text-emerald-800/40 text-[10px] font-black uppercase tracking-widest mb-4",children:"S tin min gim d kin"}),l.jsxs("div",{className:"text-5xl font-black text-emerald-600",children:["0 ",l.jsx("span",{className:"text-lg",children:""})]})]})]})]})]})})]}):l.jsxs("div",{className:"space-y-10",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-5",children:J.map(G=>l.jsxs("button",{onClick:()=>N(G.id),className:`group relative h-40 bg-white rounded-[2.5rem] border-2 transition-all duration-500 p-6 flex flex-col justify-between overflow-hidden ${b===G.id?"border-blue-600 shadow-2xl shadow-blue-200 -translate-y-2":"border-white hover:border-slate-200 shadow-xl shadow-slate-100"}`,children:[l.jsx("div",{className:`absolute -right-6 -top-6 w-24 h-24 rounded-full opacity-0 group-hover:opacity-5 placeholder: transition-opacity ${b===G.id?"opacity-10 scale-150":""} bg-slate-900`}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${b===G.id?"bg-blue-600 text-white shadow-lg shadow-blue-300":"bg-slate-50 text-slate-400 group-hover:bg-slate-100 group-hover:text-slate-600"}`,children:G.icon}),l.jsx("span",{className:`text-[8px] font-black px-2.5 py-1 rounded-lg uppercase tracking-widest ${b===G.id?"bg-blue-600 text-white":"bg-slate-100 text-slate-400 group-hover:bg-slate-200"}`,children:G.code})]}),l.jsx("p",{className:`font-black text-[11px] leading-tight uppercase tracking-wider transition-colors duration-500 ${b===G.id?"text-slate-900":"text-slate-500 group-hover:text-slate-800"}`,children:G.name})]},G.id))}),l.jsxs("div",{className:"bg-white rounded-[3.5rem] border border-slate-200 shadow-2xl p-8 lg:p-14 mb-20 shadow-slate-200/40 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 p-14 opacity-[0.03] text-slate-900 pointer-events-none",children:(Ce=J.find(G=>G.id===b))==null?void 0:Ce.icon}),l.jsxs("div",{className:"relative flex flex-col sm:flex-row justify-between items-start sm:items-center mb-12 gap-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase",children:(ne=J.find(G=>G.id===b))==null?void 0:ne.name}),l.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-[0.3em] mt-3 flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"})," Kt xut t h thng TT88"]})]}),b==="s1"?l.jsx("div",{className:"flex items-center gap-4",children:P?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"bg-emerald-50 text-emerald-600 px-4 py-3 rounded-2xl border border-emerald-100 flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[l.jsx(Yb,{size:20}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:"Chnh ch -  xc thc"}),l.jsxs("p",{className:"text-[10px] font-bold opacity-70 mt-1",children:["K bi: ",P.signerName]})]})]}),l.jsx("button",{onClick:Y,className:"p-4 bg-slate-900 text-white rounded-2xl hover:bg-slate-800 transition-all shadow-lg active:scale-95",title:"Ti xung XML  k",children:l.jsx(hf,{size:20})})]}):l.jsxs("button",{onClick:()=>H(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-2xl transition-all flex items-center gap-3 font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-200 active:scale-95",children:[l.jsx(dr,{size:18})," K s & Xc thc Chnh ch"]})}):l.jsxs("div",{className:"flex gap-3",children:[["s2","s3","s4","s5"].includes(b)&&l.jsxs("button",{onClick:()=>T(!0),className:"bg-white hover:bg-slate-50 text-slate-900 border border-slate-200 px-6 py-4 rounded-2xl transition-all flex items-center gap-3 font-black text-[10px] uppercase tracking-widest shadow-sm active:scale-95 whitespace-nowrap",children:[l.jsx(Ro,{size:18,className:"text-blue-600"}),b==="s2"&&"Nhp kho",b==="s3"&&"Ghi chi ph",b==="s4"&&"Np thu",b==="s5"&&"Tnh lng"]}),l.jsxs("button",{onClick:ie,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-4 rounded-2xl transition-all flex items-center gap-3 font-black text-[10px] uppercase tracking-widest shadow-xl shadow-emerald-200 active:scale-95 whitespace-nowrap",children:[l.jsx(hf,{size:18})," Kt xut Excel"]})]})]}),l.jsxs("div",{className:"relative overflow-x-auto rounded-[2rem] border border-slate-100 shadow-inner bg-white",children:[b==="s1"&&l.jsx(gv,{data:he,formatMoney:ge}),b==="s2"&&l.jsx(mv,{data:he,formatMoney:ge}),b==="s3"&&l.jsx(bv,{data:he,formatMoney:ge}),b==="s4"&&l.jsx(vv,{data:he,formatMoney:ge}),b==="s5"&&l.jsx(Nv,{data:he,formatMoney:ge}),b==="s6"&&l.jsx(yv,{data:he,formatMoney:ge}),b==="s7"&&l.jsx(wv,{data:he,formatMoney:ge})]})]})]})]}),U&&l.jsx(fv,{isOpen:U,onClose:()=>H(!1),reportData:{month:R,year:L,type:"tax",summary:ce,bookData:he},onSuccess:G=>{z(G)}})]})}const pv=({summary:e})=>{const t=_s(),r=(e==null?void 0:e.tax_threshold)||1e8,a=(e==null?void 0:e.accumulated_revenue)||0,c=Math.min(a/r*100,100),d=a>r,x=c>80;return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:`col-span-1 lg:col-span-2 p-6 rounded-[2rem] border relative overflow-hidden flex flex-col justify-center ${d?"bg-rose-50 border-rose-100":"bg-white border-slate-200 shadow-sm"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-full ${d?"bg-rose-100 text-rose-600":"bg-blue-50 text-blue-600"}`,children:d?l.jsx(ra,{size:24}):l.jsx(dr,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Ngng doanh thu min thu"}),l.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:["Gii hn ",Number(r).toLocaleString()," /nm"]})]})]}),l.jsxs("span",{className:`text-2xl font-black ${d?"text-rose-600":"text-slate-700"}`,children:[c.toFixed(1),"%"]})]}),l.jsx("div",{className:"h-4 w-full bg-slate-100 rounded-full overflow-hidden mb-2",children:l.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${d?"bg-rose-500":x?"bg-amber-400":"bg-blue-500"}`,style:{width:`${c}%`}})}),l.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-500 uppercase tracking-widest",children:[l.jsxs("span",{children:[Number(a).toLocaleString(),"  (Ly k nm)"]}),l.jsxs("span",{children:[Number(r).toLocaleString()," "]})]}),x&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs font-bold text-amber-600 bg-amber-50 px-3 py-2 rounded-lg border border-amber-100",children:[l.jsx(ra,{size:14}),d?" vt ngng! Ton b doanh thu s chu thu GTGT & TNCN.":"Sp vt ngng min thu! Cn lu  cn i doanh thu."]})]}),l.jsxs("div",{className:"p-6 rounded-[2rem] bg-slate-900 text-white flex flex-col justify-between shadow-xl shadow-slate-300 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/20 rounded-full blur-3xl -mr-10 -mt-10"}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"HT Khi to t my tnh tin"}),l.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Kt ni T-VAN"})]}),l.jsx(Mp,{className:"text-emerald-400 animate-pulse"})]}),l.jsxs("div",{className:"mt-6 space-y-3 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold opacity-80",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"VNPT-Invoice: ",l.jsx("span",{className:"text-emerald-400",children:"ang kt ni"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold opacity-80",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Trng thi gi CQT: ",l.jsx("span",{className:"text-blue-400",children:"T ng"})]})]}),l.jsx("button",{onClick:()=>t("/settings?tab=einvoice"),className:"mt-4 w-full py-3 bg-white/10 hover:bg-white/20 rounded-xl text-xs font-black uppercase tracking-widest backdrop-blur-sm transition-all border border-white/10 active:scale-95",children:"Cu hnh tch hp"})]})]})},Lc=({title:e,value:t,color:r,icon:a,compact:c,tooltip:d})=>{const x={slate:"border-slate-100 bg-white hover:border-slate-300 shadow-slate-200/50",amber:"border-amber-100 bg-amber-50/20 hover:border-amber-400/50 shadow-amber-200/30",orange:"border-orange-100 bg-orange-50/20 hover:border-orange-400/50 shadow-orange-200/30",blue:"border-blue-100 bg-blue-50/20"};return l.jsxs("div",{className:`p-8 rounded-[2rem] border-2 transition-all duration-500 shadow-xl group flex flex-col justify-between h-full relative cursor-help ${x[r]}`,children:[d&&l.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-56 p-2 bg-slate-800 text-white text-[10px] rounded-lg opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none text-center shadow-xl",children:[d,l.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-slate-800"})]}),l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsx("p",{className:"text-slate-900 text-[15px] font-black uppercase tracking-[0.2em]",children:e}),l.jsx("div",{className:`text-slate-300 group-hover:text-slate-500 transition-colors ${c?"opacity-50":""}`,children:a})]}),l.jsxs("div",{className:"flex items-end gap-1.5 text-slate-900",children:[l.jsx("span",{className:`${c?"text-xl":"text-3xl"} font-black tracking-tight`,children:Number(t||0).toLocaleString()}),l.jsx("span",{className:`${c?"text-xs":"text-sm"} font-bold opacity-30 mb-1.5`,children:""})]})]})},Bc=({active:e,onClick:t,label:r})=>l.jsxs("button",{onClick:t,className:`flex-1 py-5 text-[10px] font-black uppercase tracking-[0.2em] transition-all duration-400 rounded-2xl flex items-center justify-center gap-3 ${e?"bg-white text-blue-600 shadow-2xl shadow-slate-300 rotate-[0.01deg] scale-[1.02]":"text-slate-400 hover:text-slate-600"}`,children:[e&&l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 animate-pulse"}),r]}),pl=({label:e,value:t})=>l.jsxs("div",{className:"space-y-2 group",children:[l.jsx("p",{className:"text-slate-400 text-[15px] font-black uppercase tracking-widest group-hover:text-blue-500 transition-colors",children:e}),l.jsx("p",{className:"text-slate-800 font-extrabold text-sm border-b border-slate-50 pb-3 group-hover:border-blue-100 transition-all",children:t})]}),Pc=({label:e,amount:t,tax:r})=>l.jsxs("tr",{className:"hover:bg-slate-50/80 transition-all duration-300 group",children:[l.jsx("td",{className:"p-7",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-1 y-8 bg-slate-100 group-hover:bg-blue-600 rounded-full transition-all"}),l.jsx("span",{className:"font-bold text-slate-700 text-sm",children:e})]})}),l.jsx("td",{className:"p-7 text-right font-black text-slate-500 text-sm group-hover:text-slate-800 transition-colors",children:Number(t).toLocaleString()}),l.jsx("td",{className:"p-7 text-right",children:l.jsx("div",{className:"inline-flex px-6 py-2 bg-slate-900 text-white rounded-xl text-sm font-black shadow-lg shadow-slate-200",children:Number(r).toLocaleString()})})]}),gv=({data:e,formatMoney:t})=>l.jsx("div",{className:"relative",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800",children:"Ngy"}),l.jsx("th",{className:"p-5 border-r border-slate-800",children:"K hiu"}),l.jsx("th",{className:"p-5 border-r border-slate-800",children:"S H"}),l.jsx("th",{className:"p-5 border-r border-slate-800 w-32",children:"M CQT"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Ni dung"}),l.jsx("th",{className:"p-5 text-right w-32 border-r border-slate-800",children:"Doanh thu"}),l.jsx("th",{className:"p-5 text-center w-32",children:"Trng thi T-VAN"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:"hover:bg-blue-50/30 transition-all group",children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsx("td",{className:"p-5 text-center font-bold text-slate-500 text-[10px]",children:r.invoiceSymbol||"1C25TZA"}),l.jsx("td",{className:"p-5 text-center",children:l.jsx("span",{className:"bg-white border border-slate-200 text-blue-600 px-3 py-1.5 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-all",children:r.id})}),l.jsx("td",{className:"p-5 text-center font-mono text-[10px] text-slate-500 bg-slate-50 rounded select-all cursor-copy",title:"M cp ca C quan thu",children:r.taxCode||"---"}),l.jsx("td",{className:"p-5 font-bold text-slate-800",children:r.desc}),l.jsx("td",{className:"p-5 text-right font-black text-slate-900 tabular-nums",children:t(r.revenue-(r.returnAmount||0))}),l.jsx("td",{className:"p-5 text-center",children:r.tvanStatus==="SENT"?l.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[9px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100",children:[l.jsx(Jb,{size:10}),"  gi CQT"]}):l.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[9px] font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded-full border border-amber-100 animate-pulse",children:[l.jsx(Mp,{size:10})," ang ch gi"]})})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"7",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"ang ch ti d liu ng b"})})})]})}),mv=({data:e,formatMoney:t})=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-between items-center mb-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-rose-600 bg-rose-50 px-3 py-1.5 rounded-lg border border-rose-100",children:[l.jsx(ra,{size:14})," Cnh bo: Kho m"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg border border-amber-100",children:[l.jsx(ra,{size:14})," Cnh bo: Thiu ha n u vo"]})]})}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800",children:"Ngy"}),l.jsx("th",{className:"p-5 border-r border-slate-800",children:"Chng t"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Din gii"}),l.jsx("th",{className:"p-5 border-r border-slate-800 w-24",children:"VT"}),l.jsx("th",{className:"p-5 text-right w-24 border-r border-slate-800 text-emerald-400",children:"Nhp"}),l.jsx("th",{className:"p-5 text-right w-24 border-r border-slate-800 text-amber-400",children:"Xut"}),l.jsx("th",{className:"p-5 text-right w-24",children:"Tn"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:`transition-all group ${r.stock<0?"bg-rose-50 hover:bg-rose-100":"hover:bg-blue-50/30"}`,children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsx("td",{className:"p-5 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("span",{className:"bg-white border border-slate-200 text-slate-600 px-3 py-1 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-sm",children:r.code}),!r.hasInvoice&&r.in>0&&l.jsxs("span",{className:"text-[9px] font-bold text-amber-600 bg-amber-100 px-1.5 rounded flex items-center gap-1",children:[l.jsx(ra,{size:8})," Thiu H"]})]})}),l.jsx("td",{className:"p-5 font-bold text-slate-800",children:r.name}),l.jsx("td",{className:"p-5 text-center text-slate-500 text-xs font-bold",children:r.unit}),l.jsx("td",{className:"p-5 text-right font-bold text-emerald-600 tabular-nums",children:r.in>0?r.in:"-"}),l.jsx("td",{className:"p-5 text-right font-bold text-amber-600 tabular-nums",children:r.out>0?r.out:"-"}),l.jsx("td",{className:`p-5 text-right font-black tabular-nums ${r.stock<0?"text-rose-600":"text-slate-900"}`,children:r.stock})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"7",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"Cha c d liu vt t"})})})]})]}),yv=({data:e,formatMoney:t})=>l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800",children:"Ngy"}),l.jsx("th",{className:"p-5 border-r border-slate-800",children:"S Chng T"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Din gii"}),l.jsx("th",{className:"p-5 text-right w-32 border-r border-slate-800 text-emerald-400",children:"Thu"}),l.jsx("th",{className:"p-5 text-right w-32 text-rose-400",children:"Chi"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:"hover:bg-blue-50/30 transition-all group",children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsx("td",{className:"p-5 text-center",children:l.jsx("span",{className:"bg-white border border-slate-200 text-blue-600 px-3 py-1.5 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-sm",children:r.doc})}),l.jsx("td",{className:"p-5 font-bold text-slate-800",children:r.desc}),l.jsx("td",{className:"p-5 text-right font-black text-emerald-600 tabular-nums",children:r.in>0?t(r.in):"-"}),l.jsx("td",{className:"p-5 text-right font-black text-rose-600 tabular-nums",children:r.out>0?t(r.out):"-"})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"5",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"ang ch ti d liu ng b"})})})]}),wv=({data:e,formatMoney:t})=>l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"p-4 bg-blue-50 border-b border-blue-100 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:l.jsx(Xu,{size:18})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-black text-blue-900 uppercase tracking-tight",children:"Bin ng s d"}),l.jsx("p",{className:"text-[10px] font-bold text-blue-400",children:"S S7-HKD"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-xs font-bold text-slate-500 block uppercase tracking-wide",children:"S d cui k"}),l.jsx("span",{className:"text-lg font-black text-slate-800",children:t((e==null?void 0:e.reduce((r,a)=>r+(a.in||0)-(a.out||0),0))||0)})]})]}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800",children:"Ngy"}),l.jsx("th",{className:"p-5 border-r border-slate-800",children:"S Chng T"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Din gii"}),l.jsx("th",{className:"p-5 text-right w-32 border-r border-slate-800 text-emerald-400",children:"Thu"}),l.jsx("th",{className:"p-5 text-right w-32 text-rose-400",children:"Chi"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:"hover:bg-blue-50/30 transition-all group",children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsx("td",{className:"p-5 text-center",children:l.jsx("span",{className:"bg-white border border-slate-200 text-blue-600 px-3 py-1.5 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-sm",children:r.doc})}),l.jsx("td",{className:"p-5 font-bold text-slate-800",children:r.desc}),l.jsx("td",{className:"p-5 text-right font-black text-emerald-600 tabular-nums",children:r.in>0?t(r.in):"-"}),l.jsx("td",{className:"p-5 text-right font-black text-rose-600 tabular-nums",children:r.out>0?t(r.out):"-"})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"5",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"ang ch ti d liu ng b"})})})]})]}),bv=({data:e,formatMoney:t})=>l.jsx("div",{className:"relative",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800 w-32",children:"Ngy"}),l.jsx("th",{className:"p-5 border-r border-slate-800 w-32",children:"S CT"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Ni dung chi ph"}),l.jsx("th",{className:"p-5 text-right w-48 text-rose-400",children:"S tin"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:"hover:bg-rose-50/30 transition-all group",children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsx("td",{className:"p-5 text-center",children:l.jsx("span",{className:"bg-white border border-slate-200 text-rose-600 px-3 py-1.5 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-sm",children:r.doc})}),l.jsx("td",{className:"p-5 font-bold text-slate-800",children:r.desc}),l.jsx("td",{className:"p-5 text-right font-black text-rose-600 tabular-nums",children:t(r.out)})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"4",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"Cha c d liu chi ph"})})})]})}),vv=({data:e,formatMoney:t})=>l.jsx("div",{className:"relative",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800 w-32",children:"Ngy np"}),l.jsx("th",{className:"p-5 border-r border-slate-800 w-32",children:"Chng t"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Loi thu / Ni dung"}),l.jsx("th",{className:"p-5 text-right w-48 text-emerald-400",children:"S tin  np"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:"hover:bg-blue-50/30 transition-all group",children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsx("td",{className:"p-5 text-center",children:l.jsx("span",{className:"bg-white border border-slate-200 text-slate-600 px-3 py-1.5 rounded-lg font-black text-[10px] uppercase tracking-widest shadow-sm",children:r.doc})}),l.jsxs("td",{className:"p-5 font-bold text-slate-800 flex items-center gap-3",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${r.type==="vat"?"bg-amber-400":"bg-orange-500"}`}),r.desc]}),l.jsx("td",{className:"p-5 text-right font-black text-slate-900 tabular-nums",children:t(r.amount)})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"4",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"Cha c d liu np thu"})})})]})}),Nv=({data:e,formatMoney:t})=>l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"flex justify-end p-4 bg-slate-50 border-b border-slate-100",children:l.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:["Tng lng thng: ",l.jsx("span",{className:"text-slate-900 font-black ml-2",children:t((e==null?void 0:e.reduce((r,a)=>r+a.total,0))||0)})]})}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white font-black uppercase text-[9px] tracking-[0.25em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 border-r border-slate-800 w-32",children:"Thi gian"}),l.jsx("th",{className:"p-5 text-left border-r border-slate-800",children:"Nhn vin"}),l.jsx("th",{className:"p-5 text-right border-r border-slate-800 w-32",children:"Lng CB"}),l.jsx("th",{className:"p-5 text-right border-r border-slate-800 w-32 text-emerald-400",children:"Thng"}),l.jsx("th",{className:"p-5 text-right w-48 text-blue-400",children:"Thc lnh"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(e==null?void 0:e.length)>0?e.map((r,a)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[l.jsx("td",{className:"p-5 text-center font-black text-slate-400 text-[10px] uppercase tracking-wider",children:r.date}),l.jsxs("td",{className:"p-5 font-bold text-slate-800",children:[l.jsx("div",{children:r.name}),l.jsx("div",{className:"text-[10px] text-slate-400 font-normal uppercase tracking-wider mt-1",children:r.role})]}),l.jsx("td",{className:"p-5 text-right font-bold text-slate-500 tabular-nums",children:t(r.salary)}),l.jsx("td",{className:"p-5 text-right font-bold text-emerald-600 tabular-nums",children:t(r.bonus)}),l.jsx("td",{className:"p-5 text-right font-black text-blue-600 tabular-nums text-base",children:t(r.total)})]},a)):l.jsx("tr",{className:"animate-pulse",children:l.jsx("td",{colSpan:"5",className:"p-32 text-center text-slate-300 font-black uppercase text-xs tracking-[0.5em]",children:"Cha c d liu lng"})})})]})]}),Cv=({icon:e,title:t,desc:r})=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[l.jsx("div",{className:"bg-slate-50 p-12 rounded-[3.5rem] mb-10 text-slate-100 shadow-inner",children:e}),l.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight mb-4",children:t}),l.jsx("p",{className:"text-slate-400 font-medium text-sm max-w-sm leading-relaxed",children:r}),l.jsxs("button",{className:"mt-10 flex items-center gap-2 text-blue-600 font-black text-[10px] uppercase tracking-[0.2em] group",children:["Xem ti liu hng dn ",l.jsx(Gb,{size:14,className:"group-hover:translate-x-2 transition-transform"})]})]});function Ev({store:e,settings:t,user:r}){const a=t.paperSize==="80mm"?"w-[300px]":"w-[200px]",c=t.paperSize==="80mm"?"text-[11px]":"text-[9px]";return l.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full shadow-sm border border-slate-200",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${t.paperSize==="80mm"?"bg-blue-500":"bg-slate-300"}`}),l.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["Kh giy ",t.paperSize]})]}),l.jsxs("div",{className:`${a} bg-white shadow-xl shadow-slate-200/50 p-4 font-mono text-slate-800 leading-tight transition-all duration-300 transform`,children:[l.jsxs("div",{className:"text-center border-b border-dashed border-slate-300 pb-3 mb-2",children:[t.showLogo&&e.logoUrl&&l.jsx("div",{className:"flex justify-center mb-2",children:l.jsx("img",{src:e.logoUrl,alt:"Store Logo",className:"h-12 object-contain grayscale opacity-90"})}),l.jsx("h3",{className:"font-bold uppercase text-sm mb-1",children:e.name||"TN CA HNG"}),l.jsx("p",{className:`text-slate-500 ${c}`,children:e.address||"a ch ca hng..."}),l.jsxs("p",{className:`text-slate-500 ${c}`,children:["Hotline: ",e.phone||"..."]})]}),l.jsxs("div",{className:`${c} space-y-0.5 mb-2`,children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Ngy:"}),l.jsx("span",{children:new Date().toLocaleDateString("vi-VN")})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"S phiu:"}),l.jsx("span",{className:"font-bold",children:"#TEST-001"})]}),t.showCashierName&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Thu ngn:"}),l.jsx("span",{children:(r==null?void 0:r.username)||"Admin"})]}),t.showCustomerName&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Khch hng:"}),l.jsx("span",{children:"Nguyn Vn A"})]})]}),l.jsx("div",{className:"border-t border-dashed border-slate-300 py-2",children:l.jsxs("table",{className:`w-full ${c}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left font-bold border-b border-black",children:[l.jsx("th",{className:"pb-1",children:"Tn hng"}),l.jsx("th",{className:"text-center pb-1 w-8",children:"SL"}),l.jsx("th",{className:"text-right pb-1",children:"Thnh tin"})]})}),l.jsxs("tbody",{className:"divide-y divide-dotted divide-slate-200",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:"Nc ngt Coca"}),l.jsx("td",{className:"text-center py-1",children:"2"}),l.jsx("td",{className:"text-right py-1",children:"20.000"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:"Bnh Snack"}),l.jsx("td",{className:"text-center py-1",children:"1"}),l.jsx("td",{className:"text-right py-1",children:"15.000"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:"Ko Singum"}),l.jsx("td",{className:"text-center py-1",children:"5"}),l.jsx("td",{className:"text-right py-1",children:"25.000"})]})]})]})}),l.jsxs("div",{className:`border-t border-dashed border-slate-300 pt-2 ${c}`,children:[l.jsxs("div",{className:"flex justify-between mb-0.5",children:[l.jsx("span",{children:"Tng tin hng:"}),l.jsx("span",{className:"font-bold",children:"60.000"})]}),l.jsxs("div",{className:"flex justify-between text-sm font-bold mt-1 mb-2",children:[l.jsx("span",{children:"THANH TON:"}),l.jsx("span",{children:"60.000"})]}),l.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[l.jsx("span",{children:"Khch a:"}),l.jsx("span",{children:"100.000"})]}),l.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[l.jsx("span",{children:"Tin tha:"}),l.jsx("span",{children:"40.000"})]})]}),l.jsxs("div",{className:"text-center mt-4 border-t border-dashed border-slate-300 pt-3 space-y-2",children:[t.showOrderBarcode&&l.jsx("div",{className:"h-8 bg-slate-900 mx-auto w-3/4 opacity-80",style:{maskImage:"repeating-linear-gradient(90deg, black, black 2px, transparent 2px, transparent 4px)",WebkitMaskImage:"repeating-linear-gradient(90deg, black, black 2px, transparent 2px, transparent 4px)"}}),l.jsx("p",{className:`italic whitespace-pre-line ${c}`,children:e.footerText||"Cm n qu khch v hn gp li!"}),l.jsx("p",{className:"text-[8px] text-slate-400",children:"Powered by POS Pro"})]})]})]})}let Sv={data:""},Av=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Sv},Tv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Iv=/\/\*[^]*?\*\/|  +/g,jf=/\n+/g,Pr=(e,t)=>{let r="",a="",c="";for(let d in e){let x=e[d];d[0]=="@"?d[1]=="i"?r=d+" "+x+";":a+=d[1]=="f"?Pr(x,d):d+"{"+Pr(x,d[1]=="k"?"":t)+"}":typeof x=="object"?a+=Pr(x,t?t.replace(/([^,])+/g,y=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,y):y?y+" "+w:w)):d):x!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=Pr.p?Pr.p(d,x):d+":"+x+";")}return r+(t&&c?t+"{"+c+"}":c)+a},or={},Hp=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Hp(e[r]);return t}return e},jv=(e,t,r,a,c)=>{let d=Hp(e),x=or[d]||(or[d]=(w=>{let g=0,b=11;for(;g<w.length;)b=101*b+w.charCodeAt(g++)>>>0;return"go"+b})(d));if(!or[x]){let w=d!==e?e:(g=>{let b,N,A=[{}];for(;b=Tv.exec(g.replace(Iv,""));)b[4]?A.shift():b[3]?(N=b[3].replace(jf," ").trim(),A.unshift(A[0][N]=A[0][N]||{})):A[0][b[1]]=b[2].replace(jf," ").trim();return A[0]})(e);or[x]=Pr(c?{["@keyframes "+x]:w}:w,r?"":"."+x)}let y=r&&or.g?or.g:null;return r&&(or.g=or[x]),((w,g,b,N)=>{N?g.data=g.data.replace(N,w):g.data.indexOf(w)===-1&&(g.data=b?w+g.data:g.data+w)})(or[x],t,a,y),x},kv=(e,t,r)=>e.reduce((a,c,d)=>{let x=t[d];if(x&&x.call){let y=x(r),w=y&&y.props&&y.props.className||/^go/.test(y)&&y;x=w?"."+w:y&&typeof y=="object"?y.props?"":Pr(y,""):y===!1?"":y}return a+c+(x??"")},"");function Do(e){let t=this||{},r=e.call?e(t.p):e;return jv(r.unshift?r.raw?kv(r,[].slice.call(arguments,1),t.p):r.reduce((a,c)=>Object.assign(a,c&&c.call?c(t.p):c),{}):r,Av(t.target),t.g,t.o,t.k)}let Vp,Qu,Zu;Do.bind({g:1});let Nr=Do.bind({k:1});function _v(e,t,r,a){Pr.p=t,Vp=e,Qu=r,Zu=a}function ss(e,t){let r=this||{};return function(){let a=arguments;function c(d,x){let y=Object.assign({},d),w=y.className||c.className;r.p=Object.assign({theme:Qu&&Qu()},y),r.o=/ *go\d+/.test(w),y.className=Do.apply(r,a)+(w?" "+w:"");let g=e;return e[0]&&(g=y.as||e,delete y.as),Zu&&g[0]&&Zu(y),Vp(g,y)}return c}}var Mv=e=>typeof e=="function",co=(e,t)=>Mv(e)?e(t):e,Rv=(()=>{let e=0;return()=>(++e).toString()})(),Wp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ov=20,l0="default",Gp=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(x=>x.id===t.toast.id?{...x,...t.toast}:x)};case 2:let{toast:a}=t;return Gp(e,{type:e.toasts.find(x=>x.id===a.id)?1:0,toast:a});case 3:let{toastId:c}=t;return{...e,toasts:e.toasts.map(x=>x.id===c||c===void 0?{...x,dismissed:!0,visible:!1}:x)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(x=>x.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let d=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(x=>({...x,pauseDuration:x.pauseDuration+d}))}}},Rl=[],Xp={toasts:[],pausedAt:void 0,settings:{toastLimit:Ov}},sr={},Yp=(e,t=l0)=>{sr[t]=Gp(sr[t]||Xp,e),Rl.forEach(([r,a])=>{r===t&&a(sr[t])})},Kp=e=>Object.keys(sr).forEach(t=>Yp(e,t)),Dv=e=>Object.keys(sr).find(t=>sr[t].toasts.some(r=>r.id===e)),Lo=(e=l0)=>t=>{Yp(t,e)},Lv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bv=(e={},t=l0)=>{let[r,a]=M.useState(sr[t]||Xp),c=M.useRef(sr[t]);M.useEffect(()=>(c.current!==sr[t]&&a(sr[t]),Rl.push([t,a]),()=>{let x=Rl.findIndex(([y])=>y===t);x>-1&&Rl.splice(x,1)}),[t]);let d=r.toasts.map(x=>{var y,w,g;return{...e,...e[x.type],...x,removeDelay:x.removeDelay||((y=e[x.type])==null?void 0:y.removeDelay)||(e==null?void 0:e.removeDelay),duration:x.duration||((w=e[x.type])==null?void 0:w.duration)||(e==null?void 0:e.duration)||Lv[x.type],style:{...e.style,...(g=e[x.type])==null?void 0:g.style,...x.style}}});return{...r,toasts:d}},Pv=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Rv()}),Da=e=>(t,r)=>{let a=Pv(t,e,r);return Lo(a.toasterId||Dv(a.id))({type:2,toast:a}),a.id},pt=(e,t)=>Da("blank")(e,t);pt.error=Da("error");pt.success=Da("success");pt.loading=Da("loading");pt.custom=Da("custom");pt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Lo(t)(r):Kp(r)};pt.dismissAll=e=>pt.dismiss(void 0,e);pt.remove=(e,t)=>{let r={type:4,toastId:e};t?Lo(t)(r):Kp(r)};pt.removeAll=e=>pt.remove(void 0,e);pt.promise=(e,t,r)=>{let a=pt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(c=>{let d=t.success?co(t.success,c):void 0;return d?pt.success(d,{id:a,...r,...r==null?void 0:r.success}):pt.dismiss(a),c}).catch(c=>{let d=t.error?co(t.error,c):void 0;d?pt.error(d,{id:a,...r,...r==null?void 0:r.error}):pt.dismiss(a)}),e};var Fv=1e3,Uv=(e,t="default")=>{let{toasts:r,pausedAt:a}=Bv(e,t),c=M.useRef(new Map).current,d=M.useCallback((N,A=Fv)=>{if(c.has(N))return;let D=setTimeout(()=>{c.delete(N),x({type:4,toastId:N})},A);c.set(N,D)},[]);M.useEffect(()=>{if(a)return;let N=Date.now(),A=r.map(D=>{if(D.duration===1/0)return;let R=(D.duration||0)+D.pauseDuration-(N-D.createdAt);if(R<0){D.visible&&pt.dismiss(D.id);return}return setTimeout(()=>pt.dismiss(D.id,t),R)});return()=>{A.forEach(D=>D&&clearTimeout(D))}},[r,a,t]);let x=M.useCallback(Lo(t),[t]),y=M.useCallback(()=>{x({type:5,time:Date.now()})},[x]),w=M.useCallback((N,A)=>{x({type:1,toast:{id:N,height:A}})},[x]),g=M.useCallback(()=>{a&&x({type:6,time:Date.now()})},[a,x]),b=M.useCallback((N,A)=>{let{reverseOrder:D=!1,gutter:R=8,defaultPosition:O}=A||{},L=r.filter(T=>(T.position||O)===(N.position||O)&&T.height),j=L.findIndex(T=>T.id===N.id),I=L.filter((T,U)=>U<j&&T.visible).length;return L.filter(T=>T.visible).slice(...D?[I+1]:[0,I]).reduce((T,U)=>T+(U.height||0)+R,0)},[r]);return M.useEffect(()=>{r.forEach(N=>{if(N.dismissed)d(N.id,N.removeDelay);else{let A=c.get(N.id);A&&(clearTimeout(A),c.delete(N.id))}})},[r,d]),{toasts:r,handlers:{updateHeight:w,startPause:y,endPause:g,calculateOffset:b}}},zv=Nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Hv=Nr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vv=Nr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wv=ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Hv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Gv=Nr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xv=ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Gv} 1s linear infinite;
`,Yv=Nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Kv=Nr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qv=ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Yv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Kv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Zv=ss("div")`
  position: absolute;
`,qv=ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$v=Nr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jv=ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$v} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eN=({toast:e})=>{let{icon:t,type:r,iconTheme:a}=e;return t!==void 0?typeof t=="string"?M.createElement(Jv,null,t):t:r==="blank"?null:M.createElement(qv,null,M.createElement(Xv,{...a}),r!=="loading"&&M.createElement(Zv,null,r==="error"?M.createElement(Wv,{...a}):M.createElement(Qv,{...a})))},tN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,rN="0%{opacity:0;} 100%{opacity:1;}",sN="0%{opacity:1;} 100%{opacity:0;}",iN=ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aN=ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lN=(e,t)=>{let r=e.includes("top")?1:-1,[a,c]=Wp()?[rN,sN]:[tN(r),nN(r)];return{animation:t?`${Nr(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nr(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oN=M.memo(({toast:e,position:t,style:r,children:a})=>{let c=e.height?lN(e.position||t||"top-center",e.visible):{opacity:0},d=M.createElement(eN,{toast:e}),x=M.createElement(aN,{...e.ariaProps},co(e.message,e));return M.createElement(iN,{className:e.className,style:{...c,...r,...e.style}},typeof a=="function"?a({icon:d,message:x}):M.createElement(M.Fragment,null,d,x))});_v(M.createElement);var cN=({id:e,className:t,style:r,onHeightUpdate:a,children:c})=>{let d=M.useCallback(x=>{if(x){let y=()=>{let w=x.getBoundingClientRect().height;a(e,w)};y(),new MutationObserver(y).observe(x,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return M.createElement("div",{ref:d,className:t,style:r},c)},uN=(e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},c=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Wp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...a,...c}},dN=Do`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gl=16,hN=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:a,children:c,toasterId:d,containerStyle:x,containerClassName:y})=>{let{toasts:w,handlers:g}=Uv(r,d);return M.createElement("div",{"data-rht-toaster":d||"",style:{position:"fixed",zIndex:9999,top:gl,left:gl,right:gl,bottom:gl,pointerEvents:"none",...x},className:y,onMouseEnter:g.startPause,onMouseLeave:g.endPause},w.map(b=>{let N=b.position||t,A=g.calculateOffset(b,{reverseOrder:e,gutter:a,defaultPosition:t}),D=uN(N,A);return M.createElement(cN,{id:b.id,key:b.id,onHeightUpdate:g.updateHeight,className:b.visible?dN:"",style:D},b.type==="custom"?co(b.message,b):c?c(b):M.createElement(oN,{toast:b,position:N}))}))};function fN(){const{logout:e,user:t}=Ci(),{updateShopSettings:r}=Sp(),[a,c]=M.useState({name:"",address:"",phone:"",bankName:"",bankAccountName:"",bankAccountNumber:""}),[d,x]=M.useState(!0),[y,w]=M.useState("store"),[g]=ow();M.useEffect(()=>{const P=g.get("tab");P&&w(P)},[g]);const[b,N]=M.useState({paperSize:"80mm",autoPrint:!0,showLogo:!0,showCashierName:!0,showCustomerName:!0,showOrderBarcode:!0,printCopies:1}),[A,D]=M.useState([]),[R,O]=M.useState(null);M.useEffect(()=>{I(),L();const P=localStorage.getItem("printerConfig");P&&N(JSON.parse(P))},[]);const L=async()=>{try{const z=await(await fetch("https://api.vietqr.io/v2/banks")).json();D(z.data||[])}catch(P){console.error("Failed to fetch banks",P)}},j=()=>!a.bankName||!a.bankAccountNumber?null:`https://img.vietqr.io/image/${a.bankName}-${a.bankAccountNumber}-compact.png?amount=0&addInfo=DEMO&accountName=${encodeURIComponent(a.bankAccountName)}`,I=async()=>{try{const P=await We.getStore();c({name:P.name||"",address:P.address||"",phone:P.phone||"",bankName:P.bankName||"",bankAccountName:P.bankAccountName||"",bankAccountNumber:P.bankAccountNumber||"",logoUrl:P.logoUrl||"",footerText:P.footerText||""})}catch(P){console.error(P)}finally{x(!1)}},T=async P=>{P.preventDefault();try{await We.updateStore(a),r({shopName:a.name,logoUrl:a.logoUrl,address:a.address}),pt.success(" cp nht thng tin ca hng!")}catch(z){pt.error("Li: "+z.message)}},U=()=>{localStorage.setItem("printerConfig",JSON.stringify(b)),pt.success(" lu cu hnh my in!")},H=()=>{const P=document.createElement("iframe");P.style.position="absolute",P.style.width="0px",P.style.height="0px",P.style.border="none",document.body.appendChild(P);const z=`
            <html>
                <head>
                    <title>In th ha n</title>
                    <style>
                        body { font-family: 'Courier New', Courier, monospace; width: ${b.paperSize==="80mm"?"72mm":"52mm"}; margin: 0; padding: 5px; color: #000; font-size: 11px; }
                        .header { text-align: center; border-bottom: 1px dashed #000; padding-bottom: 5px; margin-bottom: 5px; }
                        .store-name { font-size: 14px; font-weight: bold; margin: 0; text-transform: uppercase; }
                        .info { margin: 2px 0; }
                        table { width: 100%; font-size: 11px; border-collapse: collapse; }
                        th { text-align: left; border-bottom: 1px solid #000; padding: 2px 0; }
                        td { padding: 2px 0; vertical-align: top; }
                        .qty { width: 20px; text-align: center; }
                        .price { text-align: right; }
                        .total-row { border-top: 1px dashed #000; margin-top: 5px; padding-top: 5px; font-weight: bold; }
                        .footer { text-align: center; margin-top: 10px; border-top: 1px dashed #000; padding-top: 5px; font-style: italic; font-size: 10px; }
                        .barcode { text-align: center; margin-top: 10px; }
                        .barcode img { max-width: 100%; height: 40px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        ${b.showLogo&&a.logoUrl?`<img src="${a.logoUrl}" style="max-height: 50px; margin-bottom: 5px;" />`:""}
                        <div class="store-name">${a.name||"CA HNG TP HA"}</div>
                        <div class="info">${a.address||"a ch ca hng"}</div>
                        <div class="info">Hotline: ${a.phone||"..."}</div>
                    </div>
                    <div>
                        <div class="info">Ngy: ${new Date().toLocaleString("vi-VN")}</div>
                        <div class="info">M n: #TEST-001</div>
                        ${b.showCashierName?`<div class="info">Thu ngn: ${(t==null?void 0:t.username)||"Admin"}</div>`:""}
                        ${b.showCustomerName?'<div class="info">Khch: Nguyn Vn A</div>':""}
                    </div>
                    <table style="margin-top: 5px;">
                        <thead>
                            <tr>
                                <th>Mt hng</th>
                                <th class="qty">SL</th>
                                <th class="price">Thnh tin</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Nc ngt Coca</td><td class="qty">2</td><td class="price">20,000</td></tr>
                            <tr><td>Bnh Snack Khoai</td><td class="qty">1</td><td class="price">15,000</td></tr>
                            <tr><td>Ko Singum</td><td class="qty">5</td><td class="price">25,000</td></tr>
                        </tbody>
                    </table>
                    <div class="total-row">
                        <div style="display:flex; justify-content:space-between"><span>Tng tin hng:</span><span>60,000</span></div>
                        <div style="display:flex; justify-content:space-between; font-size:14px; margin-top:3px"><span>THANH TON:</span><span>60,000</span></div>
                        <div style="display:flex; justify-content:space-between; font-weight:normal; margin-top:2px"><span>Khch a:</span><span>100,000</span></div>
                        <div style="display:flex; justify-content:space-between; font-weight:normal"><span>Tin tha:</span><span>40,000</span></div>
                    </div>
                    ${b.showOrderBarcode?`<div class="barcode">
                            <img src="https://bwipjs-api.metafloor.com/?bcid=code128&text=TEST-001&scale=2&height=5&incltext" alt="Barcode" />
                        </div>`:""}
                    <div class="footer">
                        ${a.footerText?a.footerText.replace(/\n/g,"<br/>"):"Cm n qu khch v hn gp li!"}
                    </div>
                </body>
            </html>
        `,J=P.contentWindow.document;J.open(),J.write(z),J.close(),P.contentWindow.focus(),setTimeout(()=>{try{P.contentWindow.print()}catch($){console.error("Printing failed",$)}finally{setTimeout(()=>{document.body.removeChild(P)},1e3)}},500)};return l.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-slate-50 font-sans",children:[l.jsx(hN,{position:"top-right"}),l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[l.jsx("span",{className:"material-icons text-slate-400",children:"settings"})," Ci t"]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[l.jsxs("div",{className:"w-full md:w-64 bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex-shrink-0",children:[l.jsxs("button",{onClick:()=>w("store"),className:`w-full text-left p-4 font-bold border-l-4 transition-all flex items-center gap-3 ${y==="store"?"border-primary text-primary bg-blue-50":"border-transparent text-slate-600 hover:bg-slate-50"}`,children:[l.jsx("span",{className:"material-icons",children:"store"})," Thng tin ca hng"]}),l.jsxs("button",{onClick:()=>w("printer"),className:`w-full text-left p-4 font-bold border-l-4 transition-all flex items-center gap-3 ${y==="printer"?"border-primary text-primary bg-blue-50":"border-transparent text-slate-600 hover:bg-slate-50"}`,children:[l.jsx("span",{className:"material-icons",children:"print"})," My in & Ha n"]}),l.jsxs("button",{onClick:()=>w("account"),className:`w-full text-left p-4 font-bold border-l-4 transition-all flex items-center gap-3 ${y==="account"?"border-primary text-primary bg-blue-50":"border-transparent text-slate-600 hover:bg-slate-50"}`,children:[l.jsx("span",{className:"material-icons",children:"person"})," Ti khon"]}),l.jsxs("button",{onClick:()=>w("einvoice"),className:`w-full text-left p-4 font-bold border-l-4 transition-all flex items-center gap-3 ${y==="einvoice"?"border-primary text-primary bg-blue-50":"border-transparent text-slate-600 hover:bg-slate-50"}`,children:[l.jsx("span",{className:"material-icons",children:"receipt_long"})," Ha n in t"]})]}),l.jsxs("div",{className:"flex-1 bg-white p-6 md:p-8 rounded-2xl border border-slate-200 shadow-sm w-full",children:[y==="store"&&l.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[l.jsxs("h3",{className:"font-bold text-slate-700 text-sm uppercase tracking-wide border-b border-slate-200 pb-3 mb-4 flex items-center gap-2",children:[l.jsx(uf,{size:16})," Thng tin chung"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Tn ca hng"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5",placeholder:"V d: Tp Ha C Ba",value:a.name,onChange:P=>c({...a,name:P.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"S in thoi"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5",placeholder:"0912...",value:a.phone,onChange:P=>c({...a,phone:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"M s thu (MST)"}),l.jsx("input",{type:"text",className:`w-full border rounded-xl focus:ring-primary px-4 py-2.5 ${a.taxCode&&!/^\d{10}$/.test(a.taxCode)?"border-red-500 bg-red-50":"border-slate-300"}`,placeholder:"Nhp 10 ch s...",value:a.taxCode||"",onChange:P=>c({...a,taxCode:P.target.value}),maxLength:10}),a.taxCode&&!/^\d{10}$/.test(a.taxCode)&&l.jsx("p",{className:"text-xs text-red-500 mt-1 font-bold",children:"MST phi gm ng 10 ch s"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Logo URL"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5",placeholder:"https://...",value:a.logoUrl,onChange:P=>c({...a,logoUrl:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"a ch"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5",placeholder:"S 10, ng...",value:a.address,onChange:P=>c({...a,address:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Li cho (Footer)"}),l.jsx("textarea",{className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5",placeholder:"Cm n qu khch...",rows:"2",value:a.footerText,onChange:P=>c({...a,footerText:P.target.value})})]})]})]}),l.jsxs("div",{className:"bg-blue-50/50 p-6 rounded-2xl border border-blue-100",children:[l.jsxs("h3",{className:"font-bold text-blue-700 text-sm uppercase tracking-wide border-b border-blue-200 pb-3 mb-4 flex items-center gap-2",children:[l.jsx(Oc,{size:16})," Cu hnh VietQR"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ngn hng"}),l.jsxs("select",{className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5 bg-white",value:a.bankName,onChange:P=>c({...a,bankName:P.target.value}),children:[l.jsx("option",{value:"",children:"-- Chn ngn hng --"}),A.map(P=>l.jsxs("option",{value:P.shortName,children:[P.shortName," - ",P.name]},P.id))]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"S ti khon"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5 font-mono tracking-wide",placeholder:"0001...",value:a.bankAccountNumber,onChange:P=>c({...a,bankAccountNumber:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ch ti khon"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl focus:ring-primary px-4 py-2.5 uppercase",placeholder:"NGUYEN VAN A",value:a.bankAccountName,onChange:P=>c({...a,bankAccountName:P.target.value})})]})]})]})]}),l.jsxs("button",{type:"submit",className:"w-full bg-primary hover:bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-blue-200 flex items-center justify-center gap-2 active:scale-95 transition-all",children:[l.jsx(oi,{size:20})," Lu thng tin ca hng"]})]}),l.jsx("div",{className:"sticky top-6 space-y-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-x-8 top-0 -bottom-4 bg-blue-900/10 rounded-3xl blur-xl"}),l.jsxs("div",{className:"relative bg-white rounded-[2rem] shadow-2xl p-6 border border-slate-100 overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 via-emerald-500 to-purple-500"}),l.jsxs("div",{className:"text-center mb-6 pt-2",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-50 rounded-2xl mb-4 text-primary",children:l.jsx(Oc,{size:32})}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Qut m thanh ton"}),l.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"H tr Mobile Banking 24/7"})]}),l.jsxs("div",{className:"bg-slate-900 rounded-3xl p-4 mb-6 relative group cursor-pointer transition-transform hover:scale-[1.02] max-w-[240px] mx-auto",children:[l.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-white/30 rounded-tl-lg"}),l.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 border-t-2 border-r-2 border-white/30 rounded-tr-lg"}),l.jsx("div",{className:"absolute bottom-4 left-4 w-8 h-8 border-b-2 border-l-2 border-white/30 rounded-bl-lg"}),l.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-white/30 rounded-br-lg"}),j()?l.jsx("img",{src:j(),alt:"VietQR",className:"w-full aspect-square object-contain bg-white rounded-xl"}):l.jsxs("div",{className:"w-full aspect-square bg-slate-800 rounded-xl flex flex-col items-center justify-center text-slate-500",children:[l.jsx(Oc,{size:48,className:"opacity-50 mb-2"}),l.jsx("span",{className:"text-xs",children:"Cha c thng tin QR"})]})]}),l.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Ngn hng"}),l.jsx("span",{className:"font-bold text-blue-700",children:a.bankName||"---"})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"Ch ti khon"}),l.jsx("span",{className:"font-bold text-slate-800",children:a.bankAccountName||"---"})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-slate-500",children:"S ti khon"}),l.jsx("span",{className:"font-mono font-bold text-slate-800 tracking-wider copy-text",onClick:()=>{navigator.clipboard.writeText(a.bankAccountNumber),pt.success(" sao chp STK!")},title:"Nhn  sao chp",children:a.bankAccountNumber||"---"})]})]})]}),l.jsxs("div",{className:"mt-8 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-slate-800 text-sm mb-3 flex items-center gap-2",children:[l.jsx(c3,{size:16,className:"text-red-500"}),"Hin th trn ha n"]}),l.jsxs("div",{className:"text-xs space-y-2 text-slate-500",children:[l.jsxs("p",{className:"flex gap-2",children:[l.jsx("span",{className:"font-bold min-w-[60px] text-slate-700",children:"Tn shop:"}),l.jsx("span",{children:a.name||"---"})]}),l.jsxs("p",{className:"flex gap-2",children:[l.jsx("span",{className:"font-bold min-w-[60px] text-slate-700",children:"a ch:"}),l.jsx("span",{className:"line-clamp-2",children:a.address||"---"})]}),l.jsxs("p",{className:"flex gap-2",children:[l.jsx("span",{className:"font-bold min-w-[60px] text-slate-700",children:"Hotline:"}),l.jsx("span",{children:a.phone||"---"})]})]})]})]})})]}),y==="printer"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between bg-emerald-50 p-4 rounded-xl border border-emerald-100",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-100 p-2 rounded-full",children:l.jsx(Gu,{className:"text-emerald-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-emerald-800 text-sm",children:"My in ang hot ng"}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[l.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),l.jsx("p",{className:"text-xs text-emerald-600 font-medium",children:"Xprinter-N160 (Bluetooth)"})]})]})]}),l.jsxs("button",{className:"text-xs font-bold bg-white text-emerald-700 px-3 py-2 rounded-lg border border-emerald-200 hover:bg-emerald-50 flex items-center gap-2 transition-colors shadow-sm",children:[l.jsx(f3,{size:14})," Qut li"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-200 space-y-4",children:[l.jsx("h3",{className:"font-bold text-slate-700 text-sm uppercase tracking-wide border-b border-slate-200 pb-2",children:"Cu hnh c bn"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kh giy"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>N({...b,paperSize:"80mm"}),className:`px-4 py-3 border rounded-xl font-bold transition-all text-sm flex flex-col items-center gap-1 ${b.paperSize==="80mm"?"bg-slate-800 text-white border-slate-800 shadow-md transform scale-105":"bg-white text-slate-500 hover:border-slate-300"}`,children:[l.jsx("span",{children:"80mm (K80)"}),l.jsx("span",{className:"text-[10px] font-normal opacity-70",children:"My in to thng dng"})]}),l.jsxs("button",{onClick:()=>N({...b,paperSize:"58mm"}),className:`px-4 py-3 border rounded-xl font-bold transition-all text-sm flex flex-col items-center gap-1 ${b.paperSize==="58mm"?"bg-slate-800 text-white border-slate-800 shadow-md transform scale-105":"bg-white text-slate-500 hover:border-slate-300"}`,children:[l.jsx("span",{children:"58mm (K58)"}),l.jsx("span",{className:"text-[10px] font-normal opacity-70",children:"My in cm tay/mini"})]})]})]}),l.jsx("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",id:"autoPrint",className:"w-5 h-5 text-primary rounded focus:ring-primary",checked:b.autoPrint,onChange:P=>N({...b,autoPrint:P.target.checked})}),l.jsx("label",{htmlFor:"autoPrint",className:"text-slate-700 font-bold text-sm select-none cursor-pointer",children:"T ng in sau thanh ton"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"S lin in mc nh"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"range",min:"1",max:"5",className:"flex-1 accent-primary h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer",value:b.printCopies||1,onChange:P=>N({...b,printCopies:parseInt(P.target.value)||1})}),l.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-primary text-white font-bold rounded-lg text-sm shadow-sm",children:b.printCopies||1})]})]})]}),l.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border border-slate-200 space-y-4",children:[l.jsx("h3",{className:"font-bold text-slate-700 text-sm uppercase tracking-wide border-b border-slate-200 pb-2",children:"Ni dung ha n"}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[l.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-200 cursor-pointer hover:bg-slate-50 transition-all",children:[l.jsx("input",{type:"checkbox",checked:b.showLogo,onChange:P=>N({...b,showLogo:P.target.checked}),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),l.jsx("span",{className:"font-medium text-slate-700 text-sm",children:"Hin th Logo ca hng"})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-200 cursor-pointer hover:bg-slate-50 transition-all",children:[l.jsx("input",{type:"checkbox",checked:b.showCashierName,onChange:P=>N({...b,showCashierName:P.target.checked}),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),l.jsx("span",{className:"font-medium text-slate-700 text-sm",children:"Hin th tn thu ngn"})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-200 cursor-pointer hover:bg-slate-50 transition-all",children:[l.jsx("input",{type:"checkbox",checked:b.showCustomerName,onChange:P=>N({...b,showCustomerName:P.target.checked}),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),l.jsx("span",{className:"font-medium text-slate-700 text-sm",children:"Hin th tn khch hng"})]}),l.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-xl border border-slate-200 cursor-pointer hover:bg-slate-50 transition-all",children:[l.jsx("input",{type:"checkbox",checked:b.showOrderBarcode,onChange:P=>N({...b,showOrderBarcode:P.target.checked}),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),l.jsx("span",{className:"font-medium text-slate-700 text-sm",children:"Hin th m vch n hng"})]})]})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsxs("button",{onClick:U,className:"flex-1 bg-primary hover:bg-blue-600 text-white px-6 py-4 rounded-xl font-bold shadow-lg shadow-blue-200 transition-all active:scale-95 flex items-center justify-center gap-2",children:[l.jsx(oi,{size:20})," Lu cu hnh"]}),l.jsxs("button",{onClick:H,className:"flex-none bg-white hover:bg-slate-50 text-slate-700 border border-slate-300 px-6 py-4 rounded-xl font-bold transition-all active:scale-95 flex items-center justify-center gap-2",children:[l.jsx(Gu,{size:20})," In th"]})]})]}),l.jsx("div",{className:"sticky top-6",children:l.jsxs("div",{className:"bg-slate-200/50 rounded-3xl p-6 flex flex-col items-center justify-center border border-slate-200 min-h-[600px] relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 pattern-dots opacity-5 pointer-events-none"}),l.jsx("div",{className:"mb-4 text-xs font-bold text-slate-400 uppercase tracking-widest bg-white/80 px-3 py-1 rounded-full backdrop-blur-sm shadow-sm z-10",children:"Xem trc ha n"}),l.jsx("div",{className:"z-10 transform transition-all duration-300 ease-out hover:scale-[1.02]",children:l.jsx(Ev,{store:a,settings:b,user:t})}),l.jsx("p",{className:"mt-8 text-[10px] text-slate-400 max-w-xs text-center",children:"* Hnh nh mang tnh cht tham kho. Ha n thc t c th khc i cht ty thuc vo my in ca bn."})]})})]})]}),y==="account"&&l.jsxs("div",{className:"space-y-6 max-w-lg",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-800 border-b pb-2",children:"Ti khon"}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[l.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"ang ng nhp:"}),l.jsxs("p",{className:"font-bold text-lg text-slate-900",children:[t==null?void 0:t.username," (",t==null?void 0:t.role,")"]})]}),l.jsxs("button",{onClick:e,className:"w-full bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 px-6 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[l.jsx("span",{className:"material-icons",children:"logout"})," ng xut khi thit b"]})]}),y==="einvoice"&&l.jsx("div",{className:"space-y-8 animate-fade-in",children:l.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-200",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:l.jsx(uf,{size:24})}),"Cu hnh VNPT-Invoice / Viettel S-Invoice"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nh cung cp"}),l.jsxs("select",{className:"w-full border-slate-300 rounded-xl px-4 py-3 bg-white focus:ring-2 focus:ring-blue-500 font-bold text-slate-600",children:[l.jsx("option",{value:"viettel",children:"Viettel S-Invoice"}),l.jsx("option",{value:"vnpt",children:"VNPT Invoice"}),l.jsx("option",{value:"bkav",children:"BKAV eHoadon"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mi trng"}),l.jsxs("select",{className:"w-full border-slate-300 rounded-xl px-4 py-3 bg-white focus:ring-2 focus:ring-blue-500 font-bold text-slate-600",children:[l.jsx("option",{value:"prod",children:"Production (Chnh thc)"}),l.jsx("option",{value:"sandbox",children:"Sandbox (Th nghim)"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"ng dn API (Base URL)"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"https://sinvoice.viettel.vn/api"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Tn ng nhp (Service Account)"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500",placeholder:"username_ws"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mt khu"}),l.jsx("input",{type:"password",className:"w-full border-slate-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-4 border-t border-slate-200 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mu s"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 text-center uppercase font-bold",placeholder:"1/001",defaultValue:"1/001"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"K hiu"}),l.jsx("input",{type:"text",className:"w-full border-slate-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 text-center uppercase font-bold",placeholder:"C25T...",defaultValue:"K26TBM"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"M c quan thu (Passcode)"}),l.jsx("input",{type:"password",className:"w-full border-slate-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 text-center",placeholder:""})]})]}),l.jsx("div",{className:"flex justify-end pt-6",children:l.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-black uppercase tracking-widest shadow-lg shadow-blue-200 active:scale-95 transition-all flex items-center gap-2",children:[l.jsx(oi,{size:20})," Lu & Kim tra kt ni"]})})]})]})})]})]})]})}function xN(){const[e,t]=M.useState("categories");return l.jsxs("div",{className:"h-[calc(100vh-theme(spacing.16))] flex flex-col p-6 overflow-hidden",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l Phn loi"}),l.jsx("p",{className:"text-slate-500 text-sm",children:"Qun l danh mc sn phm v thng hiu"})]})}),l.jsxs("div",{className:"flex gap-4 border-b border-slate-200 mb-6",children:[l.jsxs("button",{onClick:()=>t("categories"),className:`pb-3 px-4 font-bold flex items-center gap-2 transition-colors border-b-2 ${e==="categories"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[l.jsx(kp,{size:18})," Danh mc"]}),l.jsxs("button",{onClick:()=>t("brands"),className:`pb-3 px-4 font-bold flex items-center gap-2 transition-colors border-b-2 ${e==="brands"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[l.jsx(Qb,{size:18})," Thng hiu"]})]}),l.jsx("div",{className:"flex-1 overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:e==="categories"?l.jsx(pN,{}):l.jsx(gN,{})})]})}function pN(){const[e,t]=M.useState([]),[r,a]=M.useState(!1),[c,d]=M.useState(""),[x,y]=M.useState(""),w=async()=>{a(!0);try{const N=await Oe.get("/management/categories");t(N)}catch(N){console.error(N)}finally{a(!1)}};M.useEffect(()=>{w()},[]);const g=async N=>{if(N.preventDefault(),!!c)try{await Oe.post("/management/categories",{name:c,description:x}),d(""),y(""),w()}catch(A){alert("Li: "+A.message)}},b=async N=>{if(window.confirm("Xa danh mc ny?"))try{await Oe.delete(`/management/categories/${N}`),w()}catch{alert("Li xa danh mc")}};return l.jsxs("div",{className:"flex h-full",children:[l.jsx("div",{className:"flex-1 overflow-y-auto p-4 border-r border-slate-100",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-slate-50 sticky top-0 z-10 text-xs uppercase text-slate-500 font-bold",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 rounded-tl-lg",children:"Tn danh mc"}),l.jsx("th",{className:"p-3",children:"M t"}),l.jsx("th",{className:"p-3",children:"Sn phm"}),l.jsx("th",{className:"p-3 rounded-tr-lg text-right",children:"Hnh ng"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"p-4 text-center",children:"ang ti..."})}):e.map(N=>{var A;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-3 font-medium text-slate-800",children:N.name}),l.jsx("td",{className:"p-3 text-slate-500",children:N.description||"-"}),l.jsx("td",{className:"p-3 text-slate-500",children:l.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:((A=N._count)==null?void 0:A.products)||0})}),l.jsx("td",{className:"p-3 text-right",children:l.jsx("button",{onClick:()=>b(N.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",children:l.jsx(_p,{size:16})})})]},N.id)})})]})}),l.jsxs("div",{className:"w-80 bg-slate-50 p-6 border-l border-slate-200 flex flex-col gap-4",children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"Thm danh mc"}),l.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Tn danh mc *"}),l.jsx("input",{value:c,onChange:N=>d(N.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"V d:  ung",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"M t"}),l.jsx("textarea",{value:x,onChange:N=>y(N.target.value),className:"w-full p-2 border border-slate-300 rounded-lg h-24 resize-none focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"M t danh mc..."})]}),l.jsxs("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Ro,{size:18})," Thm Mi"]})]})]})]})}function gN(){const[e,t]=M.useState([]),[r,a]=M.useState(""),[c,d]=M.useState(!1),x=async()=>{d(!0);try{const w=await Oe.get("/management/brands");t(w)}catch(w){console.error(w)}finally{d(!1)}};M.useEffect(()=>{x()},[]);const y=async w=>{w.preventDefault();try{await Oe.post("/management/brands",{name:r}),a(""),x()}catch(g){alert("Li: "+g.message)}};return l.jsxs("div",{className:"flex h-full",children:[l.jsx("div",{className:"flex-1 overflow-y-auto p-4 border-r border-slate-100",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500 font-bold sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:"Tn Thng hiu"}),l.jsx("th",{className:"p-3",children:"Sn phm"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:"2",className:"p-4 text-center",children:"Loading..."})}):e.map(w=>{var g;return l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"p-3 font-medium",children:w.name}),l.jsx("td",{className:"p-3",children:l.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:((g=w._count)==null?void 0:g.products)||0})})]},w.id)})})]})}),l.jsxs("div",{className:"w-80 bg-slate-50 p-6 flex flex-col gap-4",children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"Thm thng hiu"}),l.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Tn thng hiu *"}),l.jsx("input",{value:r,onChange:w=>a(w.target.value),required:!0,placeholder:"V d: Coca Cola",className:"w-full p-2 border border-slate-300 rounded-lg outline-none focus:border-blue-500"})]}),l.jsxs("button",{className:"bg-blue-600 text-white font-bold py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[l.jsx(Ro,{size:18})," Thm Mi"]})]})]})]})}function mN(){const[e,t]=M.useState("create");return l.jsxs("div",{className:"h-full bg-[#f8fafc] flex flex-col p-6 lg:p-8 overflow-hidden gap-8 animate-fade-in",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Tr Hng & Hon Tin"}),l.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Qun l tr hng linh hot v khu tr cng n t ng"})]}),l.jsxs("div",{className:"bg-slate-200/50 p-1 rounded-2xl flex shadow-inner",children:[l.jsx("button",{onClick:()=>t("create"),className:`px-6 py-2.5 rounded-xl font-black text-[11px] uppercase tracking-widest transition-all ${e==="create"?"bg-white text-blue-600 shadow-xl shadow-slate-200":"text-slate-500 hover:text-slate-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(h3,{size:14})," To phiu mi"]})}),l.jsx("button",{onClick:()=>t("history"),className:`px-6 py-2.5 rounded-xl font-black text-[11px] uppercase tracking-widest transition-all ${e==="history"?"bg-white text-blue-600 shadow-xl shadow-slate-200":"text-slate-500 hover:text-slate-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(r0,{size:14})," Lch s tr"]})})]})]}),l.jsx("div",{className:"flex-1 min-h-0 bg-white rounded-[2.5rem] shadow-2xl shadow-slate-200/50 border border-slate-200/60 flex flex-col overflow-hidden",children:e==="create"?l.jsx(yN,{}):l.jsx(wN,{})})]})}function yN(){var L;const[e,t]=M.useState(""),[r,a]=M.useState(null),[c,d]=M.useState({}),[x,y]=M.useState(!1),[w,g]=M.useState(""),[b,N]=M.useState("CASH"),A=async j=>{if(j.preventDefault(),!!e){y(!0);try{const I=await We.getOrders({search:e,limit:1});I&&I.data&&I.data.length>0?(a(I.data[0]),d({})):(alert("Khng tm thy n hng"),a(null))}catch(I){console.error(I),alert("Li tm kim n hng")}finally{y(!1)}}},D=(j,I,T)=>{const U=parseInt(T)||0;U<0||U>I||d(H=>({...H,[j]:U}))},R=()=>r?r.items.reduce((j,I)=>{const T=c[I.productId]||0;return j+Number(I.price)*T},0):0,O=async()=>{const j=Object.entries(c).filter(([I,T])=>T>0).map(([I,T])=>({productId:parseInt(I),quantity:T}));if(j.length!==0&&window.confirm("Xc nhn hon tt th tc tr hng?")){y(!0);try{await Oe.post("/pos/refunds",{invoiceId:r.id,items:j,reason:w,refundMethod:b}),alert(" to phiu tr hng thnh cng!"),a(null),t(""),d({}),g("")}catch(I){alert("Li: "+I.message)}finally{y(!1)}}};return l.jsxs("div",{className:"flex h-full flex-col lg:flex-row",children:[l.jsxs("div",{className:"flex-1 flex flex-col border-r border-slate-100 min-w-0",children:[l.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30",children:l.jsxs("form",{onSubmit:A,className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Oo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{value:e,onChange:j=>t(j.target.value),placeholder:"Nhp m ha n gc (VD: INV-123456)",className:"w-full pl-12 pr-4 py-4 bg-white border border-slate-200 rounded-2xl outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 font-bold transition-all shadow-sm"})]}),l.jsx("button",{type:"submit",disabled:x,className:"bg-slate-900 text-white px-10 rounded-2xl font-black text-xs uppercase tracking-[0.2em] hover:bg-black transition-all shadow-xl shadow-slate-200 active:scale-95 disabled:opacity-50",children:x?"ang qut...":"Tm n"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-8 lg:p-10",children:r?l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(Fc,{icon:l.jsx(Ml,{size:18}),label:"M n hng",value:r.code,color:"blue"}),l.jsx(Fc,{icon:l.jsx(gr,{size:18}),label:"Khch hng",value:((L=r.customer)==null?void 0:L.name)||"Khch l",color:"purple"}),l.jsx(Fc,{icon:l.jsx(ao,{size:18}),label:"Thi im bn",value:new Date(r.createdAt).toLocaleString("vi-VN"),color:"slate"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"})," Danh sch mt hng h tr tr"]}),l.jsx("div",{className:"border border-slate-100 rounded-3xl overflow-hidden shadow-xl shadow-slate-100/50",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-slate-900 text-white text-[9px] font-black uppercase tracking-[0.2em]",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-5 text-left",children:"Sn phm"}),l.jsx("th",{className:"p-5 text-right",children:"n gi"}),l.jsx("th",{className:"p-5 text-center",children:" mua"}),l.jsx("th",{className:"p-5 text-center w-32",children:"S lng tr"}),l.jsx("th",{className:"p-5 text-right",children:"Hon li"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:r.items.map(j=>{var I,T;return l.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[l.jsxs("td",{className:"p-5",children:[l.jsx("div",{className:"font-bold text-slate-900",children:j.productName||((I=j.product)==null?void 0:I.name)||"Sn phm "+j.productId}),l.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mt-1 tracking-wider",children:((T=j.product)==null?void 0:T.barcode)||"No-Barcode"})]}),l.jsx("td",{className:"p-5 text-right font-medium text-slate-500",children:Number(j.price).toLocaleString()}),l.jsx("td",{className:"p-5 text-center font-bold text-slate-400",children:j.quantity}),l.jsx("td",{className:"p-5",children:l.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:[l.jsx("button",{onClick:()=>D(j.productId,j.quantity,(c[j.productId]||0)-1),className:"px-3 py-2 hover:bg-slate-50 text-slate-400 font-black",children:"-"}),l.jsx("input",{type:"number",min:"0",max:j.quantity,value:c[j.productId]||0,onChange:U=>D(j.productId,j.quantity,U.target.value),className:"w-full text-center outline-none font-black text-blue-600 py-2 border-x border-slate-100"}),l.jsx("button",{onClick:()=>D(j.productId,j.quantity,(c[j.productId]||0)+1),className:"px-3 py-2 hover:bg-slate-50 text-slate-400 font-black",children:"+"})]})}),l.jsx("td",{className:"p-5 text-right font-black text-rose-600 text-base",children:((c[j.productId]||0)*Number(j.price)).toLocaleString()})]},j.id)})})]})})]})]}):l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-40 py-20",children:[l.jsx("div",{className:"bg-slate-100 p-12 rounded-[3.5rem] mb-8",children:l.jsx(x3,{size:64,className:"text-slate-300"})}),l.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Sn sng tra cu"}),l.jsx("p",{className:"text-slate-500 font-medium text-sm mt-4 max-w-xs",children:"Nhp m ha n t khch hng cung cp  bt u thc hin th tc hon tr hng ha."})]})})]}),l.jsxs("div",{className:"w-full lg:w-[400px] bg-slate-50/50 p-8 lg:p-12 flex flex-col justify-between gap-10",children:[l.jsxs("div",{className:"space-y-10",children:[l.jsxs("header",{children:[l.jsx("h3",{className:"font-black text-slate-900 text-xl tracking-tight uppercase",children:"Thng tin hon tr"}),l.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mt-2 px-3 py-1 bg-blue-50 rounded-lg inline-block",children:["Khi to phiu RT-",Date.now().toString().slice(-4)]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"bg-white p-8 rounded-[2rem] border-2 border-blue-100 shadow-xl shadow-blue-100/30",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Tng tin hon tr"}),l.jsxs("div",{className:"flex items-end gap-2 text-blue-600",children:[l.jsx("span",{className:"text-5xl font-black tabular-nums leading-none",children:R().toLocaleString()}),l.jsx("span",{className:"text-xl font-bold mb-1 opacity-50 underline decoration-2 underline-offset-4",children:""})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-xs font-black text-slate-800 uppercase tracking-widest px-2",children:"Phng thc x l"}),l.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[l.jsx(kf,{active:b==="CASH",onClick:()=>N("CASH"),icon:l.jsx(n0,{size:18}),title:"Tin mt",desc:"Hon tr trc tip"}),l.jsx(kf,{active:b==="DEBT_DEDUCT",onClick:()=>N("DEBT_DEDUCT"),disabled:!(r!=null&&r.customerId),icon:l.jsx(r0,{size:18}),title:"Tr cng n",desc:"Gim n cho khch"})]}),!(r!=null&&r.customerId)&&l.jsx("p",{className:"text-[10px] text-rose-500 font-bold uppercase tracking-widest px-4 italic",children:"* Ch p dng cho khch thnh vin"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-xs font-black text-slate-800 uppercase tracking-widest px-2",children:"L do tr hng"}),l.jsx("textarea",{value:w,onChange:j=>g(j.target.value),className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] h-32 resize-none outline-none focus:ring-4 focus:ring-blue-500/5 focus:border-blue-300 font-medium text-sm transition-all",placeholder:"Ghi ch nguyn nhn tr hng..."})]})]})]}),l.jsx("button",{onClick:O,disabled:!r||R()===0||x,className:"w-full bg-blue-600 text-white font-black py-6 rounded-[2rem] uppercase tracking-[0.3em] text-xs shadow-2xl shadow-blue-200 hover:bg-blue-700 hover:scale-[1.02] active:scale-95 disabled:opacity-30 disabled:grayscale transition-all",children:x?"ang xc nhn...":"Xc Nhn Th Tc"})]})]})}function wN(){const[e,t]=M.useState([]),[r,a]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const d=await Oe.get("/pos/refunds");t(d||[])}catch(d){console.error(d)}finally{a(!1)}})()},[]),r?l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-slate-100 border-t-blue-500 rounded-full animate-spin"}),l.jsx("p",{className:"mt-4 text-slate-400 font-black uppercase text-[10px] tracking-widest",children:"ang ti lch s tr hng..."})]}):l.jsx("div",{className:"flex-1 overflow-y-auto p-8 lg:p-12",children:e.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30",children:[l.jsx(Ea,{size:80}),l.jsx("p",{className:"mt-6 font-black uppercase tracking-[0.3em] text-xs text-slate-900",children:"Cha c bn ghi tr hng no"})]}):l.jsx("div",{className:"border border-slate-100 rounded-[2.5rem] overflow-hidden shadow-2xl shadow-slate-100",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-slate-900 text-white text-[9px] font-black uppercase tracking-[0.2em] text-center",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-6 border-r border-slate-800",children:"M Phiu"}),l.jsx("th",{className:"p-6 border-r border-slate-800",children:"n Gc"}),l.jsx("th",{className:"p-6 text-left",children:"Khch Hng & L Do"}),l.jsx("th",{className:"p-6",children:"Sn phm"}),l.jsx("th",{className:"p-6 text-right",children:"Tng Hon"}),l.jsx("th",{className:"p-6 text-right",children:"Ngy To"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50 text-sm",children:e.map(c=>{var d,x,y,w;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[l.jsx("td",{className:"p-6 text-center",children:l.jsx("span",{className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-xl font-black text-[10px] uppercase shadow-sm",children:c.returnCode})}),l.jsx("td",{className:"p-6 text-center font-bold text-slate-400 group-hover:text-slate-900 transition-colors",children:(d=c.invoice)==null?void 0:d.code}),l.jsxs("td",{className:"p-6",children:[l.jsx("div",{className:"font-extrabold text-slate-800",children:((y=(x=c.invoice)==null?void 0:x.customer)==null?void 0:y.name)||"Khch l"}),l.jsx("div",{className:"text-[11px] text-slate-400 mt-1 max-w-xs italic leading-relaxed",children:c.reason||"Khng c ghi ch l do"})]}),l.jsx("td",{className:"p-6 text-center",children:l.jsxs("div",{className:"inline-flex items-center gap-2 bg-slate-100 px-3 py-1.5 rounded-xl font-black text-[10px] uppercase text-slate-500",children:[l.jsx(Ea,{size:12})," ",((w=c.items)==null?void 0:w.length)||0," SP"]})}),l.jsx("td",{className:"p-6 text-right font-black text-rose-600 text-lg tabular-nums",children:Number(c.totalAmount).toLocaleString()}),l.jsx("td",{className:"p-6 text-right font-bold text-slate-400 text-xs uppercase tracking-tighter",children:l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{children:new Date(c.createdAt).toLocaleDateString("vi-VN")}),l.jsx("span",{className:"text-[10px] opacity-40",children:new Date(c.createdAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]})})]},c.id)})})]})})})}const Fc=({icon:e,label:t,value:r,color:a})=>{const c={blue:"text-blue-600 bg-blue-50/50 border-blue-100",purple:"text-purple-600 bg-purple-50/50 border-purple-100",slate:"text-slate-600 bg-slate-50/50 border-slate-100"};return l.jsxs("div",{className:`p-6 rounded-3xl border flex flex-col gap-3 group transition-all hover:scale-[1.05] shadow-sm hover:shadow-xl ${c[a]}`,children:[l.jsxs("div",{className:"flex justify-between items-center text-slate-400 group-hover:text-current transition-colors",children:[l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:t}),e]}),l.jsx("div",{className:"font-black text-slate-900 truncate",children:r})]})},kf=({active:e,onClick:t,disabled:r,icon:a,title:c,desc:d})=>l.jsxs("button",{disabled:r,onClick:t,className:`flex items-center gap-4 p-5 rounded-[2rem] border-2 text-left transition-all ${e?"border-blue-600 bg-blue-50/30 shadow-lg shadow-blue-100":"border-white bg-white hover:border-slate-100"} ${r?"opacity-30 grayscale cursor-not-allowed":"cursor-pointer"}`,children:[l.jsx("div",{className:`p-4 rounded-2xl ${e?"bg-blue-600 text-white shadow-lg":"bg-slate-50 text-slate-400"}`,children:a}),l.jsxs("div",{children:[l.jsx("div",{className:`font-black uppercase text-[10px] tracking-widest ${e?"text-blue-600":"text-slate-900"}`,children:c}),l.jsx("div",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase tracking-tighter",children:d})]})]}),bN=[{title:"Tng quan",items:[{path:"/dashboard",label:"Dashboard",icon:a3}]},{title:"Giao dch",items:[{path:"/pos",label:"Bn hng (POS)",icon:jp},{path:"/orders",label:"Lch s n hng",icon:Hu},{path:"/refunds",label:"Tr hng & Hon tin",icon:r0,feature:"refunds"}]},{title:"Hng ha",items:[{path:"/inventory",label:"Sn phm",icon:Ea},{path:"/categories",label:"Danh mc & Brand",icon:kp,feature:"inventory_advanced"}]},{title:"Bo co",items:[{path:"/report",label:"Bo co thu & Doanh thu",icon:Ap,feature:"reports"}]},{title:"H thng",items:[{path:"/logs",label:"Nht k h thng",icon:Ip,feature:"logs"},{path:"/settings",label:"Ci t",icon:p3}]}];function vN(){const e=ks(),{logout:t,user:r}=Ci(),{shopName:a,logoUrl:c,address:d}=Sp(),{hasFeature:x}=a0(),y=_s(),w=()=>{t(),y("/login")};return l.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-slate-900 h-screen fixed left-0 top-0 text-white shadow-xl z-50",children:[l.jsxs("div",{className:"p-6 border-b border-slate-800 flex items-center gap-3",children:[c?l.jsx("img",{src:c,alt:"Logo",className:"w-10 h-10 rounded-md object-contain bg-white",onError:g=>{g.target.style.display="none",g.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/50 ${c?"hidden":"flex"}`,children:l.jsx(jp,{size:24,className:"text-white"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h1",{className:"font-bold text-xl tracking-wide truncate",title:a||"POS Pro",children:a||"POS Pro"}),l.jsx("p",{className:"text-xs text-slate-400 font-medium truncate",title:d||"Store Manager",children:d||"Store Manager"})]})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-6",children:bN.map((g,b)=>l.jsxs("div",{children:[l.jsx("h3",{className:"px-4 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:g.title}),l.jsx("div",{className:"space-y-1",children:g.items.map(N=>{const A=N.icon,D=e.pathname===N.path,R=N.feature&&!x(N.feature);return l.jsxs(aw,{to:R?"#":N.path,onClick:O=>R&&O.preventDefault(),className:`flex items-center justify-between gap-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${R?"opacity-50 cursor-not-allowed grayscale":""} ${D?"bg-blue-600 text-white shadow-md shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(A,{size:20,className:D?"animate-pulse":""}),l.jsx("span",{children:N.label})]}),R&&l.jsxs("div",{className:"flex items-center gap-1 bg-amber-500/20 text-amber-500 px-1.5 py-0.5 rounded text-[10px] font-black uppercase",children:[l.jsx(sa,{size:10})," PRO"]})]},N.path)})})]},b))}),l.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-slate-300",children:l.jsx(gr,{size:20})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-bold truncate text-white",children:(r==null?void 0:r.fullName)||"Admin"}),l.jsx("p",{className:"text-xs text-slate-500 truncate",children:(r==null?void 0:r.role)||"Store Owner"})]})]}),l.jsxs("button",{onClick:w,className:"flex w-full items-center justify-center gap-2 bg-slate-800 hover:bg-red-600/90 text-slate-300 hover:text-white py-2.5 rounded-lg transition-all duration-300 text-sm font-medium group",children:[l.jsx(o3,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),"ng xut"]})]})]})}const NN=()=>{const e=_s(),[t,r]=M.useState([]),[a,c]=M.useState(!0),[d,x]=M.useState(1),[y,w]=M.useState(1),[g,b]=M.useState(""),[N,A]=M.useState({start:"",end:""});M.useEffect(()=>{D()},[d,g,N]);const D=async()=>{try{c(!0);const L={page:d,limit:20,action:g,startDate:N.start,endDate:N.end},j=await We.getLogs(L);r(j.data),w(j.meta.totalPages)}catch(L){console.error("Fetch logs error:",L)}finally{c(!1)}},R=L=>{switch(L){case"CREATE":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"UPDATE":return"bg-blue-100 text-blue-700 border-blue-200";case"DELETE":return"bg-rose-100 text-rose-700 border-rose-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},O=(L,j)=>{if(!L&&!j)return null;try{const I=L?JSON.parse(L):{},T=j?JSON.parse(j):{};return l.jsxs("div",{className:"text-xs font-mono space-y-1",children:[L&&l.jsxs("div",{className:"text-rose-600 line-through truncate max-w-xs",title:L,children:["Prev: ",JSON.stringify(I).substring(0,50),"..."]}),j&&l.jsxs("div",{className:"text-emerald-600 truncate max-w-xs",title:j,children:["New: ",JSON.stringify(T).substring(0,50),"..."]})]})}catch{return l.jsx("span",{className:"text-xs text-slate-400",children:"Data error"})}};return l.jsx("div",{className:"min-h-screen bg-[#f8fafc] p-6 lg:p-10",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-fade-in-up",children:[l.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>e(-1),className:"p-3 bg-white hover:bg-slate-50 border border-slate-200 rounded-2xl shadow-sm transition-all text-slate-500 hover:text-blue-600",children:l.jsx(Wb,{size:20})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-black text-slate-900 tracking-tight flex items-center gap-3",children:[l.jsx(Ip,{className:"text-rose-500",size:32}),"Nht K H Thng"]}),l.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:"Truy vt mi hot ng thay i d liu nhy cm"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-white p-4 rounded-3xl border border-slate-100 shadow-sm",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Oo,{className:"absolute left-4 top-3.5 text-slate-400",size:18}),l.jsxs("select",{value:g,onChange:L=>b(L.target.value),className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-none rounded-2xl text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-100",children:[l.jsx("option",{value:"",children:"Tt c hnh ng"}),l.jsx("option",{value:"UPDATE",children:"Cp nht (Update)"}),l.jsx("option",{value:"DELETE",children:"Xa (Delete)"}),l.jsx("option",{value:"CREATE",children:"To mi (Create)"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ao,{className:"absolute left-4 top-3.5 text-slate-400",size:18}),l.jsx("input",{type:"date",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-none rounded-2xl text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-100",onChange:L=>A({...N,start:L.target.value})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ao,{className:"absolute left-4 top-3.5 text-slate-400",size:18}),l.jsx("input",{type:"date",className:"w-full pl-11 pr-4 py-3 bg-slate-50 border-none rounded-2xl text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-100",onChange:L=>A({...N,end:L.target.value})})]})]}),l.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100 text-xs uppercase tracking-wider text-slate-500 font-black",children:[l.jsx("th",{className:"p-6",children:"Thi gian"}),l.jsx("th",{className:"p-6",children:"Ngi thc hin"}),l.jsx("th",{className:"p-6 text-center",children:"Hnh ng"}),l.jsx("th",{className:"p-6",children:"i tng"}),l.jsx("th",{className:"p-6",children:"Chi tit thay i"}),l.jsx("th",{className:"p-6",children:"IP / Thit b"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:a?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-20 text-center text-slate-400 animate-pulse font-bold",children:"ang ti d liu..."})}):t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-20 text-center text-slate-400 font-bold",children:"Cha c nht k no"})}):t.map(L=>{var j,I;return l.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[l.jsx("td",{className:"p-6 font-bold text-slate-700 text-sm whitespace-nowrap",children:new Date(L.createdAt).toLocaleString("vi-VN")}),l.jsx("td",{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:l.jsx(gr,{size:14})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-slate-800 text-sm",children:((j=L.user)==null?void 0:j.fullName)||"H thng"}),l.jsxs("div",{className:"text-xs text-slate-400 font-medium",children:["@",((I=L.user)==null?void 0:I.username)||"system"]})]})]})}),l.jsx("td",{className:"p-6 text-center",children:l.jsx("span",{className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest border ${R(L.action)}`,children:L.action})}),l.jsxs("td",{className:"p-6",children:[l.jsx("span",{className:"font-bold text-slate-700 block",children:L.entity}),l.jsxs("span",{className:"text-xs font-mono text-slate-400",children:["ID: ",L.entityId]})]}),l.jsx("td",{className:"p-6 min-w-[300px]",children:O(L.oldData,L.newData)}),l.jsxs("td",{className:"p-6 text-xs text-slate-500 font-medium max-w-[150px] truncate",children:[l.jsxs("div",{children:["IP: ",L.ipAddress]}),l.jsx("div",{className:"truncate text-[10px] text-slate-400",children:L.device})]})]},L.id)})})]})}),l.jsxs("div",{className:"p-6 border-t border-slate-100 flex justify-between items-center bg-slate-50/50",children:[l.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:["Trang ",d," / ",y]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{disabled:d===1,onClick:()=>x(d-1),className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-black uppercase text-slate-600 disabled:opacity-50 hover:bg-slate-50 transition-all",children:"Trc"}),l.jsx("button",{disabled:d===y,onClick:()=>x(d+1),className:"px-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-black uppercase text-slate-600 disabled:opacity-50 hover:bg-slate-50 transition-all",children:"Sau"})]})]})]})]})})};function CN(){return l.jsxs("div",{className:"flex min-h-screen bg-slate-50 font-sans",children:[l.jsx(vN,{}),l.jsxs("div",{className:"flex-1 md:ml-64 min-w-0 transition-all duration-300",children:[l.jsx(zp,{}),l.jsx(Yy,{})]})]})}const EN=()=>{const{user:e,loading:t}=Ci();return t?l.jsx("div",{className:"flex h-screen items-center justify-center",children:"ang ti..."}):e?l.jsx(CN,{}):l.jsx(Ou,{to:"/login",replace:!0})};function SN(){return l.jsxs(Qy,{children:[l.jsx(Qt,{path:"/login",element:l.jsx(w3,{})}),l.jsxs(Qt,{element:l.jsx(EN,{}),children:[l.jsx(Qt,{path:"/",element:l.jsx(Ou,{to:"/pos",replace:!0})}),l.jsx(Qt,{path:"/pos",element:l.jsx(Ub,{children:l.jsx(lv,{})})}),l.jsx(Qt,{path:"/dashboard",element:l.jsx(cv,{})}),l.jsx(Qt,{path:"/inventory",element:l.jsx(uv,{})}),l.jsx(Qt,{path:"/categories",element:l.jsx(xN,{})})," ",l.jsx(Qt,{path:"/orders",element:l.jsx(dv,{})}),l.jsx(Qt,{path:"/refunds",element:l.jsx(mN,{})})," ",l.jsx(Qt,{path:"/debts",element:l.jsx(hv,{})}),l.jsx(Qt,{path:"/report",element:l.jsx(xv,{})}),l.jsx(Qt,{path:"/logs",element:l.jsx(NN,{})}),l.jsx(Qt,{path:"/settings",element:l.jsx(fN,{})})]}),l.jsx(Qt,{path:"*",element:l.jsx(Ou,{to:"/",replace:!0})})]})}function AN(){return l.jsx(rw,{basename:"/cuahangtaphoa/",children:l.jsx(Pb,{children:l.jsx(zb,{children:l.jsx(SN,{})})})})}Uc.createRoot(document.getElementById("root")).render(l.jsx(zf.StrictMode,{children:l.jsx(AN,{})}));
